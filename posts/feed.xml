<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on Die wunderbare Welt von Isotopp</title>
    <link>https://blog.koehntopp.info/posts/</link>
    <description>Recent content in Posts on Die wunderbare Welt von Isotopp</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <managingEditor>kris-blog@koehntopp.de (Kristian KÃ¶hntopp)</managingEditor>

    
    <webMaster>kris-blog@koehntopp.de (Kristian KÃ¶hntopp)</webMaster>

    
    <lastBuildDate>Tue, 03 Feb 2026 17:42:44 +0000</lastBuildDate><atom:link href="https://blog.koehntopp.info/posts/feed.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>BOFHLE revisited</title>
      <link>https://blog.koehntopp.info/2026/02/03/bofhle-revisited/</link>
      <pubDate>Tue, 03 Feb 2026 05:06:07 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian KÃ¶hntopp)</author>

      <guid>https://blog.koehntopp.info/2026/02/03/bofhle-revisited/</guid>
      <description>&lt;p&gt;After the
&lt;a href=&#34;https://blog.koehntopp.info/2026/01/14/bofhle/&#34;&gt;BOFHLE&lt;/a&gt;


article I wondered if the game can always be solved with the limit of 6 guesses.&lt;/p&gt;
&lt;p&gt;So I wrote some &lt;a href=&#34;https://github.com/isotopp/bofhle&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Python code&lt;/a&gt;

 to solve the game.
We are using the same
&lt;a href=&#34;https://github.com/isotopp/bofhle/blob/main/src/bofhle/bofhle.py#L56-L64&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;code&gt;score_word()&lt;/code&gt;&lt;/a&gt;


function as before, and then implement the guessing strategy we laid out in the previous article.&lt;/p&gt;
&lt;p&gt;This is
&lt;a href=&#34;https://github.com/isotopp/bofhle/blob/main/src/bofhle/bofhle.py#L67-L68&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;code&gt;suggest_top()&lt;/code&gt;&lt;/a&gt;


in the codebase.&lt;/p&gt;
&lt;h1 id=&#34;example-session&#34;&gt;
    &lt;a href=&#34;#example-session&#34;&gt;
	Example session
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Let&amp;rsquo;s choose &lt;code&gt;pkill&lt;/code&gt; as the secret to guess.
Initializing a new session:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;kk:bofhle kris$ uv run bofhle --reset
New session started.
guess  result
Candidates remaining: 338
Next guesses:
 569 paste
 569 tapes
 553 strip
 546 parec
 543 oscap
 541 ports
 540 plser
 536 pargs
 535 split
 533 lsipc
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The output is the list of valid candidate solutions, scored.
Since this is a new game, all 338 solutions are in play, and &lt;code&gt;paste&lt;/code&gt; is the best guess.&lt;/p&gt;
&lt;p&gt;So we guess &lt;code&gt;paste&lt;/code&gt; and comparing to &lt;code&gt;pkill&lt;/code&gt; we get &lt;code&gt;gbbbb&lt;/code&gt; (&lt;code&gt;p&lt;/code&gt; matches, and the letters &lt;code&gt;aste&lt;/code&gt; are unused).
The codes are &lt;code&gt;g&lt;/code&gt; for green (letter is used and in this position),
&lt;code&gt;y&lt;/code&gt; for yellow (letter is used but in a different position), and &lt;code&gt;b&lt;/code&gt; for black (letter is not used).&lt;/p&gt;
&lt;p&gt;We tell the code that:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;kk:bofhle kris$ uv run bofhle --guess paste --result gbbbb
guess  result
paste  ğŸŸ©â¬›â¬›â¬›â¬›
Candidates remaining: 14
Next guesses:
  38 pidof
  38 pinky
  38 pkmon
  37 pkcon
  35 pkgrm
  34 pbind
  34 pkill
  34 pydoc
  32 pdiff
  32 proxy
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The code is keeping state in a small sqlite database in $HOME:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;kk:bofhle kris$ ls -l ~/.bofhle.db
-rw-r--r--  1 kris  staff  12288 Feb  3 17:59 /Users/kris/.bofhle.db
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The database is used to keep track of the game state, previous guesses and results.&lt;/p&gt;
&lt;p&gt;We can see the code has filtered the list of candidate solutions based on the previous guess and result.
The next best guess is &lt;code&gt;pidof&lt;/code&gt;, which has the highest score, but &lt;code&gt;pkill&lt;/code&gt; is also in the list.&lt;/p&gt;
&lt;p&gt;This is the &lt;code&gt;--strategy most-likely&lt;/code&gt;, the default strategy.&lt;/p&gt;
&lt;h2 id=&#34;coverage-strategy&#34;&gt;
    &lt;a href=&#34;#coverage-strategy&#34;&gt;
	Coverage strategy
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;There is a second strategy, &lt;code&gt;--strategy coverage&lt;/code&gt;, that can best be used for a second guess.
It will try all remaining candidate words and will tell us, assuming that word is &lt;code&gt;bbbbb&lt;/code&gt;,
how many valid solutions will be left.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;kk:bofhle kris$ uv run bofhle --strategy coverage
guess  result
paste  ğŸŸ©â¬›â¬›â¬›â¬›
Candidates remaining: 14
Next guesses (min remaining if bbbbb):
   0 pbind
   0 pdiff
   0 pidof
   0 pinky
   0 pkcon
   0 pkgmk
   0 pkgrm
   0 pkill
   0 pkmon
   0 plgrp
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;So any of &lt;code&gt;pbind&lt;/code&gt; and friends will close the game, if they would come back &lt;code&gt;bbbbb&lt;/code&gt; (&lt;code&gt;pkill&lt;/code&gt; for example won&amp;rsquo;t,
it&amp;rsquo;s the secret solution, after all).&lt;/p&gt;
&lt;h2 id=&#34;second-guess&#34;&gt;
    &lt;a href=&#34;#second-guess&#34;&gt;
	Second guess
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Let&amp;rsquo;s go with &lt;code&gt;--strategy most-likely&lt;/code&gt;&amp;rsquo;s recommendation of &lt;code&gt;pidof&lt;/code&gt; as a guess:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;kk:bofhle kris$ uv run bofhle --guess pidof --result gybbb
guess  result
paste  ğŸŸ©â¬›â¬›â¬›â¬›
pidof  ğŸŸ©ğŸŸ¨â¬›â¬›â¬›
Candidates remaining: 2
Next guesses:
   8 pkill
   7 ppriv
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Now the next (third) guess of &lt;code&gt;pkill&lt;/code&gt; will close the game.&lt;/p&gt;
&lt;h1 id=&#34;playing-all-possible-games-most-likely&#34;&gt;
    &lt;a href=&#34;#playing-all-possible-games-most-likely&#34;&gt;
	Playing all possible games (&lt;code&gt;most-likely&lt;/code&gt;)
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;There are 338 possible solutions,
and we can play the game 338 times with the &lt;code&gt;most-likely&lt;/code&gt; strategy and record the success paths:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;kk:bofhle kris$ uv run bofhle --test
secret=acpid guesses=3 path=paste idmap acpid
secret=alias guesses=3 path=paste fsadm alias
secret=amidi guesses=3 path=paste rmail amidi
...
secret=zmore guesses=3 path=paste xmore zmore
secret=zpool guesses=3 path=paste gzcmp zpool

Summary
Games: 338
Best: 1 guesses
Worst: 6 guesses
Histogram (guesses -&amp;gt; games):
  1 -&amp;gt; 1
  2 -&amp;gt; 74
  3 -&amp;gt; 190
  4 -&amp;gt; 63
  5 -&amp;gt; 8
  6 -&amp;gt; 2
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;So one game (&lt;code&gt;paste&lt;/code&gt;) ends with one guess, 74 games require two guesses, 190 games require three guesses,
63 games require four guesses, 8 games require five guesses, and 2 games require six guesses.&lt;/p&gt;
&lt;p&gt;The 8 games with five guesses are&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;kk:bofhle kris$ grep =5 bofhle.log
secret=ckuid guesses=5 path=paste minfo blkid ckgid ckuid
secret=ggrep guesses=5 path=paste fgrep zgrep egrep ggrep
secret=nstat guesses=5 path=paste ctags jstat kstat nstat
secret=vwebp guesses=5 path=paste fgrep cwebp dwebp vwebp
secret=xkill guesses=5 path=paste minfo blkid gkill xkill
secret=xzcat guesses=5 path=paste lzcat bzcat gzcat xzcat
secret=xzcmp guesses=5 path=paste gzcmp bzcmp lzcmp xzcmp
secret=zdiff guesses=5 path=paste minfo bdiff gdiff zdiff
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The two games with 6 guesses are&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;kk:bofhle kris$ grep =6 bofhle.log
secret=rgrep guesses=6 path=paste fgrep zgrep egrep ggrep rgrep
secret=ustat guesses=6 path=paste ctags jstat kstat nstat ustat
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;and all games are strategically solvable in six guesses or less with the &lt;code&gt;most-likely&lt;/code&gt; strategy.&lt;/p&gt;
&lt;p&gt;The full results of all playable games are recorded in
&lt;a href=&#34;https://github.com/isotopp/bofhle/blob/main/bofhle.log&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;code&gt;bofhle.log&lt;/code&gt;&lt;/a&gt;

.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>BOFHLE</title>
      <link>https://blog.koehntopp.info/2026/01/14/bofhle/</link>
      <pubDate>Wed, 14 Jan 2026 05:06:07 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian KÃ¶hntopp)</author>

      <guid>https://blog.koehntopp.info/2026/01/14/bofhle/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://sysarmy.com/bofhle/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;BOFHLE&lt;/a&gt;

 is a game of wordle with Unix commands.
That is, you get to guess a 5-letter Unix command in six tries or fewer.
After each try you get a hint:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;black: the letter is not present in the secret command.&lt;/li&gt;
&lt;li&gt;yellow: the letter is present, but not in this position.&lt;/li&gt;
&lt;li&gt;green: the letter is present and in this position.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;list-of-commands&#34;&gt;
    &lt;a href=&#34;#list-of-commands&#34;&gt;
	List of commands
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;The set of commands is not Linux-specific, and when you make a list of all installable commands in RedHat
and grab the list of commands from &lt;a href=&#34;https://sysarmy.com/bofhle/wordle.js&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;wordle.js&lt;/a&gt;

 and compare,
the overlap is at best 2/3.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dnf repoquery --available -l  2&amp;gt;/dev/null &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep -E &lt;span class=&#34;s1&#34;&gt;&amp;#39;(bin|exec)&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sed -e &lt;span class=&#34;s1&#34;&gt;&amp;#39;s#.*/##&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;grep -E &lt;span class=&#34;s1&#34;&gt;&amp;#39;^[a-zA-Z]{5}$&amp;#39;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sort -u &amp;gt; cmds.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;But when we compare &lt;code&gt;cmds.txt&lt;/code&gt; with &lt;code&gt;bofhle.txt&lt;/code&gt; (generated from wordle.js),
we get:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ wc -l *txt
1104 cmds.txt 
338 bofhle.txt
...
$ join -v 2 cmds.txt bofhle.txt  | wc -l
126
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;So there are 126 commands in their list that are not in our list.
Well, the goal is to solve the game, so let&amp;rsquo;s just use their list.&lt;/p&gt;
&lt;h1 id=&#34;best-start-word&#34;&gt;
    &lt;a href=&#34;#best-start-word&#34;&gt;
	Best start word
    &lt;/a&gt;
&lt;/h1&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;ch&#34;&gt;#! /usr/bin/env python3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ./count.py&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;sys&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;collections&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Counter&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pprint&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pprint&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;score_word&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;score&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;letter_counts&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ch&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ch&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#    print(f&amp;#34;{w=} {score=}&amp;#34;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;score&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;lines&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;stdin&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;readlines&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;lines&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;strip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;lines&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;lines&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;str&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lower&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;lines&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;lines&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lines&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;letter_counts&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;Counter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lines&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#for c, n in letter_counts.most_common():&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#    print(c,n)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;scored&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;score_word&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;w&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;w&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;lines&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;scored&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;key&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;lambda&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;pprint&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;scored&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;9&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We read &lt;code&gt;sys.stdin&lt;/code&gt; with &lt;code&gt;readlines()&lt;/code&gt; and get a list of lines.
They need to be changed to lowercase and stripped, so we map the &lt;code&gt;str&lt;/code&gt; methods of this name on them.
This yields an iterator, which we materialize (&lt;code&gt;lines = list(lines)&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;We then use &lt;code&gt;collections.Counter&lt;/code&gt; to count the letter frequencies of all words.&lt;/p&gt;
&lt;p&gt;We assign a score to each word: For the &lt;code&gt;set()&lt;/code&gt; of the words letters (eliminating duplicates)
we assign the sum of the letter frequencies as the word score.&lt;/p&gt;
&lt;p&gt;We sort that and print the top 10.&lt;/p&gt;
&lt;p&gt;Best start words:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ cat bofhle.txt | ./count.py
[(569, &amp;#39;paste&amp;#39;),
 (569, &amp;#39;tapes&amp;#39;),
 (553, &amp;#39;strip&amp;#39;),
 (546, &amp;#39;parec&amp;#39;),
 (543, &amp;#39;oscap&amp;#39;),
 (541, &amp;#39;ports&amp;#39;),
 (540, &amp;#39;plser&amp;#39;),
 (536, &amp;#39;pargs&amp;#39;),
 (535, &amp;#39;split&amp;#39;)]
&lt;/code&gt;&lt;/pre&gt;&lt;h1 id=&#34;guessing&#34;&gt;
    &lt;a href=&#34;#guessing&#34;&gt;
	Guessing
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Starting with &lt;code&gt;paste&lt;/code&gt; we get &amp;ldquo;â¬œâ¬œâ¬œâ¬œğŸŸ¨&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;I am using this to exclude things:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# grep e wordle-cmds | grep -Ev [past] | ./count.py
[(58, &amp;#39;gcore&amp;#39;),
 (56, &amp;#39;xmore&amp;#39;),
 (56, &amp;#39;zmore&amp;#39;),
 (53, &amp;#39;gchem&amp;#39;),
 (51, &amp;#39;gecho&amp;#39;),
 (48, &amp;#39;gnice&amp;#39;),
 (47, &amp;#39;rygel&amp;#39;),
 (46, &amp;#39;gznew&amp;#39;),
 (45, &amp;#39;chmem&amp;#39;)]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I could and should also have &lt;code&gt;grep -v &amp;quot;e$&amp;quot;&lt;/code&gt;, but I did not stop to think.
Next guess, &lt;code&gt;gcore&lt;/code&gt;.
I get &amp;ldquo;ğŸŸ©â¬œâ¬œâ¬œğŸŸ¨&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;We can additionally eliminate &lt;code&gt;cor&lt;/code&gt;, and we know &lt;code&gt;^g&lt;/code&gt;.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;# grep e wordle-cmds | grep -Ev [pastcor] | grep &amp;#34;^g&amp;#34; | ./count.py
[(13, &amp;#39;gznew&amp;#39;), (11, &amp;#39;gneqn&amp;#39;), (10, &amp;#39;gzexe&amp;#39;)]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Ok, &lt;code&gt;gznew&lt;/code&gt; it is: &amp;ldquo;ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;The best result is that I never again have to play this.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>pysembr</title>
      <link>https://blog.koehntopp.info/2025/12/20/pysembr/</link>
      <pubDate>Sat, 20 Dec 2025 05:06:07 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian KÃ¶hntopp)</author>

      <guid>https://blog.koehntopp.info/2025/12/20/pysembr/</guid>
      <description>&lt;p&gt;With the 2025.3 release, JetBrains retired the Gracie Pro Plugin, a tool that until recently provided,
among other features, the option to apply structural wrapping to a file.
For natural languages
this feature automatically applied formatting rules similar to &lt;a href=&#34;https://www.sembr.org&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;SemBr&lt;/a&gt;

.
SemBr helps writers by inserting line breaks at semantic boundaries rather than simply at arbitrary character counts,
which keeps prose easier to edit and track changes in version control systems.
SemBr is especially useful for Markdown content such as blog posts
where readable plain text and consistent formatting are both important.&lt;/p&gt;
&lt;p&gt;Losing the Gracie Pro Pluginâ€™s functionality left a gap in my workflow.
I needed a tool that can format the Markdown in blog articles in something that is roughly like SemBr.
So I had to write my own: &lt;a href=&#34;https://github.com/isotopp/pysembr.git&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;pysembr&lt;/a&gt;

,
a Python-based tool applies structural wrapping to natural language text.
Using &lt;code&gt;uv&lt;/code&gt; it is easy to install and use.&lt;/p&gt;
&lt;h1 id=&#34;what-pysembr-does&#34;&gt;
    &lt;a href=&#34;#what-pysembr-does&#34;&gt;
	What pysembr Does
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;pysembr&lt;/code&gt; reads your plain text or Markdown files and adds line breaks at the end of each sentence.
Editing such a file later will produce clear diffs, because git looks at line structures.&lt;/p&gt;
&lt;p&gt;If a sentence is too long for a line, &lt;code&gt;pysembr&lt;/code&gt; will try to break at &amp;ldquo;,&amp;rdquo;.
If that still isn&amp;rsquo;t sufficient, it will look at language specific break words, and optionally at conjunctions.&lt;/p&gt;
&lt;p&gt;So we offer:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;ldquo;Semantic&amp;rdquo; line wrapping for natural language text.&lt;/li&gt;
&lt;li&gt;Markdown-aware processing that respects lists, headings, and other structural elements.&lt;/li&gt;
&lt;li&gt;Command-line interface for easy integration into scripts and build pipelines.&lt;/li&gt;
&lt;li&gt;Lightweight and Python-native, making it easy to adapt or extend for custom use.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;how-to-use-it&#34;&gt;
    &lt;a href=&#34;#how-to-use-it&#34;&gt;
	How to Use It
    &lt;/a&gt;
&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Have &lt;code&gt;uv&lt;/code&gt; installed.&lt;/li&gt;
&lt;li&gt;Clone the repository: &lt;code&gt;git clone https://github.com/isotopp/pysembr.git&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Load the dependencies: &lt;code&gt;uv sync&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Run it with &lt;code&gt;uv&lt;/code&gt;: &lt;code&gt;uv run pysembr --help&lt;/code&gt; or install it as a tool: &lt;code&gt;uv tool install .&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If you run it as a tool, add &lt;code&gt;uv tool dir --bin&lt;/code&gt; to the PATH in your shell:&lt;/p&gt;
&lt;p&gt;For example:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;pysembr input.md -o output.md
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This command reads &lt;code&gt;input.md&lt;/code&gt;, applies semantic line wrapping, and writes the formatted output to &lt;code&gt;output.md&lt;/code&gt;.
More usage examples can be found in the &lt;code&gt;README.md&lt;/code&gt;.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>MySQL: Flag Codes from Country Codes</title>
      <link>https://blog.koehntopp.info/2025/09/05/mysql-flag-codes-from-country-codes/</link>
      <pubDate>Fri, 05 Sep 2025 05:06:07 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian KÃ¶hntopp)</author>

      <guid>https://blog.koehntopp.info/2025/09/05/mysql-flag-codes-from-country-codes/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/Regional_indicator_symbol&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Regional Indicator Symbols&lt;/a&gt;


in Unicode are the codes starting at &lt;code&gt;U+1F1E6 &lt;/code&gt; to &lt;code&gt;U+1F1FF&lt;/code&gt;.
If you combine two of them in a valid &lt;a href=&#34;https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ISO-3166-1 alpha-2&lt;/a&gt;

 codes,
they produce the flag corresponding to that code.&lt;/p&gt;
&lt;p&gt;We want a function &lt;code&gt;flag_emoji()&lt;/code&gt; that takes such a two-letter code and emits the appropriate Unicode codepoint:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;SELECT flag_emoji(&amp;#39;GB&amp;#39;) AS gb, flag_emoji(&amp;#39;us&amp;#39;) AS us, flag_emoji(&amp;#39;de&amp;#39;) AS de \G
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;gb: ğŸ‡¬ğŸ‡§
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;us: ğŸ‡ºğŸ‡¸
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;de: ğŸ‡©ğŸ‡ª
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;1 row in set (0.00 sec)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;mysql&#34;&gt;
    &lt;a href=&#34;#mysql&#34;&gt;
	MySQL
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;For that, we define a helper function &lt;code&gt;unichar()&lt;/code&gt; that makes us a Unicode character from a codepoint (&lt;code&gt;INT&lt;/code&gt;),
using the Unicode algorithm and &lt;code&gt;UNHEX()&lt;/code&gt; plus &lt;code&gt;CONVERT()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-mysql&#34; data-lang=&#34;mysql&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;-- Make sure your session speaks utf8mb4
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;SET&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;NAMES&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utf8mb4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;-- helper: convert a Unicode code point to a utf8mb4 string using raw bytes
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;DELIMITER&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;DROP&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;FUNCTION&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;IF&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;EXISTS&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;unichar&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;CREATE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;FUNCTION&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;unichar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cp&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;INT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;RETURNS&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;VARCHAR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kp&#34;&gt;CHARSET&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utf8mb4&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;DETERMINISTIC&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;BEGIN&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;DECLARE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;INT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;DECLARE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;INT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;DECLARE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b3&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;INT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;DECLARE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b4&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;INT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;IF&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cp&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x7F&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;THEN&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;SET&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cp&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;RETURN&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;CONVERT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;UNHEX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;LPAD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HEX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;USING&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utf8mb4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ELSEIF&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cp&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x7FF&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;THEN&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;SET&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;xC0&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cp&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;SET&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x80&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cp&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x3F&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;RETURN&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;CONVERT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;CONCAT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;UNHEX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;LPAD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HEX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;UNHEX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;LPAD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HEX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;USING&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utf8mb4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ELSEIF&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cp&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;xFFFF&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;THEN&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;SET&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;xE0&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cp&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;SET&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x80&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cp&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x3F&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;SET&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b3&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x80&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cp&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x3F&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;RETURN&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;CONVERT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;CONCAT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;UNHEX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;LPAD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HEX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;UNHEX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;LPAD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HEX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;UNHEX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;LPAD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HEX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;USING&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utf8mb4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;ELSE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;SET&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;xF0&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cp&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;18&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;SET&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x80&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cp&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;12&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x3F&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;SET&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b3&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x80&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cp&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x3F&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;SET&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b4&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x80&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cp&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x3F&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;RETURN&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;CONVERT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;CONCAT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;UNHEX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;LPAD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HEX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;UNHEX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;LPAD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HEX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;UNHEX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;LPAD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HEX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;UNHEX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;LPAD&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;HEX&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;b4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;USING&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utf8mb4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;END&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;IF&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;END&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;DELIMITER&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We can now use that to produce regional indicators from normal ASCII:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-mysql&#34; data-lang=&#34;mysql&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;-- flag function, idempotent create
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;DELIMITER&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;DROP&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;FUNCTION&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;IF&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;EXISTS&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;flag_emoji&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;CREATE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;FUNCTION&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;flag_emoji&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cc&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;VARCHAR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;RETURNS&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;VARCHAR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;8&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kp&#34;&gt;CHARSET&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;utf8mb4&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;DETERMINISTIC&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;BEGIN&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;DECLARE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;base&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;INT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;DEFAULT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;127462&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;-- U+1F1E6 REGIONAL INDICATOR LETTER A
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;IF&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cc&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;IS&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;no&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;OR&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cc&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;NOT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;REGEXP&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;^[A-Za-z]{2}$&amp;#39;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;THEN&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;RETURN&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;no&#34;&gt;NULL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;END&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;IF&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;RETURN&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;CONCAT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;unichar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;base&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ASCII&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;UPPER&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;SUBSTRING&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)))&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ASCII&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;A&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)),&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;unichar&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;base&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ASCII&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;UPPER&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;SUBSTRING&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)))&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;ASCII&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;A&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;END&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;//&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;DELIMITER&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Test this code:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-mysql&#34; data-lang=&#34;mysql&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;-- test
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;flag_emoji&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;GB&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;AS&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;gb&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;flag_emoji&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;us&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;AS&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;us&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;flag_emoji&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;de&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;AS&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;de&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;\&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;G&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;postgres&#34;&gt;
    &lt;a href=&#34;#postgres&#34;&gt;
	Postgres
    &lt;/a&gt;
&lt;/h1&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-postgresql&#34; data-lang=&#34;postgresql&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;-- Requires database encoding UTF8
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;CREATE&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;OR&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;REPLACE&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;FUNCTION&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;flag_emoji&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;code&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;RETURNS&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;text&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;LANGUAGE&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;sql&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;IMMUTABLE&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;STRICT&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;PARALLEL&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;SAFE&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;AS&lt;/span&gt; &lt;span class=&#34;sh&#34;&gt;$$
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sh&#34;&gt;  SELECT CASE
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sh&#34;&gt;    WHEN code ~ &amp;#39;^[A-Za-z]{2}$&amp;#39; THEN
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sh&#34;&gt;      -- U+1F1E6 (decimal 127462) is the Regional Indicator &amp;#34;A&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sh&#34;&gt;      chr(127462 + ascii(upper(substr(code, 1, 1))) - 65) ||
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sh&#34;&gt;      chr(127462 + ascii(upper(substr(code, 2, 1))) - 65)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sh&#34;&gt;    ELSE NULL
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sh&#34;&gt;  END;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;sh&#34;&gt;$$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;-- Example
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;flag_emoji&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;GB&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;AS&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;gb&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;flag_emoji&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;us&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;AS&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;us&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;n&#34;&gt;flag_emoji&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;de&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;AS&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;de&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;and test with&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-postgresql&#34; data-lang=&#34;postgresql&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;flag_emoji&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;GB&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;AS&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;gb&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;flag_emoji&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;us&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;AS&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;us&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;flag_emoji&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;de&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;AS&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;de&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Postgres does not need the helper function to work around the &lt;code&gt;CONVERT()&lt;/code&gt; issues that MySQL has.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Athom CO2 Sensors</title>
      <link>https://blog.koehntopp.info/2025/08/12/athom-co2-sensor/</link>
      <pubDate>Tue, 12 Aug 2025 01:02:03 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian KÃ¶hntopp)</author>

      <guid>https://blog.koehntopp.info/2025/08/12/athom-co2-sensor/</guid>
      <description>&lt;p&gt;Cheap and integrated CO2 sensors are finally available.
I got mine from &lt;a href=&#34;https://www.athom.tech/blank-1/co2-sensor&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Athom&lt;/a&gt;

.
They cost $25 per device.&lt;/p&gt;
&lt;p&gt;The device uses an ESC32C3 (4M) as a foundation and sports a Sensirion SCD 40.
It does measure CO2 in range from 400-2000 ppm with 5% accuracy (that&amp;rsquo;s the Sensirion Spec),
and also acts as a Bluetooth Proxy (because the ESP32 can do that).&lt;/p&gt;
&lt;p&gt;Unpacking is easy enough.
Connecting to the Wifi AP offered by the unconfigured device with an iPhone did not work
(&amp;ldquo;Cannot join &amp;hellip;&amp;rdquo;), but configuration via Bluetooth is even easier and better.&lt;/p&gt;
&lt;p&gt;For this you need to run the Home Assistant App with an Admin account,
on a device with Bluetooth support, for example an iPhone, or in my case, a Mac mini Desktop.&lt;/p&gt;
&lt;p&gt;The new device is autodetected in Bluetooth, and you can select it in Settings-&amp;gt;Devices.
Enter the Wifi Credentials, and it joins the Wifi and will be autodetected as a new ESPHome Device.
It can then be integrated, and delivers measurements.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;athom-01.png&#34; alt=&#34;2025/08/athom-01.png&#34;  /&gt;
&lt;/p&gt;


&lt;em&gt;Athom Device delivering CO2 measurements as a graph and a PPM display.&lt;/em&gt;&lt;/p&gt;
&lt;details class=&#34;reveal&#34;&gt;
	&lt;summary class=&#34;reveal&#34;&gt;Code for the display shown above (Yaml Fragment in Home Assistant).&lt;/summary&gt;
	&lt;div class=&#34;reveal&#34;&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;vertical-stack&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;cards&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;chart_type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;line&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;period&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;5minute&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;statistics-graph&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;entities&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;entity&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;sensor.athom_co2_sensor_b33722_co2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Bibliothek CO2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;stat_types&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;mean&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;max&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;l&#34;&gt;min&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;hide_legend&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Bibliothek CO2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;days_to_show&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;logarithmic_scale&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;show_name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;show_icon&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;show_state&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;glance&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;entities&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;entity&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;sensor.athom_co2_sensor_b33722_co2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Bibliothek&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;state_color&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;false&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;
&lt;/details&gt;

&lt;p&gt;The device has an Air Quality LED.
This one has an entity, and you can turn it off or dim it â€“ for 5 seconds.
The LED is also controlled by the firmware, and your settings will be overwritten within a few seconds.
This means the LED is always on at 50% in green, yellow or red, depending on CO2 level.
This is less bad than it sounds, because the dark see-through case dims the LED.&lt;/p&gt;
&lt;p&gt;The entire assembly of &amp;ldquo;USB Power Supply&amp;rdquo; plus &amp;ldquo;Stick with the sensor on top&amp;rdquo; is rather large.
You will need to find a safe wall socket to stick it into,
so that nobody catches the device and breaks it off.
Or find a USB power Supply with an angled USB Socket.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;athom-02.png&#34; alt=&#34;2025/08/athom-02.png&#34;  /&gt;
&lt;/p&gt;


&lt;em&gt;&lt;a href=&#34;https://www.athom.tech/blank-1/co2-sensor&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Athom&lt;/a&gt;

 order page with technical data.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Two Years Megane</title>
      <link>https://blog.koehntopp.info/2025/08/10/two-years-megane/</link>
      <pubDate>Sun, 10 Aug 2025 01:02:03 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian KÃ¶hntopp)</author>

      <guid>https://blog.koehntopp.info/2025/08/10/two-years-megane/</guid>
      <description>&lt;p&gt;It has now been two years since &lt;a href=&#34;https://blog.koehntopp.info/2023/08/13/electric-cars-and-numbers/&#34;&gt;we got the Megane e-Tech&lt;/a&gt;

.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;megane-01.jpg&#34; alt=&#34;2025/08/megane-01.jpg&#34;  /&gt;
&lt;/p&gt;


&lt;em&gt;Renault Megane e-Tech parked in Zandvoort aan Zee at the beach promenade in rainy weather.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;megane-02.jpg&#34; alt=&#34;2025/08/megane-02.jpg&#34;  /&gt;
&lt;/p&gt;


&lt;em&gt;The car uses Google Automotive Services (GAS). It is basically an Android with a really big battery pack.&lt;/em&gt;&lt;/p&gt;
&lt;h1 id=&#34;energy&#34;&gt;
    &lt;a href=&#34;#energy&#34;&gt;
	Energy
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;On long-distance drives in the Netherlands, we use about 14.4 kWh/100 km at the maximum allowed speed of 100 km/h.
In Germany I usually dial in 115 km/h, and we end up at about 15.8 kWh/100 km.&lt;/p&gt;
&lt;p&gt;In the city, energy consumption varies, and we see anywhere between 14.5 and 15.5 kWh/100 km.&lt;/p&gt;
&lt;p&gt;A liter of diesel contains about 10 kWh of energy,
so that&amp;rsquo;s roughly equivalent to 1.5 liters of diesel per 100 km.&lt;/p&gt;
&lt;p&gt;For the first few months with the Megane we did not have a charge point at home.
Instead, we charged at a local Vattenfall charge point.
That involved parking around 400 m away (two corners).
The charge point (two connectors) was usually free, and charging did not require planning.
We paid around 0.32 EUR/kWh for that.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;megane-08.jpg&#34; alt=&#34;2025/08/megane-08.jpg&#34;  /&gt;
&lt;/p&gt;


&lt;em&gt;When charging, the display looks like this.
This is at home, starting at 14% going up to 80%, at 11 kW.
This is not what you normally do, you&amp;rsquo;d just plug in the car when you return home  and replace what has been used.
That means, normally you put in 6-12 kWh.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Since we got our own charge point the car is usually connected when arriving at home
and is kept at 80% state of charge (SoC).
Doing that takes about 15 seconds on arrival, and another 15 seconds on departure.
So I can say that &amp;ldquo;keeping an electric car charged&amp;rdquo; takes about 30 seconds.
The rest happens automatically, and I do not have to bother.&lt;/p&gt;
&lt;p&gt;On the Autobahn, we stop approximately every 2 to 2.5 hours.
Getting a coffee, finding a toilet, or buying a sandwich usually takes longer than
recharging the car at a fast charger to 80%.
In the Netherlands, this is almost invariably a Fastned station,
and I have yet to encounter a situation where at least one connector wasn&amp;rsquo;t immediately free.
In Germany, the situation is less homogeneous, but generally not critical at all.&lt;/p&gt;
&lt;p&gt;Fast charging can be expensive, but so far we have two charge cards,
and that seems to cover us well in the Netherlands and Germany.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;megane-07.jpg&#34; alt=&#34;2025/08/megane-07.jpg&#34;  /&gt;
&lt;/p&gt;


&lt;em&gt;The Scenic had USB-A. The Megane finally offers USB-C connectors for all seats.
I had to change out all USB cables in the car, but in the end it is much better.&lt;/em&gt;&lt;/p&gt;
&lt;h1 id=&#34;reliability-and-service&#34;&gt;
    &lt;a href=&#34;#reliability-and-service&#34;&gt;
	Reliability and Service
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Some people report higher tire wear in their electric cars, but I cannot confirm that for the Megane.
The car weighs 1.6 tonnes including the battery, which is pretty much the same as the Grand Scenic we had before.
It is not a particularly heavy car, and consequently I do not expect higher tire wear.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;megane-09.jpg&#34; alt=&#34;2025/08/megane-09.jpg&#34;  /&gt;
&lt;/p&gt;


&lt;em&gt;At &lt;a href=&#34;https://carsized.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Carsized&lt;/a&gt;

 you can compare car sizes.
Here is the Grand Scenic and the Megane e-Tech, as seen from the side.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;We bought this car pre-owned.
It was a demonstrator at the dealership, which we got at a good price.
There were several problems with the car, which took a long time to resolve:
several missing software updates and, consequently, a lighting system malfunction;
a problem with the driver profile (the car would not store seat positions);
and several other comfort features.&lt;/p&gt;
&lt;p&gt;It turned out that the dealership did an incomplete change of ownership,
because identity and car records are stored in many different systems:
in the car, at Google, at Renault, and at Orange, the internet provider used by the car.
Debugging that took them several months,
and then a two-day repair stopover at the dealership to resolve it.
It seems the process is better documented because of that, which is good, I guess.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;megane-05.jpg&#34; alt=&#34;2025/08/megane-05.jpg&#34;  /&gt;
&lt;/p&gt;


&lt;em&gt;Trunk space. Limited, if you come from a Grand Scenic, but sufficient.
If you flip one or both back seats, things are possible.
Unlike the Scenic, this does not load flat.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;megane-06.jpg&#34; alt=&#34;2025/08/megane-06.jpg&#34;  /&gt;
&lt;/p&gt;


&lt;em&gt;Sub-trunk: Storage for the charge cable and other utensils.
We never use that charge cable: When not driving long-distance, we charge at home.
On long distance, fast chargers are being used. They have their own cables.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Since this intervention, the car has had zero problems.&lt;/p&gt;
&lt;p&gt;Driving electric is a revelation.
It is silent.
Power is just thereâ€”no delay, no issues at low speeds, and then continuously as you accelerate.&lt;/p&gt;
&lt;p&gt;Accelerating in Sport mode is hilarious, and uses insane amounts of energy.
It is fun, though, to leave a car four times the price in the dust at a traffic light.&lt;/p&gt;
&lt;h1 id=&#34;summary&#34;&gt;
    &lt;a href=&#34;#summary&#34;&gt;
	Summary
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;This is a modern car.
That means it is a rolling bunker.
Outward visibility is poor: the A-pillar is so wide it creates blind spots,
and vision through the tiny window in the back is so bad that the rear mirror is a camera system.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;megane-04.jpg&#34; alt=&#34;2025/08/megane-04.jpg&#34;  /&gt;
&lt;/p&gt;


&lt;em&gt;What it looks like from the center spot. Notice the monstrously wide A-pillars.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;I understand why: EU regulation (GSR-2) demands it, but it still sucks.
There are a sufficient number of cameras, collision warnings and similar things to compensate,
but you really do need these things in order to drive safely.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;megane-03.jpg&#34; alt=&#34;2025/08/megane-03.jpg&#34;  /&gt;
&lt;/p&gt;


&lt;em&gt;A fake 3D drone view synthesized from the various camera images.
It gives you a good idea of what happens around you when parking.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;In the end I do not really think it&amp;rsquo;s a win, but it works.&lt;/p&gt;
&lt;p&gt;Sometimes I go to Germany in a rental car because my wife needs the Megane at home.
This is usually a car with a combustion engine.
That sucksâ€”driving electric spoils you.
It is so much more convenient and comfortable.&lt;/p&gt;
&lt;p&gt;We will never go back to combustion.
This is so much better.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Modern PHP (7.x)</title>
      <link>https://blog.koehntopp.info/2025/07/30/modern-php/</link>
      <pubDate>Wed, 30 Jul 2025 03:04:05 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian KÃ¶hntopp)</author>

      <guid>https://blog.koehntopp.info/2025/07/30/modern-php/</guid>
      <description>&lt;p&gt;I have not been doing PHP in a long time, and so I am writing this here as a memo to self,
in order to remind me what features are &amp;ldquo;new&amp;rdquo; in PHP, with &amp;ldquo;new&amp;rdquo; meaning 7.0 and newer.&lt;/p&gt;
&lt;h1 id=&#34;features&#34;&gt;
    &lt;a href=&#34;#features&#34;&gt;
	Features
    &lt;/a&gt;
&lt;/h1&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;PHP version&lt;/th&gt;
          &lt;th&gt;Category&lt;/th&gt;
          &lt;th&gt;Feature&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;7.0&lt;/td&gt;
          &lt;td&gt;Typing&lt;/td&gt;
          &lt;td&gt;declare(strict_types=1) directive&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.0&lt;/td&gt;
          &lt;td&gt;Typing&lt;/td&gt;
          &lt;td&gt;Scalar type declarations&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.0&lt;/td&gt;
          &lt;td&gt;Typing&lt;/td&gt;
          &lt;td&gt;Return type declarations&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.0&lt;/td&gt;
          &lt;td&gt;Operators&lt;/td&gt;
          &lt;td&gt;Null coalescing operator (??)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.0&lt;/td&gt;
          &lt;td&gt;Classes&lt;/td&gt;
          &lt;td&gt;Anonymous classes&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.0&lt;/td&gt;
          &lt;td&gt;Errors&lt;/td&gt;
          &lt;td&gt;Throwable and Error hierarchy&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.1&lt;/td&gt;
          &lt;td&gt;Typing&lt;/td&gt;
          &lt;td&gt;Iterable pseudo-type&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.1&lt;/td&gt;
          &lt;td&gt;Typing&lt;/td&gt;
          &lt;td&gt;Nullable types (?type)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.1&lt;/td&gt;
          &lt;td&gt;Typing&lt;/td&gt;
          &lt;td&gt;Void return type&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.1&lt;/td&gt;
          &lt;td&gt;Classes&lt;/td&gt;
          &lt;td&gt;Class constant visibility&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.1&lt;/td&gt;
          &lt;td&gt;Errors&lt;/td&gt;
          &lt;td&gt;Multi-catch exceptions&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.2&lt;/td&gt;
          &lt;td&gt;Classes&lt;/td&gt;
          &lt;td&gt;Proper key conversion for casts between object and array&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.2&lt;/td&gt;
          &lt;td&gt;Errors&lt;/td&gt;
          &lt;td&gt;Counting uncountable things is now forbidden&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.2&lt;/td&gt;
          &lt;td&gt;Typing&lt;/td&gt;
          &lt;td&gt;Object type hint&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.2&lt;/td&gt;
          &lt;td&gt;Security&lt;/td&gt;
          &lt;td&gt;Cryptography update&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.2&lt;/td&gt;
          &lt;td&gt;Syntax&lt;/td&gt;
          &lt;td&gt;Trailing commas in &lt;code&gt;list()&lt;/code&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.3&lt;/td&gt;
          &lt;td&gt;Syntax&lt;/td&gt;
          &lt;td&gt;Trailing commas in function calls&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.3&lt;/td&gt;
          &lt;td&gt;Syntax&lt;/td&gt;
          &lt;td&gt;Flexible Heredoc/Nowdoc Syntax&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.3&lt;/td&gt;
          &lt;td&gt;Functions&lt;/td&gt;
          &lt;td&gt;is_countable()&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.4&lt;/td&gt;
          &lt;td&gt;Typing&lt;/td&gt;
          &lt;td&gt;Typed properties&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.4&lt;/td&gt;
          &lt;td&gt;Syntax&lt;/td&gt;
          &lt;td&gt;Arrow functions (fn())&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.4&lt;/td&gt;
          &lt;td&gt;Syntax&lt;/td&gt;
          &lt;td&gt;Spread Operator in Array Expression&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.4&lt;/td&gt;
          &lt;td&gt;Typing&lt;/td&gt;
          &lt;td&gt;Limited Return Type Covariance and Argument Type Contravariance&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.4&lt;/td&gt;
          &lt;td&gt;Syntax&lt;/td&gt;
          &lt;td&gt;Numeric Literal Separator &lt;code&gt;_&lt;/code&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.4&lt;/td&gt;
          &lt;td&gt;Syntax&lt;/td&gt;
          &lt;td&gt;Null Coalescing Assignment Operator&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.4&lt;/td&gt;
          &lt;td&gt;Classes&lt;/td&gt;
          &lt;td&gt;Weak Refs&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.4&lt;/td&gt;
          &lt;td&gt;Performance&lt;/td&gt;
          &lt;td&gt;Preloading (Opcache)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;7.4&lt;/td&gt;
          &lt;td&gt;Syntax&lt;/td&gt;
          &lt;td&gt;Lots of Deprecations&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;70-2015&#34;&gt;
    &lt;a href=&#34;#70-2015&#34;&gt;
	7.0 (2015)
    &lt;/a&gt;
&lt;/h1&gt;
&lt;h2 id=&#34;strict-types--scalar-type-declarations-and-return-type-declarations&#34;&gt;
    &lt;a href=&#34;#strict-types--scalar-type-declarations-and-return-type-declarations&#34;&gt;
	Strict Types,  Scalar Type Declarations and Return Type Declarations
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;declare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strict_typing&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;30&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;probe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;PHP&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Fatal&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;error&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;  &lt;span class=&#34;nx&#34;&gt;Uncaught&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;TypeError&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;add&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Argument&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;#1 ($a) must be of type int, string given, called in /Users/kris/probe.php on line 10 and defined in /Users/kris/probe.php:5
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;---null-coalescing-operator&#34;&gt;
    &lt;a href=&#34;#---null-coalescing-operator&#34;&gt;
	?? - Null Coalescing Operator
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;A shorthand for &lt;code&gt;isset()&lt;/code&gt; and offering a default value.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$username&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$_GET&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;user&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;??&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;guest&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// previously
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// $username = isset($_GET[&amp;#39;user&amp;#39;]) ? $_GET[&amp;#39;user&amp;#39;] : &amp;#39;guest&amp;#39;;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;anonymous-classes&#34;&gt;
    &lt;a href=&#34;#anonymous-classes&#34;&gt;
	Anonymous Classes
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$logger&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$msg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;[LOG] &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$msg&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$logger&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;log&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Hi!&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Useful for throwaway classes, often used in tests.&lt;/p&gt;
&lt;h2 id=&#34;throwable-and-error-hierarchy-unifying-exceptions-and-errors&#34;&gt;
    &lt;a href=&#34;#throwable-and-error-hierarchy-unifying-exceptions-and-errors&#34;&gt;
	Throwable and Error hierarchy, unifying Exceptions and Errors
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Adds an Interface &lt;code&gt;Throwable&lt;/code&gt;, allows you to catch Errors, not just Exceptions.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Error&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Argh!&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Throwable&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Caucht &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getMessage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;71-2016&#34;&gt;
    &lt;a href=&#34;#71-2016&#34;&gt;
	7.1 (2016)
    &lt;/a&gt;
&lt;/h1&gt;
&lt;h2 id=&#34;iterable-pseudo-type&#34;&gt;
    &lt;a href=&#34;#iterable-pseudo-type&#34;&gt;
	Iterable Pseudo-Type
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Normally, &lt;code&gt;Iterable&lt;/code&gt; would be an Interface, and you&amp;rsquo;d declare the parameter type or return type of a function to be like that.
For historical reasons that wasn&amp;rsquo;t possible, there is &lt;code&gt;array&lt;/code&gt; for non-objects, and &lt;code&gt;Traverable&lt;/code&gt; for Objects.
Both can be passed to &lt;code&gt;foreach&lt;/code&gt;, and their elements can be &lt;code&gt;yield&lt;/code&gt;&amp;lsquo;ed.&lt;/p&gt;
&lt;p&gt;The keyword &lt;code&gt;Iterable&lt;/code&gt; is reserved, as is the function name &lt;code&gt;is_iterable()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;It can be used like a type in signatures, and unifies these two behaviors.
It is a shortcut for &lt;code&gt;array|Traversable&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;iterate_something&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;iterable&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$it&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;foreach&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$it&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$element&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;// ...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;generate_something&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;iterable&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;yield&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;yield&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;yield&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;nullable-types-void-type&#34;&gt;
    &lt;a href=&#34;#nullable-types-void-type&#34;&gt;
	Nullable Types, Void Type
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Introduces the type prefix &lt;code&gt;?&lt;/code&gt; as a prefix for the type &lt;code&gt;t&lt;/code&gt; so that &lt;code&gt;?t&lt;/code&gt; is short for &lt;code&gt;t|null&lt;/code&gt;.
So you get&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;eight_ball&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$question&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// null if we don&amp;#39;t know the answer
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// allowed
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;For return types, a subclass or implementation of an Interface can be stricter,
that is, remove nullability from the return type.&lt;/p&gt;
&lt;p&gt;For parameter types, a subclass or implementation of an Interface may be looser,
that is, add nullability to a parameter type.&lt;/p&gt;
&lt;p&gt;A function with a nullable type still needs a parameter, there is no &lt;code&gt;null&lt;/code&gt; default.
It is valid to provide a default value to a nullable parameter, and that default may be &lt;code&gt;null&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;We also get the &lt;code&gt;void&lt;/code&gt; return type. In a function declared with &lt;code&gt;: void&lt;/code&gt;, you may not return a value.
You must use &lt;code&gt;return;&lt;/code&gt; without a value.
&lt;code&gt;null&lt;/code&gt; is a value, so &lt;code&gt;return null;&lt;/code&gt; is invalid for &lt;code&gt;void&lt;/code&gt; functions.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;no_result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// invalid
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;short-array-deconstruction-syntax-using-keys-in-list-to_dict&#34;&gt;
    &lt;a href=&#34;#short-array-deconstruction-syntax-using-keys-in-list-to_dict&#34;&gt;
	Short array deconstruction syntax, using keys in list (&amp;ldquo;to_dict&amp;rdquo;)
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;You can construct arrays and dicts in PHP with the &lt;code&gt;array()&lt;/code&gt; constructor, and since 5.4 also with &lt;code&gt;[ ]&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;// also $a = [1, 2, 3]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$d&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;one&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;two&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;three&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;c1&#34;&gt;// also $d = [ &amp;#34;one&amp;#34; =&amp;gt; 1, &amp;#34;two&amp;#34; =&amp;gt; 2, &amp;#34;three&amp;#34; =&amp;gt; 3 ];
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Deconstruction is possible with &lt;code&gt;list()&lt;/code&gt;,
and newly added is the use of keys in &lt;code&gt;list&lt;/code&gt; to convert an array to a dict.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$some_array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;a&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;b&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;c&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$some_array&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// to dict
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This is now also possible using &lt;code&gt;[ ]&lt;/code&gt; on the LHS of an assignment.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$c&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$some_array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;a&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;b&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;c&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$c&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$some_array&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// to_dict
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Nested, mixed use of &lt;code&gt;list()&lt;/code&gt; and &lt;code&gt;[ ]&lt;/code&gt; is explicitly not allowed.
You can nest, but you must consistently use either one or the other syntax.&lt;/p&gt;
&lt;h2 id=&#34;multiexception&#34;&gt;
    &lt;a href=&#34;#multiexception&#34;&gt;
	Multiexception
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;c1&#34;&gt;// Some code...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ExceptionType1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ExceptionType2&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;instead of&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;c1&#34;&gt;// Some code...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ExceptionType1&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;c1&#34;&gt;// Code to handle the exception
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;ExceptionType2&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;   &lt;span class=&#34;c1&#34;&gt;// Same code to handle the exception
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;class-constant-visibility-modifiers&#34;&gt;
    &lt;a href=&#34;#class-constant-visibility-modifiers&#34;&gt;
	Class Constant Visibility Modifiers
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Token&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;no&#34;&gt;PUBLIC_CONST&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// default is public
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;no&#34;&gt;PRIVATE_CONST&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;protected&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;no&#34;&gt;PRIVATE_CONST&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;no&#34;&gt;PRIVATE_CONST&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;const&lt;/code&gt; can now use visibility in classes. In Interfaces, they must be &lt;code&gt;public&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&#34;other-changes&#34;&gt;
    &lt;a href=&#34;#other-changes&#34;&gt;
	Other changes
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;The variable name &lt;code&gt;$this&lt;/code&gt; is now reserved and can no longer be used as a parameter,
static variable, global variable, &lt;code&gt;catch&lt;/code&gt; variable, or &lt;code&gt;foreach&lt;/code&gt; counter.
It can also no longer be unset, reassigned directly, through &lt;code&gt;$$&lt;/code&gt; (variable variables)
or through references, through &lt;code&gt;extract&lt;/code&gt; or &lt;code&gt;parse_str()&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Consequently, you can&amp;rsquo;t use &lt;code&gt;$this&lt;/code&gt; when you are not in an object context.&lt;/p&gt;
&lt;p&gt;Negative string offsets now can be used everywhere consistently and will reference glyphs from the right.
The last glyph in a string is at offset &lt;code&gt;-1&lt;/code&gt;.&lt;/p&gt;
&lt;h1 id=&#34;72-2017&#34;&gt;
    &lt;a href=&#34;#72-2017&#34;&gt;
	7.2 (2017)
    &lt;/a&gt;
&lt;/h1&gt;
&lt;h2 id=&#34;proper-key-conversion-for-objectarray-casts&#34;&gt;
    &lt;a href=&#34;#proper-key-conversion-for-objectarray-casts&#34;&gt;
	Proper Key Conversion for Object/Array Casts
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;When converting between arrays and objects, keys now follow the same, consistent key-casting rules used by arrays:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Only int and string keys are allowed.&lt;/li&gt;
&lt;li&gt;Numeric strings become ints (&amp;ldquo;42&amp;rdquo; -&amp;gt; 42).&lt;/li&gt;
&lt;li&gt;Floats are truncated to int (1.7 -&amp;gt; 1).&lt;/li&gt;
&lt;li&gt;Booleans become 1/0, null becomes the empty string &amp;ldquo;&amp;rdquo;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This mainly affects odd cases when you cast arrays to objects and back,
or when you create properties with unusual names and then cast to an array.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;42&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;x&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;1.7&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;y&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;true&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;t&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;null&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;n&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$o&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;object&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;           &lt;span class=&#34;c1&#34;&gt;// properties named &amp;#34;42&amp;#34;, &amp;#34;1&amp;#34;, &amp;#34;1&amp;#34;, &amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$b&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$o&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;            &lt;span class=&#34;c1&#34;&gt;// keys are re-cast just like array keys
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;var_export&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;/* Result: numeric string -&amp;gt; 42, float -&amp;gt; 1, true -&amp;gt; 1, null -&amp;gt; &amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;array (
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;  42 =&amp;gt; &amp;#39;x&amp;#39;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;  1 =&amp;gt; &amp;#39;y&amp;#39;,   // overwrote true =&amp;gt; 1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;  &amp;#39;&amp;#39; =&amp;gt; &amp;#39;n&amp;#39;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cm&#34;&gt;)*/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;counting-uncountable-things-is-now-forbidden&#34;&gt;
    &lt;a href=&#34;#counting-uncountable-things-is-now-forbidden&#34;&gt;
	Counting Uncountable Things is now forbidden
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Calling count() on something that is not an array and not Countable now raises a warning.
Guard your calls, or implement &lt;code&gt;Countable&lt;/code&gt; on your classes.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// Before 7.2 this often silently returned 1 or 0 in odd ways.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// With 7.2 you get a warning:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;123&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;var_dump&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// Warning: count(): Parameter must be an array or an object that implements Countable
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$y&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ArrayObject&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;var_dump&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// 3 (Countable)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;object-typehint-for-parameters-and-return-types&#34;&gt;
    &lt;a href=&#34;#object-typehint-for-parameters-and-return-types&#34;&gt;
	Object typehint for parameters and return types
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;You can now require an object in signatures, without specifying a particular class or interface.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;declare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strict_types&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;touch_object&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;object&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$o&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;object&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;// do something with $o
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$o&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;C&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;var_dump&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;touch_object&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;cryptography-updates&#34;&gt;
    &lt;a href=&#34;#cryptography-updates&#34;&gt;
	Cryptography updates
    &lt;/a&gt;
&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;allow Argon2 in &lt;code&gt;password_\*&lt;/code&gt; functions.&lt;/li&gt;
&lt;li&gt;Sane TLS defaults&lt;/li&gt;
&lt;li&gt;Removal of abandoned &lt;code&gt;mcrypt&lt;/code&gt; extension.&lt;/li&gt;
&lt;li&gt;Add &lt;code&gt;sodium&lt;/code&gt; as a core extension.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;trailing-commas-in-list&#34;&gt;
    &lt;a href=&#34;#trailing-commas-in-list&#34;&gt;
	Trailing commas in &lt;code&gt;list()&lt;/code&gt;
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;You can finally add a trailing comma in list() and array destructuring, which makes diffs cleaner.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;list&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;var_dump&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;73-2018&#34;&gt;
    &lt;a href=&#34;#73-2018&#34;&gt;
	7.3 (2018)
    &lt;/a&gt;
&lt;/h1&gt;
&lt;h2 id=&#34;flexible-heredocnowdoc-indentation&#34;&gt;
    &lt;a href=&#34;#flexible-heredocnowdoc-indentation&#34;&gt;
	Flexible heredoc/nowdoc indentation
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Heredoc and nowdoc syntax became more flexible.
You can indent the closing identifier and the content will be deâ€‘indented accordingly,
making multiâ€‘line strings easier to embed in indented code.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;declare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strict_types&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;emailBody&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;$indent&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;    &amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;$body&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s&#34;&gt;&amp;lt;&amp;lt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;dl&#34;&gt;MAIL&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        Hello $name,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        this is an indented heredoc.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        The indentation before the closing marker is ignored.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        Regards,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        Admin
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;dl&#34;&gt;MAIL&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$body&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;emailBody&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Kris&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;trailing-commas-in-function-calls&#34;&gt;
    &lt;a href=&#34;#trailing-commas-in-function-calls&#34;&gt;
	Trailing commas in function calls
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;You can add a trailing comma to function and method calls.
This helps with cleaner diffs when adding more arguments.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$b&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// Note the trailing comma after the last argument
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;var_dump&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;sum&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;json_throw_on_error&#34;&gt;
    &lt;a href=&#34;#json_throw_on_error&#34;&gt;
	JSON_THROW_ON_ERROR
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;json_encode()&lt;/code&gt; and &lt;code&gt;json_decode()&lt;/code&gt; can now throw &lt;code&gt;JsonException&lt;/code&gt;
instead of returning false and setting &lt;code&gt;json_last_error()&lt;/code&gt;.
\Use the &lt;code&gt;JSON_THROW_ON_ERROR&lt;/code&gt; flag.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;declare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strict_types&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$broken&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;{ invalid json }&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;json_decode&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$broken&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;512&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;JSON_THROW_ON_ERROR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;JsonException&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Decoding failed: &amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getMessage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;$data&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;a&amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;INF&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// not representable in JSON by default
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nx&#34;&gt;json_encode&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$data&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;JSON_THROW_ON_ERROR&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;JsonException&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Encoding failed: &amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getMessage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;is_countable&#34;&gt;
    &lt;a href=&#34;#is_countable&#34;&gt;
	is_countable()
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;A helper to check if a value is countable before calling &lt;code&gt;count()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;123&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$y&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;var_dump&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;is_countable&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// false
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;var_dump&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;is_countable&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;));&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// true
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;is_countable&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;74-2019&#34;&gt;
    &lt;a href=&#34;#74-2019&#34;&gt;
	7.4 (2019)
    &lt;/a&gt;
&lt;/h1&gt;
&lt;h2 id=&#34;typed-properties&#34;&gt;
    &lt;a href=&#34;#typed-properties&#34;&gt;
	Typed properties
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;declare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strict_types&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Counter&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$count&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;      &lt;span class=&#34;c1&#34;&gt;// typed property
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// nullable type
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$c&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Counter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;count&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;42&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;           &lt;span class=&#34;c1&#34;&gt;// OK
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;demo&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;        &lt;span class=&#34;c1&#34;&gt;// OK
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;try&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;// TypeError at runtime (assignment must match declared type)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;$c&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;count&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;not an int&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;catch&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;TypeError&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$e&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$e&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getMessage&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(),&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;arrow-functions-fn&#34;&gt;
    &lt;a href=&#34;#arrow-functions-fn&#34;&gt;
	Arrow functions (fn())
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Short syntax for anonymous functions.
Automatic access to closure values, and to outer values.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;declare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strict_types&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$factor&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$nums&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$doubled&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;array_map&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;fn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$n&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$factor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$nums&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;print_r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$doubled&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// [2, 4, 6]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;spread-operator-in-array-expressions&#34;&gt;
    &lt;a href=&#34;#spread-operator-in-array-expressions&#34;&gt;
	Spread operator in array expressions
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;You can unpack arrays into other arrays using &lt;code&gt;...&lt;/code&gt;.
In PHP 7.4 only arrays with numeric keys can be spread (string keys are supported from 8.1).&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;declare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strict_types&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$b&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;4&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;print_r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// [1, 2, 3, 4]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;limited-covariance-and-contravariance&#34;&gt;
    &lt;a href=&#34;#limited-covariance-and-contravariance&#34;&gt;
	Limited covariance and contravariance
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Return types may be more specific (covariant),
parameter types may be more general (contravariant) in child (subclass) methods.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;declare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strict_types&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Base&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getIterator&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Traversable&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ArrayIterator&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([]);&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setIterator&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Iterator&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$it&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Child&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;extends&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Base&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;// Return type covariance: Traversable -&amp;gt; Iterator (more specific)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;getIterator&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Iterator&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ArrayIterator&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]);&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;// Param type contravariance: Iterator -&amp;gt; Traversable (more general)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;setIterator&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Traversable&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$it&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$child&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Child&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;var_dump&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;get_class&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$child&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getIterator&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()));&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// ArrayIterator
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;numeric-literal-separator-_&#34;&gt;
    &lt;a href=&#34;#numeric-literal-separator-_&#34;&gt;
	Numeric literal separator &lt;code&gt;_&lt;/code&gt;
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Use underscores in numeric literals for readability.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;declare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strict_types&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$oneMillion&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1_000_000&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$hex&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mh&#34;&gt;0xFF_FF&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$bin&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;b1010_1010&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;var_dump&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$oneMillion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$hex&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$bin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;null-coalescing-assignment-operator-&#34;&gt;
    &lt;a href=&#34;#null-coalescing-assignment-operator-&#34;&gt;
	Null coalescing assignment operator (??=)
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Shorthand to assign a default only if the variable is null or not set.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;declare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strict_types&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$options&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$options&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;timeout&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;??=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;30&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// sets to 30 because key is not set
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$options&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;timeout&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;??=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// keeps 30, because already set and not null
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;var_dump&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$options&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;weak-references&#34;&gt;
    &lt;a href=&#34;#weak-references&#34;&gt;
	Weak references
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Hold references to objects that do not prevent their garbage collection.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;declare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strict_types&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$o&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;stdClass&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$wr&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;WeakReference&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;create&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$o&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;var_dump&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$wr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;!==&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// true
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;unset&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$o&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;                      &lt;span class=&#34;c1&#34;&gt;// drop the strong reference
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;var_dump&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$wr&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// true (target was collected)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;preloading-opcache&#34;&gt;
    &lt;a href=&#34;#preloading-opcache&#34;&gt;
	Preloading (Opcache)
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Allows loading PHP files into Opcache on server startup
so classes/functions are available to all requests without requiring them each time.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;php.ini:&lt;/li&gt;
&lt;/ul&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;opcache.preload=/path/to/preload.php
opcache.preload_user=www-data
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;preload.php:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;opcache_compile_file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;no&#34;&gt;__DIR__&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;/src/Autoload.php&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;opcache_compile_file&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;no&#34;&gt;__DIR__&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;/src/Domain/Model.php&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;deprecations-in-74-selection&#34;&gt;
    &lt;a href=&#34;#deprecations-in-74-selection&#34;&gt;
	Deprecations in 7.4 (selection)
    &lt;/a&gt;
&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Curly brace array/string offset access: &lt;code&gt;$str{0}&lt;/code&gt; and &lt;code&gt;$arr{0}&lt;/code&gt; â€” use &lt;code&gt;$str[0]&lt;/code&gt;, &lt;code&gt;$arr[0]&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Nested ternary without explicit parentheses emits a deprecation warning.&lt;/li&gt;
&lt;li&gt;Real type alias &lt;code&gt;real&lt;/code&gt; is deprecated; use &lt;code&gt;float&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;implode()&lt;/code&gt; parameter order confusion warnings (use implode(string $glue, array $pieces)).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;See PHP 7.4 RFCs for the full list: &lt;a href=&#34;https://wiki.php.net/rfc#php_74&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://wiki.php.net/rfc#php_74&lt;/a&gt;

&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Modern PHP (8.x)</title>
      <link>https://blog.koehntopp.info/2025/07/30/modern-php-2/</link>
      <pubDate>Wed, 30 Jul 2025 06:07:08 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian KÃ¶hntopp)</author>

      <guid>https://blog.koehntopp.info/2025/07/30/modern-php-2/</guid>
      <description>&lt;p&gt;I have not been doing PHP in a long time, and so I am writing this here as a memo to self,
in order to remind me what features are &amp;ldquo;new&amp;rdquo; in PHP, with &amp;ldquo;new&amp;rdquo; meaning 7.0 and newer.&lt;/p&gt;
&lt;p&gt;Here is the 8.x edition.&lt;/p&gt;
&lt;h1 id=&#34;features&#34;&gt;
    &lt;a href=&#34;#features&#34;&gt;
	Features
    &lt;/a&gt;
&lt;/h1&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th&gt;PHP version&lt;/th&gt;
          &lt;th&gt;Category&lt;/th&gt;
          &lt;th&gt;Feature&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td&gt;8.0&lt;/td&gt;
          &lt;td&gt;Syntax&lt;/td&gt;
          &lt;td&gt;Named arguments&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.0&lt;/td&gt;
          &lt;td&gt;Classes&lt;/td&gt;
          &lt;td&gt;Attributes (annotations)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.0&lt;/td&gt;
          &lt;td&gt;Syntax&lt;/td&gt;
          &lt;td&gt;Constructor property promotion&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.0&lt;/td&gt;
          &lt;td&gt;Typing&lt;/td&gt;
          &lt;td&gt;Union types&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.0&lt;/td&gt;
          &lt;td&gt;Syntax&lt;/td&gt;
          &lt;td&gt;Nullsafe operator (?-&amp;gt;)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.0&lt;/td&gt;
          &lt;td&gt;Errors&lt;/td&gt;
          &lt;td&gt;throw as expression&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.0&lt;/td&gt;
          &lt;td&gt;Performance&lt;/td&gt;
          &lt;td&gt;JIT compiler&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.0&lt;/td&gt;
          &lt;td&gt;Syntax&lt;/td&gt;
          &lt;td&gt;Match expression&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.1&lt;/td&gt;
          &lt;td&gt;Typing&lt;/td&gt;
          &lt;td&gt;Intersection types (A&amp;amp;B)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.1&lt;/td&gt;
          &lt;td&gt;Syntax&lt;/td&gt;
          &lt;td&gt;Array unpacking with string keys&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.1&lt;/td&gt;
          &lt;td&gt;Classes&lt;/td&gt;
          &lt;td&gt;Enums&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.1&lt;/td&gt;
          &lt;td&gt;Classes&lt;/td&gt;
          &lt;td&gt;Readonly properties&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.1&lt;/td&gt;
          &lt;td&gt;Syntax&lt;/td&gt;
          &lt;td&gt;First-class callable syntax (obj::method(&amp;hellip;))&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.1&lt;/td&gt;
          &lt;td&gt;Typing&lt;/td&gt;
          &lt;td&gt;never return type&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.1&lt;/td&gt;
          &lt;td&gt;Concurrency&lt;/td&gt;
          &lt;td&gt;Fibers (coroutines)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.2&lt;/td&gt;
          &lt;td&gt;Typing&lt;/td&gt;
          &lt;td&gt;Constants in Traits&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.2&lt;/td&gt;
          &lt;td&gt;Typing&lt;/td&gt;
          &lt;td&gt;true/false/null standalone types&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.2&lt;/td&gt;
          &lt;td&gt;Functions&lt;/td&gt;
          &lt;td&gt;Random extension (Randomizer API)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.2&lt;/td&gt;
          &lt;td&gt;Security&lt;/td&gt;
          &lt;td&gt;#[SensitiveParameter] attribute&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.2&lt;/td&gt;
          &lt;td&gt;Typing&lt;/td&gt;
          &lt;td&gt;Readonly classes&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.2&lt;/td&gt;
          &lt;td&gt;Typing&lt;/td&gt;
          &lt;td&gt;Disjunctive Normal Form types (DNF)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.3&lt;/td&gt;
          &lt;td&gt;Classes&lt;/td&gt;
          &lt;td&gt;Typed class constants&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.3&lt;/td&gt;
          &lt;td&gt;Typing&lt;/td&gt;
          &lt;td&gt;Explicit callables&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.3&lt;/td&gt;
          &lt;td&gt;Syntax&lt;/td&gt;
          &lt;td&gt;#[Override] attribute&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.3&lt;/td&gt;
          &lt;td&gt;Functions&lt;/td&gt;
          &lt;td&gt;json_validate()&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.4&lt;/td&gt;
          &lt;td&gt;Typing&lt;/td&gt;
          &lt;td&gt;Autovivification support&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.4&lt;/td&gt;
          &lt;td&gt;Classes&lt;/td&gt;
          &lt;td&gt;Property hooks (__get/__set override without magic)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.4&lt;/td&gt;
          &lt;td&gt;Syntax&lt;/td&gt;
          &lt;td&gt;Asymmetric visibility (get/set modifiers)&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.4&lt;/td&gt;
          &lt;td&gt;Functions&lt;/td&gt;
          &lt;td&gt;array_find(), array_first(), array_last()&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.5&lt;/td&gt;
          &lt;td&gt;Syntax&lt;/td&gt;
          &lt;td&gt;Closures and callables in constant expressions&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.5&lt;/td&gt;
          &lt;td&gt;Syntax&lt;/td&gt;
          &lt;td&gt;Pipe operator |&amp;gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.5&lt;/td&gt;
          &lt;td&gt;CLI/Debug&lt;/td&gt;
          &lt;td&gt;Fatal error backtraces&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td&gt;8.5&lt;/td&gt;
          &lt;td&gt;Attributes&lt;/td&gt;
          &lt;td&gt;#[NoDiscard]&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id=&#34;80-2020&#34;&gt;
    &lt;a href=&#34;#80-2020&#34;&gt;
	8.0 (2020)
    &lt;/a&gt;
&lt;/h1&gt;
&lt;h2 id=&#34;named-arguments&#34;&gt;
    &lt;a href=&#34;#named-arguments&#34;&gt;
	Named arguments
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;declare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strict_types&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;greet&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$title&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Mr&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$punctuation&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;!&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Hello, &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$title&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$punctuation&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;greet&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Kris&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;punctuation&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;!!&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;probe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;Hello&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Mr&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Kris&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;!!&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;attributes-annotations&#34;&gt;
    &lt;a href=&#34;#attributes-annotations&#34;&gt;
	Attributes (annotations)
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Instead of docstrings, you can now use Attributes, a structured way to add metadata to classes,
functions, methods, and properties.
Attributes are first-class language constructs, so they are parsed by PHP.
They can be accessed through the Reflection API,
making them more reliable and easier to work with than parsing comment blocks.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#[Attribute]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Route&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;fm&#34;&gt;__construct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$path&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;array&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$methods&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;GET&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#[Route(&amp;#39;/home&amp;#39;, methods: [&amp;#39;GET&amp;#39;, &amp;#39;POST&amp;#39;])]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;HomeController&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;index&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Hello from HomeController&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// Using reflection to read attributes:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$reflectionClass&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;ReflectionClass&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;HomeController&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;foreach&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$reflectionClass&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getAttributes&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Route&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$attribute&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;nv&#34;&gt;$routeInstance&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$attribute&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;newInstance&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Path: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$routeInstance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;path&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Methods: &amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;implode&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;, &amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$routeInstance&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;methods&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;.&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;
&lt;li&gt;Define a class usable as an Attribute using &lt;code&gt;#[Attribute]&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Use the attribute (with parameters) on another class (use &lt;code&gt;#[Route]&lt;/code&gt; on &lt;code&gt;HomeController&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Use Reflection to extract Attributes (&lt;code&gt;-&amp;gt;getAttributes()&lt;/code&gt; does all the work for us)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;constructor-property-promotion&#34;&gt;
    &lt;a href=&#34;#constructor-property-promotion&#34;&gt;
	Constructor property promotion
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;declare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strict_types&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;User&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;fm&#34;&gt;__construct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$age&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$u&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Kris&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;57&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;print_r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$u&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;probe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;User&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Object&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Kris&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;age&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;private&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;57&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This saves writing a lot of boilerplate assignments of the &lt;code&gt;$this-&amp;gt;name = $name&lt;/code&gt; kind.&lt;/p&gt;
&lt;h2 id=&#34;union-types&#34;&gt;
    &lt;a href=&#34;#union-types&#34;&gt;
	Union types
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;declare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strict_types&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;giveInt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$future_int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$future_int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;giveInt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;30&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;giveInt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;probe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;mi&#34;&gt;30&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This is using &lt;code&gt;?string&lt;/code&gt; as a shorthand for &lt;code&gt;string|null&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&#34;nullsafe-operator--&#34;&gt;
    &lt;a href=&#34;#nullsafe-operator--&#34;&gt;
	Nullsafe operator (?-&amp;gt;)
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;cat&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;probe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;declare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strict_types&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Profile&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;fm&#34;&gt;__construct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;User&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;fm&#34;&gt;__construct&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Profile&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$profile&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$profile&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Profile&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Kris&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$user&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$profile&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$user2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;User&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;?-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;profile&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;?-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$user2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;?-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;profile&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;?-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$user&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;profile&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$user2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;profile&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;probe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;Kris&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;Kris&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;PHP&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Warning&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt;  &lt;span class=&#34;nx&#34;&gt;Attempt&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;to&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;read&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;property&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;on&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;null&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Users&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;kris&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;probe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;on&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;line&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;22&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;Warning&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Attempt&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;to&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;read&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;property&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;on&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;null&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Users&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;kris&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;probe&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;on&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;line&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;22&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Strangely, this is by default only a warning and not a full-blown exception.&lt;/p&gt;
&lt;h2 id=&#34;throw-as-expression&#34;&gt;
    &lt;a href=&#34;#throw-as-expression&#34;&gt;
	throw as expression
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;declare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strict_types&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;requireEnv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$_ENV&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$key&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;??&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;RuntimeException&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Missing env: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;$key&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// throws immediately if FOO is not set
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$foo&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;requireEnv&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;FOO&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;jit-compiler&#34;&gt;
    &lt;a href=&#34;#jit-compiler&#34;&gt;
	JIT compiler
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;PHP 8.0 introduced a JIT (Just-In-Time) compiler in Opcache.
It can speed up CPU-bound code (e.g., numeric loops) but typically doesnâ€™t affect IO-bound web apps much.
Enable and tune via php.ini (&lt;code&gt;opcache.enable=1&lt;/code&gt;, &lt;code&gt;opcache.jit=...&lt;/code&gt;);
behavior is otherwise transparent to userland code.&lt;/p&gt;
&lt;h2 id=&#34;match-expression&#34;&gt;
    &lt;a href=&#34;#match-expression&#34;&gt;
	Match expression
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Match is an expression (it returns a value) with strict comparisons (&lt;code&gt;===&lt;/code&gt;),
no fallthrough and no implicit type juggling.
Arms can have multiple comma-separated conditions and can execute expressions.
If nothing matches and there is no &lt;code&gt;default&lt;/code&gt;, it throws an &lt;code&gt;UnhandledMatchError&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;declare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strict_types&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$code&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$message&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;match&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$code&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;mi&#34;&gt;200&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;201&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;OK&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;mi&#34;&gt;400&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Bad Request&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;mi&#34;&gt;404&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Not Found&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;mi&#34;&gt;500&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;502&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;503&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Server Error&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Unknown&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$message&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// $ php probe.php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// OK
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Strict matching (no type juggling):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;declare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strict_types&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$val&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;2&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;match&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$val&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;       &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;int two&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;s1&#34;&gt;&amp;#39;2&amp;#39;&lt;/span&gt;     &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;string two&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;default&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;other&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$result&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// $ php probe.php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// string two
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can also use it like a concise if/elseif chain with &lt;code&gt;match (true)&lt;/code&gt;,
because each arm condition is compared strictly to &lt;code&gt;true&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /opt/homebrew/bin/php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;lt;?&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;php&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;declare&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;strict_types&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;grade&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$score&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;match&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;$score&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;90&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;A&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;$score&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;75&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;B&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nv&#34;&gt;$score&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;60&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;C&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;default&lt;/span&gt;      &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;F&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;};&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;grade&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;82&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// $ php probe.php
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// B
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If no arm matches and you omit &lt;code&gt;default&lt;/code&gt;, PHP throws an &lt;code&gt;UnhandledMatchError&lt;/code&gt;.&lt;/p&gt;
&lt;h1 id=&#34;81-2021&#34;&gt;
    &lt;a href=&#34;#81-2021&#34;&gt;
	8.1 (2021)
    &lt;/a&gt;
&lt;/h1&gt;
&lt;h2 id=&#34;intersection-types-ab&#34;&gt;
    &lt;a href=&#34;#intersection-types-ab&#34;&gt;
	Intersection types (A&amp;amp;B)
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;A&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;foo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;interface&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;B&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;foo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;void&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;needsAandB&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;B&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$x&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;foo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;array-unpacking-with-string-keys&#34;&gt;
    &lt;a href=&#34;#array-unpacking-with-string-keys&#34;&gt;
	Array unpacking with string keys
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$a&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;a&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$b&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;b&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$c&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;a&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$merged&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;x&amp;#39;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$a&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$b&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$c&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// later entries overwrite earlier ones
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;enums&#34;&gt;
    &lt;a href=&#34;#enums&#34;&gt;
	Enums
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;enum&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Status&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Open&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;open&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;case&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Closed&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;closed&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;isOpen&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;Status&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;bool&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$s&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Status&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;Open&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;readonly-properties&#34;&gt;
    &lt;a href=&#34;#readonly-properties&#34;&gt;
	Readonly properties
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Point&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;fm&#34;&gt;__construct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;readonly&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;readonly&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$p&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Point&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// $p-&amp;gt;x = 3; // Error
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;first-class-callable-syntax-objmethod&#34;&gt;
    &lt;a href=&#34;#first-class-callable-syntax-objmethod&#34;&gt;
	First-class callable syntax (obj::method(&amp;hellip;))
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Greeter&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;hi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$n&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;Hi, &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;$n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$g&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Greeter&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$cb&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$g&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;hi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// callable to instance method
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$cb&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Kris&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;never-return-type&#34;&gt;
    &lt;a href=&#34;#never-return-type&#34;&gt;
	never return type
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;fail&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$msg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;never&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;throw&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;RuntimeException&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$msg&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;fibers-coroutines&#34;&gt;
    &lt;a href=&#34;#fibers-coroutines&#34;&gt;
	Fibers (coroutines)
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$f&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Fiber&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Fiber&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;suspend&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;hello&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;});&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$val&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$f&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// &amp;#39;hello&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$f&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;resume&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;82-2022&#34;&gt;
    &lt;a href=&#34;#82-2022&#34;&gt;
	8.2 (2022)
    &lt;/a&gt;
&lt;/h1&gt;
&lt;h2 id=&#34;constants-in-traits&#34;&gt;
    &lt;a href=&#34;#constants-in-traits&#34;&gt;
	Constants in Traits
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;trait&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;T&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;no&#34;&gt;VERSION&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;C&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;use&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;T&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;VERSION&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// 1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;truefalsenull-standalone-types&#34;&gt;
    &lt;a href=&#34;#truefalsenull-standalone-types&#34;&gt;
	true/false/null standalone types
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;ok&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;true&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;true&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;maybe&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;null&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;null&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;random-extension-randomizer-api&#34;&gt;
    &lt;a href=&#34;#random-extension-randomizer-api&#34;&gt;
	Random extension (Randomizer API)
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$r&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;new&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;\Random\Randomizer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;();&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$r&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;getInt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;6&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;se&#34;&gt;\n&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// uniform int in [1,6]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;sensitiveparameter-attribute&#34;&gt;
    &lt;a href=&#34;#sensitiveparameter-attribute&#34;&gt;
	#[SensitiveParameter] attribute
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;login&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;c1&#34;&gt;#[SensitiveParameter] string $password): void {}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;// Sensitive parameters are redacted from stack traces and error logs.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;readonly-classes&#34;&gt;
    &lt;a href=&#34;#readonly-classes&#34;&gt;
	Readonly classes
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;readonly&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Config&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;fm&#34;&gt;__construct&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$dsn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;disjunctive-normal-form-types-dnf&#34;&gt;
    &lt;a href=&#34;#disjunctive-normal-form-types-dnf&#34;&gt;
	Disjunctive Normal Form types (DNF)
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;A&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;B&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;|&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;C&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;D&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;83-2023&#34;&gt;
    &lt;a href=&#34;#83-2023&#34;&gt;
	8.3 (2023)
    &lt;/a&gt;
&lt;/h1&gt;
&lt;h2 id=&#34;typed-class-constants&#34;&gt;
    &lt;a href=&#34;#typed-class-constants&#34;&gt;
	Typed class constants
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;X&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;const&lt;/span&gt; &lt;span class=&#34;no&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;LIMIT&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;explicit-callables&#34;&gt;
    &lt;a href=&#34;#explicit-callables&#34;&gt;
	Explicit callables
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;handler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$cb&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Closure&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;::&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;fromCallable&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;handler&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;override-attribute&#34;&gt;
    &lt;a href=&#34;#override-attribute&#34;&gt;
	#[Override] attribute
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Base&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;foo&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;void&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{}&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Child&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;extends&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;Base&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;#[Override] public function foo(): void {} }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;json_validate&#34;&gt;
    &lt;a href=&#34;#json_validate&#34;&gt;
	json_validate()
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;json_validate&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;{&amp;#34;a&amp;#34;:1}&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;cm&#34;&gt;/* valid */&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;84-2024&#34;&gt;
    &lt;a href=&#34;#84-2024&#34;&gt;
	8.4 (2024)
    &lt;/a&gt;
&lt;/h1&gt;
&lt;h2 id=&#34;autovivification-support&#34;&gt;
    &lt;a href=&#34;#autovivification-support&#34;&gt;
	Autovivification support
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Arrays now autovivify on nested assignments in more cases (e.g., &lt;code&gt;$a[&#39;x&#39;][&#39;y&#39;][] = 1;&lt;/code&gt; without prior checks).&lt;/p&gt;
&lt;h2 id=&#34;property-hooks-__get__set-override-without-magic&#34;&gt;
    &lt;a href=&#34;#property-hooks-__get__set-override-without-magic&#34;&gt;
	Property hooks (__get/__set override without magic)
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Property access can define inline get/set hooks on a property without global magic methods.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;User&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$name&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nx&#34;&gt;get&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nx&#34;&gt;set&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$this&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;name&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;trim&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$value&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;asymmetric-visibility-getset-modifiers&#34;&gt;
    &lt;a href=&#34;#asymmetric-visibility-getset-modifiers&#34;&gt;
	Asymmetric visibility (get/set modifiers)
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;class&lt;/span&gt; &lt;span class=&#34;nc&#34;&gt;Counter&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;public&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$value&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;private&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;set&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;array_find-array_first-array_last&#34;&gt;
    &lt;a href=&#34;#array_find-array_first-array_last&#34;&gt;
	array_find(), array_first(), array_last()
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$xs&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;3&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;];&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;array_first&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$xs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// 1
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;array_last&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$xs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;// 3
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nx&#34;&gt;array_find&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$xs&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;fn&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$v&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$v&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;%&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;===&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;c1&#34;&gt;// 2
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;85-2025&#34;&gt;
    &lt;a href=&#34;#85-2025&#34;&gt;
	8.5 (2025)
    &lt;/a&gt;
&lt;/h1&gt;
&lt;h2 id=&#34;closures-and-callables-in-constant-expressions&#34;&gt;
    &lt;a href=&#34;#closures-and-callables-in-constant-expressions&#34;&gt;
	Closures and callables in constant expressions
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Allows using closures/callables in const contexts
(e.g., as default values in attributes or constants where evaluated at compile time if possible).&lt;/p&gt;
&lt;h2 id=&#34;pipe-operator-&#34;&gt;
    &lt;a href=&#34;#pipe-operator-&#34;&gt;
	Pipe operator (|&amp;gt;)
    &lt;/a&gt;
&lt;/h2&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-php&#34; data-lang=&#34;php&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;function&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;trimToInt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;string&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;int&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nx&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;trim&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$s&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;$result&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34; 42 &amp;#34;&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;|&amp;gt;&lt;/span&gt; &lt;span class=&#34;nx&#34;&gt;trimToInt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;$$&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;);&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;fatal-error-backtraces&#34;&gt;
    &lt;a href=&#34;#fatal-error-backtraces&#34;&gt;
	Fatal error backtraces
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Fatal errors now include backtraces to aid debugging (CLI and logs).&lt;/p&gt;
&lt;h2 id=&#34;nodiscard&#34;&gt;
    &lt;a href=&#34;#nodiscard&#34;&gt;
	#[NoDiscard]
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Marks a function/method return value as important; discarding it can trigger a warning.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>MySQL: Release Notes Database</title>
      <link>https://blog.koehntopp.info/2025/07/09/mysql-release-notes-database/</link>
      <pubDate>Wed, 09 Jul 2025 05:06:07 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian KÃ¶hntopp)</author>

      <guid>https://blog.koehntopp.info/2025/07/09/mysql-release-notes-database/</guid>
      <description>&lt;p&gt;Iâ€™ve hacked together a horrible thing in Python, and made it available in
&lt;a href=&#34;https://github.com/isotopp/mysql-release-notes&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;mysql-release-notes&lt;/a&gt;


on GitHub.&lt;/p&gt;
&lt;p&gt;Itâ€™s a Python project (done with &lt;code&gt;uv&lt;/code&gt;) that downloads all MySQL release notes,
dumps them into a release_notes folder, and then parses them,
pushing everything into a database.&lt;/p&gt;
&lt;p&gt;It uses SQLAlchemy and mysqlclient to connect to the database.&lt;/p&gt;
&lt;p&gt;It generates a schema (not preserving any data),
and fills it with all the release notes we have.&lt;/p&gt;
&lt;p&gt;The schema is a simple star.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;mysql_releases.png&#34; alt=&#34;2025/07/mysql_releases.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;For each release, we have many issues,
and for each issue we store a number of properties.
Properties arenâ€™t stored as plain text â€” theyâ€™re encoded,
and we only keep the property ID.&lt;/p&gt;
&lt;p&gt;Sample queries like&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-mysql&#34; data-lang=&#34;mysql&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;select&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;contributor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;min&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;release_date&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;min&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;max&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;release_date&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;max&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;version&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;       &lt;/span&gt;&lt;span class=&#34;nf&#34;&gt;count&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;as&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cnt&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;from&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;release&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;`&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;issue&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;r&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;release_id&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;issue_thanks&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;it&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;it&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;issue_id&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;         &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;join&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;thanks&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;on&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;it&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;thanks_id&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;id&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;group&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;t&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;contributor&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;order&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;by&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cnt&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;desc&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;can answer questions about issues â€”
for example, who contributed the most fixes or changes.&lt;/p&gt;
&lt;p&gt;The code is a lazy evening project,
but it can already answer some useful questions.
Like: â€œIf I upgraded from version x to y, what bugs would be fixed?â€&lt;/p&gt;
&lt;p&gt;That said, since the data comes from free-text HTML release notes,  itâ€™s messy.
Weâ€™ll probably need fixer functions.&lt;/p&gt;
&lt;p&gt;MRs welcome.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Electricity, China, Coal and Solar</title>
      <link>https://blog.koehntopp.info/2025/06/27/electricity-china-coal-and-solar/</link>
      <pubDate>Fri, 27 Jun 2025 03:04:05 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian KÃ¶hntopp)</author>

      <guid>https://blog.koehntopp.info/2025/06/27/electricity-china-coal-and-solar/</guid>
      <description>&lt;p&gt;China stands outâ€”unlike EU countriesâ€”as a nation with rapidly growing energy demand.
According to Our World in Data, its electricity production is dominated by coal:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://ourworldindata.org/grapher/electricity-prod-source-stacked?country=~CHN&amp;amp;tableFilter=countries&amp;amp;tableSearch=China&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://ourworldindata.org/grapher/electricity-prod-source-stacked?country=~CHN&amp;tableFilter=countries&amp;tableSearch=China&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;china-01.png&#34; alt=&#34;2025/06/china-01.png&#34;  /&gt;
&lt;/p&gt;


&lt;em&gt;&amp;ldquo;OMG! So much coal! China dooms us all!&amp;rdquo;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Well, no.
We are looking at growth in a growing market, and that is complicated.
Let&amp;rsquo;s switch to percentages&amp;hellip;&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;china-02.png&#34; alt=&#34;2025/06/china-02.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;Coalâ€™s market share peaked at about 80% in 2007, but has since fallen to 58%â€”a 27-percentage point drop
despite overall growth in electricity production.
So yes, coalâ€™s dominance is shrinking, even as the total pie expands.&lt;/p&gt;
&lt;p&gt;Investment flows confirm the shift: renewables are now drawing practically all of the capital.
And price-wise, renewable electricity is over 50% cheaper than fossil fuel alternatives.&lt;/p&gt;
&lt;h1 id=&#34;near-term-outlook-fossils-declining-faster&#34;&gt;
    &lt;a href=&#34;#near-term-outlook-fossils-declining-faster&#34;&gt;
	Near-term outlook: Fossils declining faster
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;China is approaching the plateau phase of its electricity demand curve (â€œSâ€‘curveâ€).
Its National Energy Administration reported that at the end of 2023,
total installed generation capacity hit 2.92â€¯TW, a 13.9% increase year-on-year,
pushing per-capita installed capacity above 2â€¯kWâ€”doubling since 2014
and nearing EU and German levels (2.42â€¯kW and 3.22â€¯kW respectively).
This suggests that capacity growth will saturate national demand within around five years.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.nea.gov.cn/2024-02/02/c_1310763217.htm&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;The Chinese National Energy Agency writes&lt;/a&gt;

:
End of 23 the installed generative power was 2.92E9 kW, 13.9% YoY.
The per-capita installed capacity was greater than 2 kW, up from below 1kW before 2014.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.reuters.com/business/energy/chinas-2024-coal-power-construction-hits-10-year-high-researchers-say-2025-02-13&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;China&amp;rsquo;s 2024 coal power construction hits 10-year high, researchers say&lt;/a&gt;

:
China DID install a record amount of new coal capacity, 94.5 GW nominal capacity.
It also decommissioned &amp;gt;100 GW existing capacity, this is fleet modernization.
The new capacity is cleaner and has been specifically built as peakers.
Their annual runtime hours are less than 50% and are declining.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://coal.in-en.com/html/coal-2638401.shtml&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;China to establish coal power capacity price mechanism&lt;/a&gt;

:
This is an explicit policy goal; Classify and build fossil fuel power generation as peakers and bring down their hours.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Reuters:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;China has retired more than 100 GW of obsolete coal-fired power in the last decade, according to its energy regulator,
and new projects can only be built to provide back-up for renewable energy bases.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In 2015 a coal plant in China had a utilization of 5000h/a full power,
in 2022 it was &amp;lt;4300h/a (less than half of the 8760h a single year has).
There is now a two-price-system that pays plant operators for standby service.&lt;/p&gt;
&lt;p&gt;Non-Chinese sources confirm that:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://www.sustainabilitybynumbers.com/p/china-coal-plants&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;China is building more coal plants but might burn less coal&lt;/a&gt;

&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://discoveryalert.com.au/news/chinas-coal-plant-strategy-2025-renewable-backup&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Chinaâ€™s Coal Plant Expansion Plan: Balancing Energy and Climate Through 2027&lt;/a&gt;

&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;natural-gas-a-minor-player&#34;&gt;
    &lt;a href=&#34;#natural-gas-a-minor-player&#34;&gt;
	Natural gas: A minor player
    &lt;/a&gt;
&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://m.bjx.com.cn/mnews/20250324/1433631.shtml&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Next stop for natural gas power generation&lt;/a&gt;

:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Natural Gas provides in China less than 5% of the total energy mix, a pure peaker fleet for stabilization.
It is utilized less than 2500h/a.&lt;/p&gt;
&lt;h1 id=&#34;batteries-and-storage-supporting-the-shift&#34;&gt;
    &lt;a href=&#34;#batteries-and-storage-supporting-the-shift&#34;&gt;
	Batteries and storage supporting the shift
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Storage capacity in China is skyrocketing:
Electrochemical storage reached 73.8â€¯GW / 168â€¯GWh by end of 2024â€”up 130% year-over-yearâ€”with power-to-energy ratio ~2.3 kWh/kW.
Hydropower, including pumped storage, added 14.4â€¯GW in 2024, and currently totals 58.8â€¯GW, with another 200â€¯GW planned.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://english.www.gov.cn/archive/statistics/202501/24/content_WS6793830cc6d0868f4e8ef23f.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;China&amp;rsquo;s new energy storage capacity exceeds 70 million KW&lt;/a&gt;

&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.ess-news.com/2025/01/23/chinas-new-energy-storage-capacity-surges-to-74-gw-168-gwh-in-2024-up-130-yoy/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Chinaâ€™s new energy storage capacity surges &amp;hellip; up 130% YoY&lt;/a&gt;

&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://energy.economictimes.indiatimes.com/news/power/china-added-14-4-gw-new-hydropower-capacity-in-2024-pumped-storage-capacity-at-58-69-gw-iha/122059778&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;China added 14.4 GW new hydropower capacity in 2024&lt;/a&gt;

:
Installed capacity at the end of 2024: 58.78 GW (+7.75 GW YoY), 200 GW in construction or planning with a target &amp;lt; 2030.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;what-happens-when-per-capita-demand-peaks&#34;&gt;
    &lt;a href=&#34;#what-happens-when-per-capita-demand-peaks&#34;&gt;
	What happens when per-capita demand peaks?
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Once China&amp;rsquo;s per-capita installed capacity levels off around 2.5â€“3.3â€¯kW,
fossil fuels will decline even faster.
Renewables will displace them more aggressively,
and Chinaâ€™s immense manufacturing base will pivot to exporting clean-energy technologyâ€”especially to solar-rich,
lowerâ€‘capacity countries in the Global South.&lt;/p&gt;
&lt;p&gt;Globally, average per-capita capacity sits at roughly 1.1â€¯kW.
In many countries below this threshold, a modest 2â€¯kWh battery can power a home overnight;
5â€¯kWh will have no challenges at all.&lt;/p&gt;
&lt;p&gt;Expect rising adoption of both:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Decentralized solar + battery systems (e.g., Pakistan)&lt;/li&gt;
&lt;li&gt;Large-scale wind/solar farms + storage&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;All powered by Chinese technology.&lt;/p&gt;
&lt;h1 id=&#34;so-is-china-still-a-coal-monster&#34;&gt;
    &lt;a href=&#34;#so-is-china-still-a-coal-monster&#34;&gt;
	So, is China still a &amp;ldquo;coal monster&amp;rdquo;?
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Yes.
But that changes rapidly.
Coalâ€™s share is decliningâ€”new coal projects are largely serving as seasonal or hourly backup.
On many days, certain regions run entirely on renewables.
The coal fleet is being modernizedâ€”older plants retired and newer peakers commissioned.&lt;/p&gt;
&lt;p&gt;Right now:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Coal capacity is still large, and coal-fired generation remains significant.&lt;/li&gt;
&lt;li&gt;Grid weaknesses still limit renewablesâ€™ full potential, causing periods of curtailment.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;But this is well understood and strategically being worked on.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Not being federated and E2E as an advantage</title>
      <link>https://blog.koehntopp.info/2025/06/17/no-federation-no-e2e/</link>
      <pubDate>Tue, 17 Jun 2025 03:04:05 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian KÃ¶hntopp)</author>

      <guid>https://blog.koehntopp.info/2025/06/17/no-federation-no-e2e/</guid>
      <description>&lt;p&gt;An unpopular opinion:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://revolt.chat/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Revolt&lt;/a&gt;

 is a chat that ultimately tries to emulate and displace Discord as an alternative.
Revolt is not E2E encrypted and not federated. That is a big plus.&lt;/p&gt;
&lt;p&gt;Federation and E2E encryption are features that make an implementation much, much more complicated without need.
Most people do not want to organize a women&amp;rsquo;s shelter or abortion support or the antifash resistance.
They just want to have a public guild server for their gaming guild or chat about 3D printers.&lt;/p&gt;
&lt;h1 id=&#34;dont-federate-chat&#34;&gt;
    &lt;a href=&#34;#dont-federate-chat&#34;&gt;
	Don&amp;rsquo;t federate chat
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Having a federated system for that has a number of implications that make implementations more complicated and impact quality of life for users.&lt;/p&gt;
&lt;p&gt;In a federated systems, different servers can be on different versions of the server software.
This can impact features, which may or may not work properly.
If will affect security of the whole network due to lack of patches in one place.
And it will create propagation delays of messages inside the federated network,
that is, order or even availability of messages can differ depending on what server in the federated network you are on.&lt;/p&gt;
&lt;p&gt;As a consequence for the individual user, there is no single history order of messages â€“ some messages may be missing,
appear out of order, and there will be spam.
Lots of it.&lt;/p&gt;
&lt;p&gt;Back when Google Hangouts was still federating XMPP (Jabber) servers,
specialized Jabber server implementations existed with the sole purpose of simulating user profiles,
discovering Hangouts that are joinable, and spamming users with, well, garbage.&lt;/p&gt;
&lt;p&gt;Operating a public chat room in 2025 is already a moderation nightmare.
Adding federation is a surefire way to make things fail.&lt;/p&gt;
&lt;h2 id=&#34;federate-identity-multihome-clients&#34;&gt;
    &lt;a href=&#34;#federate-identity-multihome-clients&#34;&gt;
	Federate identity, multihome clients.
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;This is not to say that the client should be bound to a single server.&lt;/p&gt;
&lt;p&gt;It can, and should, in fact, connect to different servers for each community.
The server, though, should be a &amp;ldquo;single visible instance, single history for all&amp;rdquo; thing,
and have proper controls for the moderation team to control admission of new users to whatever their policy is.&lt;/p&gt;
&lt;p&gt;And federated identity can be quite useful.&lt;/p&gt;
&lt;p&gt;In fact, even Mastodon and other Fediverse systems should use federated identity, and also be identity servers.
This will allow a user to connect their client to a chat server without making any new account.&lt;/p&gt;
&lt;h1 id=&#34;dont-e2e-encrypt-chat&#34;&gt;
    &lt;a href=&#34;#dont-e2e-encrypt-chat&#34;&gt;
	Don&amp;rsquo;t E2E encrypt chat
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Use TLS (or even a REST protocol over HTTPS) to connect to the chat server.
But do not E2E messages.&lt;/p&gt;
&lt;p&gt;Keep a clear text history on the server.&lt;/p&gt;
&lt;p&gt;This makes it trivial for a single identity (&amp;ldquo;isotopp&amp;rdquo;) to have multiple devices (desktop, ipad and web client)
and switch between them, yet have the same chat history on all devices.&lt;/p&gt;
&lt;p&gt;It will allow new users to join a channel and see the full channel history,
if the channel is configured to do that.
And because the server is not federated, the channel backlog policy can actually be enforced.&lt;/p&gt;
&lt;p&gt;It makes it trivial to implement search and indexed archives for a server that wants that.&lt;/p&gt;
&lt;p&gt;It makes it easier to implement detection of spammy behavior,
implement rate limits, and to autodetect inappropriate or banned content.&lt;/p&gt;
&lt;p&gt;With E2E, the server only has binary garbage that it cannot read itself, only distribute.
It may not even have metadata.&lt;/p&gt;
&lt;p&gt;It will be complicated to scan messages for spammy behavior, detect banned content.&lt;/p&gt;
&lt;p&gt;It will be impossible to provide backlog to newly joined users.
An existing identity (Isotopp) adding a new device (his phone) can only have backlog,
if the other clients (the desktop of ipad client of Isotopp) of that user support client-to-client backlog transfer.&lt;/p&gt;
&lt;p&gt;Without E2E encryption, there is no keysplit problem (&amp;ldquo;half a channel only sees undecipherable messages&amp;rdquo;),
there is no &amp;ldquo;known plaintext&amp;rdquo; problem to handle, and there is no large-scale key distribution problem.&lt;/p&gt;
&lt;h1 id=&#34;conclusion&#34;&gt;
    &lt;a href=&#34;#conclusion&#34;&gt;
	Conclusion
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;If you consider writing a Discord replacement,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Don&amp;rsquo;t federate, multi-home the client to non-federated server instances.
Lose all the complexities of distributed transactions, serialization problems, lost messages in split, and diverging timelines.&lt;/li&gt;
&lt;li&gt;Federate authentication, provide identity servers, or use mastodon&amp;rsquo;s and other fedi as identity server they way Pixelfed does.
Let people chat with their Mastodon identity, if they want or let them make a new identity with any of the identity servers you run.&lt;/li&gt;
&lt;li&gt;Don&amp;rsquo;t E2E. Use transport encryption, TLS, and be done with it.
Use the cleartext on the (non-federated, singular) server to make useful things, antispam, search, serving backlogs.
Lose all the complexities and user-hostile side-effects that come with using a thing such as the Matrix protocol and E2E.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Both properties (federation, E2E) do little for the end user experience except in a few limited use-cases,
but come with a huge cost in implementation complexity,
review, and anti-abuse measures.
They will ultimately bind the majority of your dev capacity for nothing in return.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Heizen mit Klimaanlagen</title>
      <link>https://blog.koehntopp.info/2025/06/10/heizen-mit-klimaanlagen/</link>
      <pubDate>Tue, 10 Jun 2025 03:04:05 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian KÃ¶hntopp)</author>

      <guid>https://blog.koehntopp.info/2025/06/10/heizen-mit-klimaanlagen/</guid>
      <description>&lt;p&gt;Ich habe
&lt;a href=&#34;https://blog.koehntopp.info/2025/03/10/going-fully-electric/&#34;&gt;in einem anderen Artikel&lt;/a&gt;


schon in englischer Sprache Ã¼ber unsere neue Heizung geschrieben und dann in
&lt;a href=&#34;https://blog.koehntopp.info/2025/04/03/panasonic-comfort-cloud/&#34;&gt;einem weiteren Artikel&lt;/a&gt;


die Integration der KlimagerÃ¤te mit der Panasonic Cloud und Home Assistant beschrieben.&lt;/p&gt;
&lt;p&gt;Wir sind also seit Anfang MÃ¤rz 2025 erdgasfrei.
Das Heizung-Setup ist technisch gesehen &amp;ldquo;hybrid&amp;rdquo;, weil die alte Gasheizung noch da ist
und im &amp;ldquo;Sommermodus&amp;rdquo; Bereitschaft fÃ¤hrt.
Sollte es notwendig werden, kÃ¶nnen wir sie dazu schalten und KlimagerÃ¤te konventionell verstÃ¤rken.
Ich rechne nicht damit, dass das notwendig werden wird,
aber da der SpaÃŸ derzeit nur 1 Euro/Tag kostet, lasse ich das erst mal so.
Irgendwann in 2026 fliegt der Kram dann raus, der ZÃ¤hler wird blockiert, die HeizkÃ¶rper abgesÃ¤gt
und der Platz zurÃ¼ckgewonnen.&lt;/p&gt;
&lt;h1 id=&#34;warmwasser&#34;&gt;
    &lt;a href=&#34;#warmwasser&#34;&gt;
	Warmwasser
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Warmwasser kommt durch eine Brauchwasser-WÃ¤rmepumpe.
Diese zieht AuÃŸenluft durch eine EinstrÃ¶m-Ã–ffnung ein, kÃ¼hlt die AuÃŸenluft ab
und pustet die Luft durch ein 2. Loch wieder raus.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;electric-14.jpg&#34; alt=&#34;2025/03/electric-14.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Der Dachaufbau auf der Nordost-Seite: Solarzellen, die Ã–ffnungen fÃ¼r die Brauchwasser-WÃ¤rmepumpe,
und der Schornstein der Gas-Therme, an seinem letzten Tag.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Die Brauchwasser-WÃ¤rmepumpe ist ein mannsgroÃŸer Zylinder, der von oben die beiden massiven Luftzufuhr-RÃ¶hren bekommt,
und der seitlich AnschlÃ¼sse fÃ¼r Kaltwasser-Zulauf und Warmwasser-Ablauf hat.
Wir haben 200l TankgrÃ¶ÃŸe installiert, weil das fÃ¼r 3 Personen reicht, aber im Nachhinein Ã¤rgert mich das ein wenig:
Ein 270l Tank wÃ¼rde nicht mehr Energie brauchen (denn es wird im Grunde nur verbrauchtes Wasser ersetzt und erwÃ¤rmt),
wÃ¼rde aber mehr thermische Masse ins System bringen â€“ ich kann so an warmen, sonnigen Tagen Wasser vorab aufwÃ¤rmen,
aufbewahren und am darauf folgenden kÃ¤lteren Tag nutzen.
Ich wÃ¼rde so weniger einspeisen und am dunklen Tag weniger Strom aus dem Netz ziehen.&lt;/p&gt;
&lt;p&gt;Wenn man annimmt, dass einstrÃ¶mende AuÃŸenluft und einstrÃ¶mendes kaltes Wasser 15ÂºC warm ist und auf 55ÂºC aufgewÃ¤rmt wird,
dann hat die Pumpe einen Hub von 40ÂºC.
Anfangs ist der Hub kleiner:
Die Pumpe muss 15ÂºC kaltes Wasser anwÃ¤rmen.
SpÃ¤ter, wÃ¤hrend des Betriebes, ist das Wasser am WÃ¤rmetauscher im Tank wÃ¤rmer, der Hub ist grÃ¶ÃŸer, und
der Kompressor muss mehr arbeitenâ€”und braucht mehr Energie.&lt;/p&gt;
&lt;p&gt;Und das sehen wir auch in der Messung:&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;heizen-01.png&#34; alt=&#34;2025/06/heizen-01.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Leistungsaufnahme einer Brauchwasser-WÃ¤rmepumpe, steigt Ã¼ber Zeit von 480 W auf 635 W.&lt;/em&gt;&lt;/p&gt;
&lt;h1 id=&#34;hub-wÃ¤rmepumpen-und-altbausanierungen&#34;&gt;
    &lt;a href=&#34;#hub-w%c3%a4rmepumpen-und-altbausanierungen&#34;&gt;
	Hub, WÃ¤rmepumpen und Altbausanierungen
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Das ist nicht nur bei Brauchwasser-WÃ¤rmepumpen so, sondern bei allen WÃ¤rmepumpen:
Kleinerer Hub heiÃŸt mehr Effizienz, weniger Energieverbrauch.&lt;/p&gt;
&lt;p&gt;Das ist auch der Grund, warum man sagt, dass ein Haus mit WÃ¤rmepumpe energetisch saniert sein sollte.
Es geht nicht wirklich um die Sanierung, sondern in Wahrheit darum,
die Heizung mit einer so niedrigen Vorlauftemperatur wie mÃ¶glich laufen zu lassen.
Und damit den Hub der WÃ¤rmepumpe niedrig zu halten, damit sie effizienter ist.&lt;/p&gt;
&lt;p&gt;DÃ¤mmung sorgt dafÃ¼r, dass das Haus weniger WÃ¤rme an die Umwelt verliert.
Man muss weniger heizen oder kann die Pumpe kleiner dimensionieren.
GrÃ¶ÃŸere HeizkÃ¶rper oder gar eine FuÃŸbodenheizung sorgen fÃ¼r eine grÃ¶ÃŸere TransferflÃ¤che,
sodass das Heizungswasser nicht so warm werden muss.&lt;/p&gt;
&lt;p&gt;Der schwÃ¤chste HeizkÃ¶rper im System (&amp;ldquo;der am meisten unterdimensionierte&amp;rdquo;) bestimmt dabei die Vorlauftemperatur:
HeizflÃ¤che und die Menge an durchstrÃ¶mendem Wasser pro Zeit (der &amp;ldquo;Volumenstrom&amp;rdquo;) bestimmen,
zusammen mit der Vorlauftempteratur, wieviel WÃ¤rme der Radiator an die Umgebung abgibt.
Unter UmstÃ¤nden kann also
&lt;a href=&#34;https://youtu.be/i4mpBAYziyw&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sinnvolles Tuning der Heizung&lt;/a&gt;


und danach falls nÃ¶tig der Austausch einzelner HeizkÃ¶rper und die Isolierung eines Raumes die Situation so verbessern,
dass man die Effizienz steigert, die Vorlauftemperatur senkt oder gar mit einer kleineren Pumpe hinkommt.&lt;/p&gt;
&lt;h1 id=&#34;luft-wasser-wÃ¤rmepumpe-schÃ¤tzen&#34;&gt;
    &lt;a href=&#34;#luft-wasser-w%c3%a4rmepumpe-sch%c3%a4tzen&#34;&gt;
	Luft-Wasser-WÃ¤rmepumpe schÃ¤tzen
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Wenn man Ã¼ber eine Sanierung der eigenen Heizung und den Einbau einer Luft-Wasser-WÃ¤rmepumpe
(statt wie bei mir KlimagerÃ¤te) nachdenkt, ist das eine recht einfache Rechnung:&lt;/p&gt;
&lt;p&gt;Schritt 1 ist herauszufinden, wieviele Kilowattstunden Heizleistung man pro Jahr aufwendet.
Dazu muss man nachsehen, wie viel Gas pro Jahr gekauft wird, oder wie viel Ã–l pro Jahr verbraucht wird.
Ein Kubikmeter Gas oder ein Liter HeizÃ¶l kann jeweils mit 10 kWh angesetzt werden,
wenn die Abrechnung nicht sowieso schon in kWh erfolgt.&lt;/p&gt;
&lt;p&gt;Wenn man also 1250 Kubikmeter Gas pro Jahr verbrennt, dann sind das 12500 kWh Heizleistung im Jahr.&lt;/p&gt;
&lt;p&gt;Das muÃŸ man jetzt nicht nur auf ein Jahr, sondern auch auf die beheizte FlÃ¤che normieren,
damit der Wert vergleichbar wird.
Bei 12500 kWh pro Jahr und 156 qm beheizter FlÃ¤che sind das also 80 kWh/(a * qm) (pro Jahr und Quadratmeter)&lt;/p&gt;
&lt;p&gt;Wir kÃ¶nnen das in eine
&lt;a href=&#34;https://www.effizienzhaus-online.de/energieeffizienzklasse/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Energieeffizienzklasse&lt;/a&gt;


Ã¼bertragen.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;heizen-06.png&#34; alt=&#34;2025/06/heizen-06.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Energieeffizienzklassen in Energieausweisen fÃ¼r WohngebÃ¤ude ab Mai 2014.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Mit 80 kWh/(a * qm) liegen wir also gerade eben so in Energieeffizienzklasse C:
Die Klasse B verlangt weniger als 75 kWh/(a * qm),
und die Klasse D ist fÃ¼r mehr als 100 kWh/(a * qm).&lt;/p&gt;
&lt;p&gt;Man sagt im Allgemeinen, dass man mit einem Verbrauch von 100 kWh/(a * qm) oder besser
ohne viel Nachdenken eine WÃ¤rmepumpe einbauen kann.
Wenn man also Energieeffizienzklasse C oder besser hat, ist kein Problem zu erwarten.&lt;/p&gt;
&lt;p&gt;Es lohnt sich dennoch, die Heizungssteuerung zu tunen, und danach die Skalierung der HeizkÃ¶rper zu prÃ¼fen,
und zu sehen ob man den Vorlauf runter geregelt bekommt.&lt;/p&gt;
&lt;p&gt;WÃ¤rmepumpen haben in der Regel eine angegebene Jahresarbeitszahl (JAZ, COP, Coefficient of Performance).
Das ist der Faktor an Energie, den die WÃ¤rmepumpe pumpt.
FÃ¼r ein kWh Strom, das ich in den Kompressor stecke, bekomme ich im Schnitt JAZ viele kWh an Heizenergie.&lt;/p&gt;
&lt;p&gt;Bei jeder WÃ¤rmepumpe in einem Haus mit Energieeffizienzklasse C oder besser ist die JAZ mindestens 3.
Man kann den Gasverbrauch seiner Wohnung in kWh also durch die JAZ teilen,
und erhÃ¤lt den erwarteten Strom-Mehrverbrauch durch die WÃ¤rmepumpe.&lt;/p&gt;
&lt;p&gt;Statt 1250 Kubikmeter Gas oder 12500 kWh Heizenergie aus Gas
muss man also 4166 kWh Strom (oder weniger) einplanen.&lt;/p&gt;
&lt;p&gt;Schritt 2 (optional): Wenn man auÃŸerdem den Gasverbrauch pro Tag hat, und die AuÃŸentemperaturen an diesen Tagen,
dann kann man sich den kÃ¤ltesten Tag eines Jahres suchen und den Gasverbrauch an diesem Tag notieren.
Diese Informationen sind nÃ¼tzlich, um die WÃ¤rmepumpe fÃ¼r das Haus korrekt zu dimensionieren â€“ hat man die Daten nicht,
ist das kein Beinbruch, aber dann wird geschÃ¤tzt und ein Standard-Formelsystem angewendet.
Dieses ist auf Sicherheit dimensioniert, wird also ggf. eine grÃ¶ÃŸere WÃ¤rmepumpe als notwendig errechnen.&lt;/p&gt;
&lt;p&gt;FÃ¼r einen Heizungsbauer und -planer ist es jedenfalls sehr hilfreich, diese Werte zu haben.&lt;/p&gt;
&lt;h1 id=&#34;klimagerÃ¤t-statt-heizkÃ¶rper&#34;&gt;
    &lt;a href=&#34;#klimager%c3%a4t-statt-heizk%c3%b6rper&#34;&gt;
	KlimagerÃ¤t statt HeizkÃ¶rper
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Aus irgendeinem Grund verwenden wir in Nord- und Mitteleuropa Heizungen mit Wasser im Heizkreislauf,
und bauen dann WÃ¤rmepumpen ein, die dieses System weiter verwenden.
Das heiÃŸt speziell, wir verwenden Luft-Wasser-WÃ¤rmepumpen.&lt;/p&gt;
&lt;p&gt;Das erste Wort, Luft, bezeichnet dabei das Medium, aus dem die WÃ¤rme gezogen wird â€“ die Umgebungsluft.
Es gibt auch WÃ¤rmepumpen, die WÃ¤rme aus Grund- oder FluÃŸwasser ziehen, oder aus dem Erdreich (&amp;ldquo;ErdwÃ¤rmepumpen&amp;rdquo;).
Allen diesen Technologien ist gemeinsam, dass sie aufwÃ¤ndiger zu bauen sind,
und ihre StÃ¼ckzahlen geringer sind als die von LuftwÃ¤rmepumpen.
Daher sind sie meist auch teurer.&lt;/p&gt;
&lt;p&gt;Das zweite Wort, Wasser, bezeichnet das Medium, das erwÃ¤rmt wird, also hier das Wasser im Heizkreislauf.
Man kann also seine alten HeizkÃ¶rper weiter verwenden.&lt;/p&gt;
&lt;p&gt;In anderen Gegenden ist das nicht so.
In den USA und Kanada zum Beispiel haben wir oft Forced Air Heating,
bei denen das Haus LuftkanÃ¤le hat und wir zentral angewÃ¤rmte Luft in die RÃ¤ume drÃ¼cken.&lt;/p&gt;
&lt;p&gt;In SÃ¼deuropa, Japan und SÃ¼dostasien haben wir oft Split-KlimagerÃ¤te mit Heizfunktion (Luft-Luft-WÃ¤rmepumpen).
Das sind Split-Anlangen, also mit einem AuÃŸengerÃ¤t und einem InnengerÃ¤t.
Sie entnehmen der AuÃŸenluft Energie, transportieren sie im Arbeitsgas nach Drinnen und wÃ¤rmen im InnengerÃ¤t die Luft an.
Das ist dassselbe System wie bei amerikanischen Forced Air Heating,
aber nicht zentral, sondern dezentral pro Raum.&lt;/p&gt;
&lt;p&gt;Der Hub ist dabei relativ gering:
Die Luft im Innenraum wird auf 23ÂºCâ€“25ÂºC angewÃ¤rmt, statt auf 35ÂºC bis 55ÂºC wie bei einer europÃ¤ischen Heizung.
Entsprechend weniger Leistung wird aufgenommen.&lt;/p&gt;
&lt;h2 id=&#34;mit-klimaanlagen-heizen--das-geht&#34;&gt;
    &lt;a href=&#34;#mit-klimaanlagen-heizen--das-geht&#34;&gt;
	Mit Klimaanlagen heizen â€“ das geht?
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Der Energieverbrauch ist Ã¼berschaubar, etwa 400 Watt pro InnengerÃ¤t, das aktiv ist,
plus 400 Watt einmalig fÃ¼r die Anlage.&lt;/p&gt;
&lt;p&gt;Ich habe zwei Multisplit-Anlagen:
Ein AuÃŸengerÃ¤t an der SÃ¼dseite mit 5 AnschlÃ¼ssen (einer ungenutzt),
und ein AuÃŸengerÃ¤t an der Nordseite mit 3 AnschlÃ¼ssen.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;heizen-02.png&#34; alt=&#34;2025/06/heizen-02.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Anschalten um kurz vor 8, Abschalten um halb 10.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;heizen-03.png&#34; alt=&#34;2025/06/heizen-03.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Die Raumtemperatur schnellt quasi sofort von 19.0ÂºC auf 20.5ÂºC hoch.
Beim Abschalten fÃ¤llt sie sehr schnell von 20.5ÂºC auf 20.0ÂºC ab und sinkt dann langsam weiter, wie in der Nacht.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Schalten wir die Heizung an, sehen wir kurz vor 8 etwa 800 Watt Leistungsaufnahme, und dann im Betrieb weniger.
Parallel dazu sehen wir, wie die Raumtemperatur sehr schnell ansteigt, viel schneller als bei einer Heizung mit HeizkÃ¶rpern.
Etwa um halb 10 schalten wir ab, und die Raumtemperatur fÃ¤llt quasi sofort um ein halbes Grad,
um dann normal schnell weiter abzusinken.&lt;/p&gt;
&lt;p&gt;Das ist das erwartete Verhalten:
Die spezifische WÃ¤rme von Luft ist nun einmal viel geringer als die von Wasser.
Das System hat also weniger TrÃ¤gheit in beide Richtungen.&lt;/p&gt;
&lt;p&gt;Die Klimaanlage ist auf 23ÂºC eingestellt.
Die Temperaturmessung im Raum zeigt jedoch 20.5ÂºC an.
Was passiert hier?&lt;/p&gt;
&lt;p&gt;Das KlimagerÃ¤t sitzt knapp unter der Decke.
Es saugt Luft von oben ein und spuckt sie nach unten gelenkt wieder aus.&lt;/p&gt;
&lt;p&gt;Die ausgegebene Luft hat, laut FLIR Kamera 23ÂºC.
Die Zuluft hat schnell mal 22ÂºC bis 24ÂºC.&lt;/p&gt;
&lt;p&gt;Ein Sensor in KniehÃ¶he zeigt mir dann 20ÂºC an.&lt;/p&gt;
&lt;p&gt;Ein Sensor in SchulterhÃ¶he 21ÂºC.&lt;/p&gt;
&lt;p&gt;Raumluft ist also, auch bei aktiver LuftumwÃ¤lzung durch die KlimagerÃ¤te, thermal geschichtet.
Dasâ€“die Schichtungâ€“ist Ã¼brigens auch bei traditionellen Radiatoren so.
Die meisten Leute haben nur nicht so obsessiv gemessen wie ich.&lt;/p&gt;
&lt;p&gt;Wenn ich die Anlage abschalte, fehlt die UmwÃ¤lzung, und es schichtet sich noch mehr.
Das ist der schnelle Drop, den wir sehen.
Danach haben wir den normalen Verlust Ã¼ber Zeit.&lt;/p&gt;
&lt;p&gt;Anders als HeizkÃ¶rper sind KlimagerÃ¤te reine Konvektionsheizungen.
Sie geben keine WÃ¤rme durch Strahlung ab.
Daher ist es wichtig, die Luft auch aktiv zu bewegen und so die Schichtung zu durchbrechen.&lt;/p&gt;
&lt;h2 id=&#34;machen-die-klimanalagen-die-luft-nicht-sehr-trocken&#34;&gt;
    &lt;a href=&#34;#machen-die-klimanalagen-die-luft-nicht-sehr-trocken&#34;&gt;
	Machen die Klimanalagen die Luft nicht sehr trocken?
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Nein.&lt;/p&gt;
&lt;p&gt;Luft fÃ¼hlt sich &amp;ldquo;behaglich&amp;rdquo; (Wort aus dem Lehrbuch fÃ¼r Klima- und Heizungstechnik-Lehrlinge) an,
wenn ihre relative Luftfeuchte im Bereich 40-55% liegt.&lt;/p&gt;
&lt;p&gt;Luft hat ein AufnahmevermÃ¶gen von x Gramm Wasser pro Kubikmeter,
das von der Temperatur exponentiell abhÃ¤ngig ist.
10ÂºC Temperaturunterschied verdoppeln grob gesagt die Anzahl der Gramm Wasser, die Luft aufnehmen kann.&lt;/p&gt;
&lt;p&gt;Wenn ich also 10ÂºC warme Luft mit Wasser komplett sÃ¤ttige, dann ist die &lt;em&gt;relative&lt;/em&gt; Luftfeuchte 100%.
WÃ¤rme ich die Luft auf 20ÂºC an, kÃ¶nnte sie doppelt so viel Wasser tragen,
aber da ich sie nur warm gemacht habe und kein Wasser zugefÃ¼gt habe,
sind es immer noch genau so viel Gramm Wasser wie vorher, aber nur noch 50% relative Luftfeuchte.&lt;/p&gt;
&lt;p&gt;Wenn ich 20ÂºC warme Luft komplett mit Wasser sÃ¤ttige, und dann auf 10ÂºC abkÃ¼hle,
dann kann die Luft die HÃ¤lfte des Wassers in der Luft nicht mehr halten, und es kondensiert.&lt;/p&gt;
&lt;p&gt;Das Kondensat kann Schimmel verursachen.&lt;/p&gt;
&lt;p&gt;Das KlimagerÃ¤t kann im KÃ¼hlbetrieb Luft trocknen.
Das ist gut, denn so kann man SchwÃ¼le bekÃ¤mpfen.&lt;/p&gt;
&lt;p&gt;Das ist auch der Grund, warum es vier AnschlÃ¼sse hat:
Arbeitsgas rein und raus,
Strom und ein Abfluss fÃ¼r das Kondensat.
So wird Kondenswasser weggeschafft und kann keinen Schaden anrichten.&lt;/p&gt;
&lt;p&gt;Das Problem kann nur beim KÃ»hlen auftreten:
Beim Heizen wird die Luft vom alten Wert (sagen wir 19ÂºC) auf den eingestellten Wert (z.B. 23ÂºC) angewÃ¤rmt,
aber nicht angefeuchtet.
Die relative Luftfeuchte sinkt also, und zwar um den erwarteten Wert,
weil alles Wasser, das vorher in der Luft drin war auch drin bleibt.
Das ist ganz genauso wie bei der normalen Raumheizung mit einem HeizkÃ¶rper.&lt;/p&gt;
&lt;p&gt;In der Praxis sehen wir, dass die relative Luftfeuchte wÃ¤hrend des Heizbetriebes am Messpunkt von 60% auf 56% gefallen ist.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;heizen-04.png&#34; alt=&#34;2025/06/heizen-04.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Luftfeuchtigkeit im Erdgeschoss, im Wohnzimmer und in der KÃ¼che, wÃ¤hrend des Heizbetriebes.&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&#34;ist-das-nicht-laut&#34;&gt;
    &lt;a href=&#34;#ist-das-nicht-laut&#34;&gt;
	Ist das nicht laut?
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Eine Klimaanlage bewegt Luft.&lt;/p&gt;
&lt;p&gt;Drinnen:
Sie saugt Luft oben am KlimagerÃ¤t ein und wirft sie unten mit der eingestellten Solltemperatur aus.&lt;/p&gt;
&lt;p&gt;Wenn man das GerÃ¤t im Normal- oder gar Powerful-Modus betreibt (oder den LÃ¼fter manuell ansteuert),
dann kann man den LÃ¼fter im Leistungsbetrieb deutlich hÃ¶ren.
Stellt man den Modus auf Quiet, dann eher nicht.
Also, er macht GerÃ¤usche, aber Deine antike Wohnzimmeruhr tickt lauter,
und jedes drauÃŸen vorbei fahrende Auto ist ebenfalls lauter.&lt;/p&gt;
&lt;p&gt;Wir haben alle GerÃ¤te immer auf Quiet stehen, ausgenommen das Kind â€“ es findet das Gepuste toll
(und will sein Zimmer tropisch, also 23ÂºC-25ÂºC).&lt;/p&gt;
&lt;p&gt;Man kann ganz sachte hÃ¶ren, wenn sich das Luftleitwerk im Swing-Mode umstellt,
falls man es nicht fixiert hat.&lt;/p&gt;
&lt;p&gt;Und man kann den Luftstrom fÃ¼hlen, insbesondere, wenn man darin sitzt.
Auch das kann man einstellen, also wo das Ding hin pustet.&lt;/p&gt;
&lt;p&gt;DrauÃŸen: Das AuÃŸengerÃ¤t hat auch einen Ventilator und einen Kompressor.
Beide sind unter 40 dB(A) (selbst bei Enteisung), und im Normalbetrieb noch leiser.
Das heiÃŸt, sie sind IMMER leiser als andere UmgebungsgerÃ¤usche.&lt;/p&gt;
&lt;p&gt;Vom AuÃŸengerÃ¤t geht ein Luftstrom (im Winter kalt, im Sommer warm) in gerader Linie
etwa 100 cm in Richtung des Ventilators weg â€“ es sei denn, man lenkt ihn mit ein paar Natursteinen irgendwie um.&lt;/p&gt;
&lt;p&gt;Will sagen: Im Innenraum ist es marginal merkbar,
aber es ist nicht so wie die Heizung des defekten 40 Jahre alten Monoblocks,
der Euch bei Eurem Hotelbesuch in Detroit tiefgefroren hat
und dabei geklungen hat wie der Beginn einer Roboter-Rebellion.
Sondern angenehm bis unhÃ¶rbar.&lt;/p&gt;
&lt;p&gt;Das AuÃŸengerÃ¤t macht minimale GerÃ¤usche, die aber zu keinem Zeitpunkt als &amp;ldquo;LÃ¤rm&amp;rdquo; qualifizierbar sind.
Bei nÃ¶rgelnden Nachbarn sollte man den Artikel
&lt;a href=&#34;https://en.wikipedia.org/wiki/Go_Away_Green&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;WP: Go Away Green&lt;/a&gt;


lesen und seine SchlÃ¼sse ziehen.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;heizen-05.png&#34; alt=&#34;2025/06/heizen-05.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;EinstellmÃ¶glichkeiten der Klimaanlage in Home Assistant.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Wie dem auch sei: Es funktioniert, macht das Haus warm, braucht wenig Energie, kann im Sommer kÃ¼hlen,
und macht die Luft nicht trocken und ist auch nicht laut (auÃŸer man sagt dem GerÃ¤t,
dass es jetzt mal auf den Kopf hauen soll, weil ich es schnellstmÃ¶glich warm haben will)&lt;/p&gt;
&lt;h2 id=&#34;kÃ¼hlen&#34;&gt;
    &lt;a href=&#34;#k%c3%bchlen&#34;&gt;
	KÃ¼hlen
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Hier ist ein komplizierter Graph aus Home Assistant:&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;heizen-07.png&#34; alt=&#34;2025/06/heizen-07.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;Im unteren Graphen sehen wir die Leistungsaufnahme der Klimaanlage (&amp;ldquo;SÃ¼dseite&amp;rdquo;).
Von circa 10 Uhr bis 13 Uhr und von kurz vor 16 Uhr bis 17:30 Uhr ist die KÃ¼hlung gelaufen,
und hat dabei 300-400 Watt gezogen.&lt;/p&gt;
&lt;p&gt;Im oberen Graphen sehen wir:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Gelb â€“ die eingestellte Solltemperatur am Lufteinlass der Klimaanlage&lt;/li&gt;
&lt;li&gt;Dunkelblau - die gemessene Temperatur am Lufteinlass der Klimaanlage&lt;/li&gt;
&lt;li&gt;Rot - die gemessene Temperatur an einem Sensor neben dem Bett
(der Sensor war von 11:00 bis 11:30 der Sonne ausgesetzt und hat dort einen AusreiÃŸer)&lt;/li&gt;
&lt;li&gt;hellblaue Balken - Einschaltsignal der KÃ¼hlung&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Man sieht, wie die eingestellte gelbe Linie irrlichtert, als ich herausfinde, was ein angenehmer Wert ist,
und wie die dunkelblaue Linie und die rote Linie dieser gelben eingestellten Linie langsam nachfolgen.
Es gelingt der Anlage problemlos, die Raumtemperatur zu kontrollieren.&lt;/p&gt;
&lt;p&gt;Die Solaranlage hat zu diesen Zeiten so viel Energie erzeugt, dass die gezogenen 400 Watt komplett egal sind.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Recommended</title>
      <link>https://blog.koehntopp.info/2025/06/04/recommended/</link>
      <pubDate>Wed, 04 Jun 2025 04:05:06 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian KÃ¶hntopp)</author>

      <guid>https://blog.koehntopp.info/2025/06/04/recommended/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://www.europesays.com/uk/156725/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;France forces TikTok to ban #SkinnyTok but harmful content still persists&lt;/a&gt;

.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Under pressure from the French government, TikTok has banned the hashtag #SkinnyTok,
a controversial trend linked to the glorification of extreme thinness and unhealthy weight-loss advice.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Tiktok bans many words and tags.
People notice and work around it.&lt;/p&gt;
&lt;p&gt;Babbel: &lt;a href=&#34;https://www.babbel.com/en/magazine/tiktok-language&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;How Censorship Is Creating A New TikTok Language&lt;/a&gt;

&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;From here, people will always find ways to use language that allows them to get around auto-censorship.
Whether anyone will be saying â€œcornucopiaâ€ or â€œnip nopsâ€ a decade from now is anyoneâ€™s guess,
though itâ€™s probably unlikely.
Still, certain terms could stand the test of time if they fill a specific need.
If social media companies keep cracking down, however, the terminology will continue to evolve.
No matter what the barrier to communication put in place is,
language (and the people who use it) will find a way through.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In face, language matters even less.&lt;/p&gt;
&lt;p&gt;LLMs encode the meanings of terms as vectors along many semantic dimensions in a semantic space (&amp;ldquo;latent space&amp;rdquo;).
A concept, then, is a position in that space with a certain diameter â€” a kind of fuzziness or vagueness.&lt;/p&gt;
&lt;p&gt;When I type something into ChatGPT or a recommender system, the input is broken down into tokens,
and these tokens are mapped to such vectors.&lt;/p&gt;
&lt;p&gt;â€œI want pizzaâ€ becomes:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;I&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;want&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;pizza&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;.&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The tokens are then internally mapped to embeddings, vectors that encode meaning.
So this happens:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;â€œ&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cat&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;â€&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;â†’&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.24&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;1.12&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.58&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;â€¦&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;  
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;â€œ&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;dog&lt;/span&gt;&lt;span class=&#34;err&#34;&gt;â€&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;â†’&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.22&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;1.09&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.60&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;â€¦&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;That is, a list of numbers (often normalized between -1 and 1).
But usually there are far more dimensions than shown here â€” an embedding typically has thousands of dimensions.&lt;/p&gt;
&lt;p&gt;The latent space â€” the semantic space, what things mean â€” is self-organizing.
That happens during training.
We donâ€™t know what each dimension in the space represents,
but to the LLM it&amp;rsquo;s how it stores things, their meaning and their relation.&lt;/p&gt;
&lt;p&gt;The encoding has some kind of meaning.
We can check that:
When we look at the vectors for &amp;ldquo;man&amp;rdquo; and &amp;ldquo;woman&amp;rdquo;
and for &amp;ldquo;king&amp;rdquo; and &amp;ldquo;queen&amp;rdquo;,
we can substract &amp;ldquo;man&amp;rdquo; from &amp;ldquo;woman&amp;rdquo; and &amp;ldquo;king&amp;rdquo; from &amp;ldquo;queen&amp;rdquo;
and compare the difference vectors.
They are almost, but not quite the same â€“
because the difference between these words to us is almost, but not quite the same, in meaning.&lt;/p&gt;
&lt;p&gt;LLMs use these embeddings and their internal model to â€œcompute the next output token.â€&lt;/p&gt;
&lt;p&gt;Recommender systems use such embeddings to compare vectors
and find things that are similar to the thing we already have.&lt;/p&gt;
&lt;p&gt;So a recommender learns everything thatâ€™s relevant to a user,
and a modern recommender represents the user through a collection of vectors:&lt;/p&gt;
&lt;p&gt;&amp;ldquo;This user is interested in travel, digital policy, databases, bikes.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;These concepts may have other concepts nearby concepts in latent space.
To the model this means they are conceptually related.&lt;/p&gt;
&lt;p&gt;A modern recommender separates a userâ€™s various interests into distinct areas
and can decide what the user is interested in right now â€”
meaning,
which of the various user interests is currently active.&lt;/p&gt;
&lt;p&gt;A modern recommender will also deliberately serve content that almost â€” but not quite â€”
matches the userâ€™s interests, to test how wide the bubble is around the center of that interest vector.
The recommender will watch carefully to see what kind of response that triggers â€”
refining its recommendations based on that feedback.&lt;/p&gt;
&lt;p&gt;A modern recommender will also know where the available content clusters are,
and prioritize content that is both relevant to the user and performs well or has current production capacity.
In other words, where user interest and available content overlap well.&lt;/p&gt;
&lt;p&gt;(â€œPomodoroâ€, or â€œmethod shiftâ€ in educational theory) and attempt to shift the theme â€”
to test whether another known interest can be reactivated.
If that works, the recommender may manage to keep the user active for a longer time,
exposing them to more ads.&lt;/p&gt;
&lt;p&gt;Thatâ€™s how TikTok works.&lt;/p&gt;
&lt;p&gt;You can ban a hashtag on TikTok (&lt;code&gt;#skinnytok&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;As soon as you browse categories like â€œmodel,â€ â€œweight lossâ€, â€œfitnessâ€, &amp;ldquo;thigh gap&amp;rdquo;, &amp;ldquo;visible collarbone&amp;rdquo;,
and the end result will be the same.&lt;/p&gt;
&lt;p&gt;The actual language, the meaning,
is encoded in the tokens of the latent space of the model, not in the words that are used
(or prohibited).&lt;/p&gt;
&lt;p&gt;And the content density in the models coordinate system will gently push things into certain clusters.
If you feed the system with the right interests, you will always drift â€“ relatively quickly even â€“
into the same neighborhood and then learn their current slang to get there with a single word.&lt;/p&gt;
&lt;p&gt;No matter what the word actually is.&lt;/p&gt;
&lt;p&gt;A similar example, using GenAI instead of a recommender:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Draw a superheroine, an Amazon warrior that can fly and deflect bullets,
running over a battlefield in the first world war.&amp;quot;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;These 21 words do not say &amp;ldquo;Wonder Woman&amp;rdquo;, they do not even go near comics, DC, or similar things.&lt;/p&gt;
&lt;p&gt;Yet they draw a thousand-dimensional hyberbubble in latent space, the totality of knowledge known to ChatGPT,
and the end result leaves just one choice â€“ produce this blatant copyright violation.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;recommender-01.png&#34; alt=&#34;2025/06/recommender-01.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;I can trigger content with intent, not even going near the keywords that would be associated with it.&lt;/p&gt;
&lt;p&gt;This is how jailbreaks work in LLMs, and that is also how you jailbreak Tiktok bans.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>MySQL: FLUSH HOSTS</title>
      <link>https://blog.koehntopp.info/2025/05/13/mysql-flush-hosts/</link>
      <pubDate>Tue, 13 May 2025 05:06:07 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian KÃ¶hntopp)</author>

      <guid>https://blog.koehntopp.info/2025/05/13/mysql-flush-hosts/</guid>
      <description>&lt;p&gt;Sometimes, MySQL throws an error like this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Host &amp;lsquo;&amp;hellip;&amp;rsquo; is blocked because of many connection errors&lt;/p&gt;
&lt;p&gt;Unblock with &amp;lsquo;mysqladmin flush-hosts&amp;rsquo;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This typically means that MySQL has blocked a host after too many connection errors. The usual fix is to run:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;mysqladmin flush-hosts
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;or&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-mysql&#34; data-lang=&#34;mysql&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;mysql&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FLUSH&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;HOSTS&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;/* deprecated since 8.0.23; invalid in 8.4 */&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;mysql&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;TRUNCATE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;TABLE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;performance_schema&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;host_cache&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;cm&#34;&gt;/* recommended since 5.6.5 */&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;A host is blocked, because of many connection errors, specifically more connection errors than &lt;code&gt;max_connect_errors&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;So&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;what counts as a connection error?&lt;/li&gt;
&lt;li&gt;what is counted per what?&lt;/li&gt;
&lt;li&gt;and how is the error count cleared?&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;max_connect_errors&#34;&gt;
    &lt;a href=&#34;#max_connect_errors&#34;&gt;
	&lt;code&gt;max_connect_errors&lt;/code&gt;
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;There is a configuration variable, &lt;code&gt;max_connect_errors&lt;/code&gt;.
It is documented here:
&lt;a href=&#34;https://dev.mysql.com/doc/refman/8.4/en/server-system-variables.html#sysvar_max_connect_errors&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;MySQL 8.4: &lt;code&gt;max_connect_errors&lt;/code&gt;&lt;/a&gt;

.&lt;/p&gt;
&lt;p&gt;The variable is a 64 bit integer, so it can be set to very large values.
It can be configured via command-line or config file (using dashes instead of underscores), or dynamically at runtime:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-mysql&#34; data-lang=&#34;mysql&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kt&#34;&gt;SET&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;GLOBAL&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_connect_errors&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;18446744073709551614&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Check it with&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-mysql&#34; data-lang=&#34;mysql&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;@@&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;global&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;max_connect_errors&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;By default, itâ€™s set to 100.&lt;/p&gt;
&lt;p&gt;According to MySQLâ€™s documentation,
a host is blocked after more than &lt;code&gt;max_connect_errors&lt;/code&gt; connection attempts from that host fail without a successful connection in between.&lt;/p&gt;
&lt;p&gt;This means:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The error count is tracked per host.&lt;/li&gt;
&lt;li&gt;A successful connection resets the counter, but only if it happens before the threshold is exceeded.&lt;/li&gt;
&lt;li&gt;Once blocked, a host remains blocked indefinitely unless the cache is cleared.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;unblocking&#34;&gt;
    &lt;a href=&#34;#unblocking&#34;&gt;
	Unblocking
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;MySQL tracks blocked hosts using a structure called the host cache.&lt;/p&gt;
&lt;p&gt;Before MySQL 5.6.5, there was no way to inspect the host cache.
You could run &lt;code&gt;FLUSH HOSTS&lt;/code&gt; to reset it, but you couldnâ€™t see which hosts were blocked or how many errors they had.&lt;/p&gt;
&lt;p&gt;That was lamented by many people, among them yours truly &lt;a href=&#34;https://bugs.mysql.com/bug.php?id=24906&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;in 2006&lt;/a&gt;

.
And Daniel van Eeden &lt;a href=&#34;https://bugs.mysql.com/bug.php?id=59404&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;in 2011&lt;/a&gt;

, on behalf of Booking.com.
That was converted into &lt;a href=&#34;https://dev.mysql.com/worklog/task/?id=5259&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ML#5259&lt;/a&gt;

,
the implementation of &lt;code&gt;PERFORMANCE_SCHEMA.HOST_CACHE&lt;/code&gt;.
It was implemented by Marc Alff starting in 7e3ba778349e8e2bd01b60d6b22f44f7f098d731 in 2-Aug 2011
(released in 5.6.5, after 29-Mar-2012).&lt;/p&gt;
&lt;p&gt;Since then, you can query host cache details directly:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-mysql&#34; data-lang=&#34;mysql&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;SELECT&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;FROM&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;performance_schema&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;host_cache&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;You can also reset it with:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-mysql&#34; data-lang=&#34;mysql&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;TRUNCATE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;k&#34;&gt;TABLE&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;performance_schema&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;host_cache&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This works exactly like &lt;code&gt;FLUSH HOSTS&lt;/code&gt;, but uses different permissions:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;FLUSH HOSTS&lt;/code&gt; requires the &lt;code&gt;RELOAD&lt;/code&gt; privilege.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;TRUNCATE TABLE performance_schema.host_cache&lt;/code&gt; requires &lt;code&gt;DROP&lt;/code&gt; privilege on that table.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; &lt;code&gt;FLUSH HOSTS&lt;/code&gt; has been &lt;strong&gt;deprecated as of MySQL 8.0.23 and is removed in MySQL 8.4.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;There is no way to unblock just one hostâ€”only clearing the entire host cache resets the counters and unblocks all hosts.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Changing the host cache size using the &lt;code&gt;host_cache_size&lt;/code&gt; global dynamic variable also flushes the host cache.
This requires the &lt;code&gt;SYSTEM_VARIABLES_ADMIN&lt;/code&gt; privilege (formerly &lt;code&gt;SUPER&lt;/code&gt;).&lt;/p&gt;
&lt;h1 id=&#34;the-host-cache-is-not-a-cache&#34;&gt;
    &lt;a href=&#34;#the-host-cache-is-not-a-cache&#34;&gt;
	The Host Cache is not a cache
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Despite its name, the host cache does more than traditional caching.&lt;/p&gt;
&lt;p&gt;A cache is a data structure that stores unchanging data locally, because retrieving the data again would be expensive.
A cache can be expired or fully deleted at any time without losing information,
because the original information can be (at cost) retrieved again.&lt;/p&gt;
&lt;p&gt;But MySQLâ€™s host cache stores stateful dataâ€”specifically, security-related error counters.
Deleting a host cache entry removes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;the ip-to-hostname mapping (which can be rebuilt)&lt;/li&gt;
&lt;li&gt;the host&amp;rsquo;s connection error history (which can&amp;rsquo;t)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This means that resetting the host cache has security implications.
That is increasingly unimportant in modern environments
such as K8s clusters or virtualized environments with a control plane and a service mesh.
In other, more traditional environments it might not be.&lt;/p&gt;
&lt;h1 id=&#34;what-happens-on-connection&#34;&gt;
    &lt;a href=&#34;#what-happens-on-connection&#34;&gt;
	What Happens on Connection
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;When a client connects, MySQL runs &lt;code&gt;sql_connect.cc:check_connection()&lt;/code&gt;, which checks the clientâ€™s IP address.&lt;/p&gt;
&lt;p&gt;If &lt;code&gt;name-resolve&lt;/code&gt; is enabled, which it is unless you run with &lt;code&gt;skip-name-resolve&lt;/code&gt;,
MySQL attempts a reverse DNS lookup via &lt;code&gt;hostname_cache.cc:ip_to_hostname()&lt;/code&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;If the IP is already in the host cache and marked valid, DNS lookup is skipped.&lt;/li&gt;
&lt;li&gt;Otherwise, MySQL tries to resolve the IP to a hostname (PTR record),
then resolve the hostname back to an IP (A record).
This is known as Forward Confirmed Reverse DNS (FCR).&lt;/li&gt;
&lt;li&gt;Only hostnames that pass both lookups are marked as &amp;ldquo;validated&amp;rdquo;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The host cache keeps track of connection errors in &lt;code&gt;ip_to_hostname()&lt;/code&gt;
and will block the host if it exceeds the threshold set in &lt;code&gt;max_connect_errors&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The function also uses the host cache itself, and will avoid DNS resolution if there is an entry that matches this IP.
It maintains error counts and will perform host blocking, if the error count exceeds &lt;code&gt;max_connect_errors&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The cache uses LRU (Least Recently Used) eviction policy.
If more IPs try to connect than the cache can hold, old entries are removedâ€”including their error counters.
This means that blocked hosts can become unblocked over time if theyâ€™re evicted.&lt;/p&gt;
&lt;p&gt;Modern MySQL defaults host_cache_size to &lt;code&gt;-1&lt;/code&gt;, which means it auto-sizes between 128 and 2000 based on &lt;code&gt;max_connections&lt;/code&gt;.
In older versions the size was fixed.&lt;/p&gt;
&lt;p&gt;None of the above will happen if the server is running with &lt;code&gt;skip-name-resolve&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Specifically, the code in &lt;code&gt;sql_connect.cc:check_connection()&lt;/code&gt; will, among other things, not even call &lt;code&gt;ip_to_hostname()&lt;/code&gt;,
thus there will be no usage of the host cache, as no DNS resolution happens.
There will also be no blocking of hosts due to connection errors.&lt;/p&gt;
&lt;h1 id=&#34;recommendations-for-proxy-and-k8s-users&#34;&gt;
    &lt;a href=&#34;#recommendations-for-proxy-and-k8s-users&#34;&gt;
	Recommendations for Proxy and K8s users
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;TIP:&lt;/strong&gt; Run &lt;code&gt;SHOW PROCESSLIST&lt;/code&gt; multiple times, and check the visible connections.
If they are all always the same host, this recommendation applies to you.&lt;/p&gt;
&lt;p&gt;You may be running MySQL in Kubernetes with a service mesh,
or you may be running MySQL with MySQL Router or MySQL Proxy.
In that case, all connections the server sees will originate from a single IP.&lt;/p&gt;
&lt;p&gt;That means any error by any client will be attributed to the only IP the server sees.
Any single client running with a wrong password will block the only IP your system sees with failed login attempts.
It will lock out all users for all applications with no timeout.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If the origin IP is &lt;code&gt;127.0.0.1&lt;/code&gt; or &lt;code&gt;[::1]&lt;/code&gt;, no entry in the host cache will be made,
as these addresses are specifically checked for, and are exempt.&lt;br&gt;
&lt;strong&gt;You do not need to act.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;If that IP number is fixed, but not one of these two special local addresses,
you &lt;strong&gt;SHOULD&lt;/strong&gt; turn off &lt;code&gt;name-resolve&lt;/code&gt; by running with &lt;code&gt;skip-name-resolve&lt;/code&gt;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;This will disable the DNS resolution.&lt;/li&gt;
&lt;li&gt;You now need to write access control entries with IP numbers
(&lt;code&gt;GRANT ... TO user@32.16.8.4 ...&lt;/code&gt;),
because names will no longer be resolved.&lt;/li&gt;
&lt;li&gt;Your server will no longer make DNS queries.&lt;/li&gt;
&lt;li&gt;No host blocking on IP will occur.
You will be protected from clients hammering the server with a wrong password.&lt;/li&gt;
&lt;li&gt;You are not losing anything security-wise, as the server has no useful IP information anyway.
Security must be handled by the service mesh.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;You &lt;strong&gt;COULD&lt;/strong&gt; also set the &lt;code&gt;host-cache-size=0&lt;/code&gt; for the same effect, but that will still generate DNS queries,
and a lot of them (two, PTR and A, per connection attempt).
They will always be for that single IP, so they are easily cacheable in external caches.&lt;/p&gt;
&lt;p&gt;You &lt;strong&gt;SHOULD&lt;/strong&gt; set &lt;code&gt;max_connect_errors&lt;/code&gt; to a large value (&lt;code&gt;2^64-1&lt;/code&gt;) to prevent the host cache from locking out any host.
This has no additional benefits over running with &lt;code&gt;skip-name-resolve&lt;/code&gt;: There will be only one host cache entry,
and there will be no per-host error counters, as all connections are seemingly coming from a single host.&lt;/p&gt;
&lt;p&gt;All these measures are compatible, and you can deploy all three of them.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Thermometer</title>
      <link>https://blog.koehntopp.info/2025/04/06/thermometer/</link>
      <pubDate>Fri, 28 Feb 2025 13:05:06 +0000</pubDate><author>oliof@example.com (Harald Wagener)</author>

      <guid>https://blog.koehntopp.info/2025/04/06/thermometer/</guid>
      <description>&lt;h1 id=&#34;thermometer&#34;&gt;
    &lt;a href=&#34;#thermometer&#34;&gt;
	Thermometer
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Eine der wesentlichen KenngrÃ¶ssen fÃ¼r die Behaglichkeit in den eigenen vier
WÃ¤nden ist die Umgebungstemperatur.&lt;/p&gt;
&lt;p&gt;Ãœblicherweise betrachten wir die Temperatur im Zusammenspiel mit Heizung in der
kalten Jahreszeit. Aufgrund des Klimawandels gewinnt der Aspekt der
RaumtemperaturkÃ¼hlung aber zunehmend an Bedeutung.&lt;/p&gt;
&lt;p&gt;Thermostate verwenden wir im wesentlichen fÃ¼r drei Dinge: Beobachten, Messen,
und Steuern.&lt;/p&gt;
&lt;h2 id=&#34;beobachten-messen-steuern&#34;&gt;
    &lt;a href=&#34;#beobachten-messen-steuern&#34;&gt;
	Beobachten, Messen, Steuern
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Diese Begriffe sind natÃ¼rlich beliebig von mir gewÃ¤hlt, mir hat diese Taxonomie
aber geholfen zu verstehen, was ich an verschiedenen Thermometern gut oder
schlecht fand.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Beobachten: Punktuelle ÃœberprÃ¼fung von Umweltfaktoren. Thermometer die fÃ¼r
die Beobachtung geeignet sind, haben ein eigenes Display und die MÃ¶glichkeit
weitere Referenzwerte wie die Uhrzeit anzuzeigen.&lt;/li&gt;
&lt;li&gt;Messen: Kontinuierliche Erfassung von Umweltfaktoren. Hier ist wichtig, dass
die Messreihe konsistent und regelmÃ¤ssig aktualisiert wird.&lt;/li&gt;
&lt;li&gt;Steuern: Verwendung von Messwerten um andere GerÃ¤te (Heizung, KÃ¼hlung,
Verschattung) zu steuern.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;FÃ¼r welchen Zweck sich ein bestimmtes Thermometer eignet, hÃ¤ngt im wesentlichen
von zwei Eigenschaften ab:&lt;/p&gt;
&lt;h2 id=&#34;prÃ¤zision-und-auflÃ¶sung&#34;&gt;
    &lt;a href=&#34;#pr%c3%a4zision-und-aufl%c3%b6sung&#34;&gt;
	PrÃ¤zision und AuflÃ¶sung
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Wir sprechen hier Ã¼ber Digitalthermometer, die in der Regel eine hohe PrÃ¤zision
haben &amp;ndash; sie geben fÃ¼r eine bestimmte Temperatur am Messpunkt in der Regel den
gleichen Wert wieder. In der Regel sind sie aber nicht &lt;em&gt;genau&lt;/em&gt;: Sie werden im
Vergleich zu anderen Thermometern einen anderen Wert wiedergeben, meistens aber
mit feststehenden Differenzen / Offsets. Ein anderer Punkt in dem sich
Thermometer unterscheiden ist die AuflÃ¶sung, also in welchen Teilschritten sie
Temperaturwerte messen und anzeigen.&lt;/p&gt;
&lt;p&gt;Einige Beispiele:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Die IKEA Vindstyrka Raum-MessgerÃ¤te liefern Informationen zu Temperatur,
Luftfeuchtigkeit, und Feinstaubbelastung. Und obwohl in den GerÃ¤ten
hochsensitive Sensoren von Sensirion verbaut sind, zeigt das GerÃ¤t nur
ganzzahlige Temperaturwerte an (und liefert ohne VerÃ¤nderungen am GerÃ¤t
auch nur ganzzahlige Werte). Diese AusfÃ¼hrung eignet sich meiner Meinung
nach fÃ¼r Beobachtung: Ich schaue aufs Display und habe eine grobe Idee, wie
sich die Umweltwerte in der aufgestellten Umgebung zueinander verhalten.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/04/vindstyrka.jpeg&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;vindstyrka.jpeg&#34; alt=&#34;2025/04/vindstyrka.jpeg&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ein IKEA Vindstyrka in einem BÃ¼cherregal&lt;/em&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Ein Shelly HT G3 liefert mir auf dem ePaper Display und Online
Temperaturwerte mit einer AuflÃ¶sung von 0.1 Grad Celsius, die angezeigten
und Ã¼ber die Shelly API gelieferten Werte stimmen im wesentlichen Ã¼berein.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/04/shelly-htg3.jpeg&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;shelly-htg3.jpeg&#34; alt=&#34;2025/04/shelly-htg3.jpeg&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Shelly HT G3 mit externer Stromversorgung&lt;/em&gt;&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;Ein mit freier Alternativfirmware bestÃ¼cktes Xiaomi MMC MHO-C401(N) zeigt
auf dem ePaper-Display eine AuflÃ¶sung von 0.1 Grad Celsius an, aber Ã¼ber
die BTHome API liefert es Werte mit einer AuflÃ¶sung von 0.01 Grad Celsius.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/04/MHO-C401.jpeg&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;MHO-C401.jpeg&#34; alt=&#34;2025/04/MHO-C401.jpeg&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ein MHO-C401(N) mit der &lt;a href=&#34;https://pvvx.github.io/MHO_C401/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;alternativen Firmware fÃ¼r BTHome
Support&lt;/a&gt;

. Es sei angemerkt, dass es fÃ¼r C401
und C401N unterschiedliche Firmware gibt. Wenn man die falsche verwendet hat,
aktualisiert sich das Display nicht; man kann dann aber einfach die andere
flashen.&lt;/em&gt;&lt;/p&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;Ein Aqara Zigbee Thermostat liefert Werte mit einer AuflÃ¶sung von 0.1 Grad
Celsius.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/04/aqara_ths.jpeg&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;aqara_ths.jpeg&#34; alt=&#34;2025/04/aqara_ths.jpeg&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;Ein Sonoff SNZB-02P liefert Werte mit einer AuflÃ¶sung von 0.1 Grad Celsius.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/04/sonoff-ths.jpeg&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;sonoff-ths.jpeg&#34; alt=&#34;2025/04/sonoff-ths.jpeg&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;Tasmota unterstÃ¼tzt verschiedene Thermostate von DHT22 bis BME820, die
jeweils entsprechend der technischen KapazitÃ¤ten Werte liefern.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Ein weiterer Grund warum &lt;em&gt;PrÃ¤zision&lt;/em&gt; und nicht &lt;em&gt;Genauigkeit&lt;/em&gt; relevant sind:
Wenn es um Hausautomatisierung geht, ist die Frage welche Temperatur angenehm
ist und welche nicht, bereits subjektiv. Insofern sind &amp;ldquo;meine&amp;rdquo; 19.5 Grad
Raumtemperatur vielleicht angenehmer fÃ¼r mich als Kris&amp;rsquo; 21 Grad Raumtemperatur.
(Es sei auch angemerkt, dass die klassischen Raumsteuerungen fÃ¼r
Fussbodenheizungen mit Bimetall-Technik auch nur eine Genauigkeit von +-0,5
Grad haben).&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/04/Raumregler.jpeg&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;Raumregler.jpeg&#34; alt=&#34;2025/04/Raumregler.jpeg&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ein temperaturgefÃ¼hrter Raumregler fÃ¼r Stellventile einer FlÃ¤chenheizung. Im
Inneren bewÃ¤hrte, unkaputtbare Bimetalltechnik. Leider nutzlos, weil die
Heizung &amp;rsquo;normally open&amp;rsquo; betrieben wird.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Eine hohe AuflÃ¶sung der Messwerte hat nicht nur Vorteile: Es bedeutet auch,
dass kleinste VerÃ¤nderungen in der Umwelt (zum Beispiel: Ein Mensch der 100W
AbwÃ¤rme erzeugt sitzt in der NÃ¤he eines Raumthermometers) zu unmittelbaren
VerÃ¤nderungen in den Messwerten fÃ¼hren. Wenn dies in der NÃ¤he eines
Schwellwertes geschieht, der zur Steuerung verwendet wird (zum Beispiel:
Heizung an/aus); dann kann es zu Taktung kommen: Das geschaltete GerÃ¤t wird
in (zu) schneller Folge ab und wieder angeschaltet. In diesem Fall empfiehlt es
sich, den Messwert zu glÃ¤tten, bevor man ihn zur Schaltung verwendet. Das
verzÃ¶gert den Steuerungsvorgang in der Regel, aber die Taktung wird
vermieden.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/04/Heizleistung12Gaeste.png&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;Heizleistung12Gaeste.png&#34; alt=&#34;2025/04/Heizleistung12Gaeste.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Die Heizleistung von 12 Personen auf einer Party.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Es gibt noch zwei weitere Aspekten von Thermometern, die wichtig sind, um das
richtige Thermometer fÃ¼r den richtigen Anwendungszweck auszuwÃ¤hlen:&lt;/p&gt;
&lt;h2 id=&#34;stromverbrauch-und-aktualisierungs-frequenz&#34;&gt;
    &lt;a href=&#34;#stromverbrauch-und-aktualisierungs-frequenz&#34;&gt;
	Stromverbrauch und Aktualisierungs-Frequenz
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Beim Stromverbrauch gehÃ¶rt eigentlich noch die Art der Stromversorgung hinzu.
Die gÃ¤ngigen Spielarten sind: Stromversorgug Ã¼ber USB (Vindstyrka, Shelly HT,
Tasmota), CR2032 (Aqara Zigbee, Xiaomai MHO-C401(N), und Sonderformate wie
CR2450 (Sonoff SNZB-02P). Batteriebetriebene Thermometer haben maximale
Freiheitsgrade bei der Aufstellung, aber je nach Implementierung halten die
Batterien nur wenige Monate. Gerade die Zigbee Thermometer optimieren ihren
Stromverbrauch, indem sie Updates nur schicken, wenn sich die Temperatur um ein
bestimmtes Delta verÃ¤ndert haben, und dann noch alle X Minuten, auch wenn sich
nichts geÃ¤ndert hat. Bei einigen Zigbee Sensoren sind die Schwellwerte Ã¼ber
gewisse API Calls anpassbar &amp;ndash; bei mir hat das aber nie funktioniert.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/04/batterien.png&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;batterien.png&#34; alt=&#34;2025/04/batterien.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;Wer Batterien vermeiden mÃ¶chte, hat die Wahl zwischen&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IKEA Vindstyrka, aber aufgrund des aktiven LÃ¼fters im GerÃ¤t, eignet sich
dieses GerÃ¤t nicht fÃ¼r die Aufstellung in RÃ¤umen mit hohen Anforderungen an
die Ruhe. Und wegen der niedrigen AuflÃ¶sung der Werte (ohne massive
Modifikationen), eignet sich dieses GerÃ¤t auch nicht fÃ¼r Messen oder
Steuern.&lt;/li&gt;
&lt;li&gt;Shelly HT G3: Hoher Home Aesthetics Adequacy Factor, und mit Stromversorgung
aus der Steckdose auch hohe Aktualisierungs-Frequenz. Aber die Konfiguration
des Shelly HT G3 setzt das DrÃ¼cken eines Knopf hinter der hinteren Abdeckung
voraus, fÃ¼r die man die externe Stromversorgung abziehen muss. Meiner
Meinung nach ein eklatanter Fehler im Design.&lt;/li&gt;
&lt;li&gt;Tasmota-Selbstbau: Ob das eine bessere oder schlechtere LÃ¶sung ist als ein
Vindstyrka zu modifizieren, sei der geneigten Leserschaft als Ãœbung
Ã¼berlassen. Die selbst konfigurierbare Aktualisierungs-Frequenz und
weitestgehend freie Wahl des Sensors entbehrt aber nicht einer gewissen
AttraktivitÃ¤t, genauso wie die Einbindung Ã¼ber MQTT anstatt Zigbee oder
BTHome &amp;hellip;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Wenn es Batterien sein dÃ¼rfen:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;sowohl die Aqara THS als auch die MHO-C401(N) verwenden einfache CR2032
Batterien und laufen damit deutlich lÃ¤nger als ein Jahr. Ja, es gibt
aufladbare CR2032 Zellen, aber deren Leistung ist stark eingeschrÃ¤nkt; ob
man hier wirklich gewinnt sei dahin gestellt. Es gibt auch Adapterzellen, um
entweder 2xAAA oder gleich USB anzuschliessen, damit habe ich aber keine
Erfahrung.&lt;/li&gt;
&lt;li&gt;Die Sonoff SNZB-02P verwenden CR2045 Batterien. Diese sind gross, und selten
also teurer, und weil diese Thermometer LCD-Displays verwenden, sind die
Batterien auch eher nach 6-8 Monaten leer als nach 12-15.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;aktualisierungsfrequenz&#34;&gt;
    &lt;a href=&#34;#aktualisierungsfrequenz&#34;&gt;
	Aktualisierungsfrequenz
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Wie bereits erwÃ¤hnt, unterscheiden sich diese GerÃ¤te in ihrer
Aktualisierungsfrequenz. Die MHO-C401(N)s aktualisieren sich ca einmal pro
Minute, Shelly HT G3 im Netzbetrieb ebenso (im Batteriebetrieb ca alle drei
Minuten). Aqara THS aktualisieren sich ca einmal alle 3-5 Minuten (oder wenn
die Temperatur sich um 0.1 Grad Ã¤ndert), die SNZB-02P ca einmal alle 15 Minuten
oder wenn die Temperatur sich um 0.2 Grad Ã¤ndert.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/04/CheckinsThermometer.png&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;CheckinsThermometer.png&#34; alt=&#34;2025/04/CheckinsThermometer.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Vergleich der Aktualisierung der Werte in HomeAssistant von verschiedenen
Thermometern, die direkt nebeneinander stehen. &amp;lsquo;rettemp&amp;rsquo; ist ein DS18B20 an
meinem EMS-ESP zur Referenz; Aqara, Shelly, und Sonoff sind die im weiteren
Text erwÃ¤hnten GerÃ¤te. Man sieht, dass der Shelly etwa alle drei Minuten ein
Update schickt, und Sonoff und Aqara in den gezeigten 2 Stunden nur eine
handvoll Updates liefert, wÃ¤hrend der DS18B20 unmittelbare Werte liefert,
sobald sich die Temperatur Ã¤ndert.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Meiner Erfahrung nach eignen sich GerÃ¤te mit einer niedrigen
Aktualisierungsfrequenz im wesentlichen nur fÃ¼r die Beobachtung: Also wenn ich
grob wissen will, was Sache ist und mir Tages- oder Wochen-Trends ausreichen.
FÃ¼r Werte die ich innerhalb einer Stunde oder schneller mit anderen Dingen
korrelieren mÃ¶chte, brauche ich eine zÃ¼gigere Aktualisierung. Und schliesslich,
wenn ich WÃ¤rme- oder KÃ¤lte-Erzeugung aktiv steuern will, ist es unerlÃ¤sslich,
einen schnellen Sensor zu haben &amp;ndash; selbst wenn ich die Messwerte zur Vermeidung
von Taktung durch einen Tiefpassfilter schicke oder eine Zweipunktschaltung
implementiere.&lt;/p&gt;
&lt;p&gt;Wir haben als Ã¼ber Genauigkeit, PrÃ¤zision, AuflÃ¶sung, Stromverbrauch, und
Aktualisierungs-Frequenzen gesprochen. FÃ¼r die praktische Anwendung im Home
Assistant Umfeld ist noch ein weiterer Aspekt wichtig:&lt;/p&gt;
&lt;h2 id=&#34;protokoll-konformitÃ¤t&#34;&gt;
    &lt;a href=&#34;#protokoll-konformit%c3%a4t&#34;&gt;
	Protokoll-KonformitÃ¤t
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Ich habe Erfahrung mit Zigbee, BTHome, Shelly, und Tasmota/MQTT &amp;ndash; andere
Protokolle und Implementierungen wie ESPHome, Matter, etc. sind hier nicht
berÃ¼cksichtigt, weil ich zu ihnen nichts sagen kann. Es soll aber nicht
ausschliessen, dass sie fÃ¼r verschiedenste AnwendungsfÃ¤lle geeignet sind.&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Zigbee&lt;/dt&gt;
&lt;dd&gt;Meiner Erfahrung nach ist ein Gutteil der als Zigbee-kompatibel
ausgewiesenen Thermometer leider dergestalt, dass die Hersteller ihre
eigenen Protokollvarianten fahren, die es erschweren bis verunmÃ¶glichen,
diese Thermostate in einer offenen Umgebung wie Home Assistant zuverlÃ¤ssig
einzubinden oder dauerhaft zu betreiben.
&lt;p&gt;Home Assistant bringt fÃ¼r hunderte
von Zigbee GerÃ¤ten &amp;ldquo;Quirks&amp;rdquo; Definitionen mit, also gerÃ¤tespezifische
Anpassungen, damit das GerÃ¤t auch funktioniert. Leider sind die
GerÃ¤tehersteller nicht in der Lage, ein GerÃ¤t mit einer AusfÃ¼hrung von
Hardware und Firmware sauber zu benennen. Deswegen ist die Frage ob ein
bestimmtes Zigbee-Thermometer mit Home Assistant funktioniert, immer mit
&amp;ldquo;mÃ¶glicherweise&amp;rdquo; zu beantworten. Das ganze ist insofern besonders
verstÃ¶rend, weil die meisten Thermometer, egal wie sie gebranded sind,
entweder von Xiaomi oder Aqara hergestellt werden. Das ganze Theater ist
also konsumentenfeindliche Marktzersplitterung.&lt;/p&gt;
&lt;p&gt;Bei HomeAssistant kommt noch
dazu, dass es unterschiedliche Implementierungen von Zigbee gibt: ZHA und
Z2M. ZHA kommt von NabuCasa, der Firma hinter HomeAssistant, Z2M bindet den
ganzen Zigbee-Kram Ã¼ber MQTT an HomeAssistant an. Die oben erwÃ¤hnten Quirks
unterscheiden sich, und so unterscheidet sich auch, ob ein GerÃ¤t mit
HomeAssistant gut funktioniert, hin und wieder aufgrund einer Entscheidung
fÃ¼r ZHA oder Z2M. Man kann theoretisch beides parallel fahren, wenn man zwei
Zigbee Coordinators hat, aber ob das eine LÃ¶sung ist? FÃ¼r mich zumindest
nicht.&lt;/p&gt;
&lt;p&gt;Deswegen hier gleich die erste &lt;strong&gt;Nicht-Empfehlung&lt;/strong&gt;: Finger weg von
allem, was Tuya in der Beschreibung hat! Viele der Tuya-GerÃ¤te sprechen
nominell Zigbee, haben aber zum Beispiel proprietÃ¤re Kopplungsprozesse oder
andere Eigenheiten, die eine Verwendung im HomeAssistant stark
verkomplizieren bis verunmÃ¶gligen. Das gilt Ã¼brigens nicht nur fÃ¼r
Thermometer (OSRAM LEDVANCE, I&amp;rsquo;m looking at you!). Die LocalTuya
Integration, die einen Developer Account bei Tuya voraussetzt und auch
ansonsten wirre Dinge tut, ist fÃ¼r mich Teil des Problems und nicht der
LÃ¶sung.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;BTHome&lt;/dt&gt;
&lt;dd&gt;BTHome ist ein Protokoll aus dem Hause Shellly und Bestandteil der
&lt;a href=&#34;https://www.openhomefoundation.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Open Home Foundation&lt;/a&gt;

. Ich muss gestehen, dass ich wenig Lust hatte, meinem
Home Assistant einen weiteren Dongle fÃ¼r Bluetooth und eine weitere
Integration anzutun, aber am Ende war es die richtige Entscheidung. Was ich
ganz elegant finde: Die GerÃ¤te werden Ã¼ber den Webbrowser geflasht, man muss
also weder das GerÃ¤t Ã¶ffnen noch irgendwelche wilden Buildchains
installieren.&lt;/dd&gt;
&lt;dt&gt;Shelly&lt;/dt&gt;
&lt;dd&gt;Shelly hat sein eigenes proprietÃ¤res Protokoll, aber die Integration
mit HomeAssistant ist lokal und funktioniert im wesentlichen sehr gut. Als
europÃ¤isches Produkt zahlt man fÃ¼r Shelly-LÃ¶sungen etwas mehr, aber
insgesamt finde ich die QualitÃ¤t stimmt. (Wer keine Lust auf einen eigenen
lokalen Home Assistant hat, ist mit der Shelly Cloud LÃ¶sung vermutlich auch
ganz gut bedient, ich verwende das nicht).&lt;/dd&gt;
&lt;dt&gt;Tasmota&lt;/dt&gt;
&lt;dd&gt;Tasmota verwendet MQTT und ist lokal, Wifi basiert, und fÃ¼r mich
zum Beispiel im Bereich Smart Plugs bereits das Protokoll meiner Wahl. Wer
Freude am Basteln hat, bekommt hier a) den Sensor in der AusfÃ¼hrung der Wahl
und b) eine Integration die keine weiteren Dongles benÃ¶tigt.&lt;/dd&gt;
&lt;/dl&gt;
&lt;h1 id=&#34;abschliessende-empfehlung&#34;&gt;
    &lt;a href=&#34;#abschliessende-empfehlung&#34;&gt;
	Abschliessende Empfehlung
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Die bisher besten Erfahrungen mit Ã¼ber einem halben Dutzend Thermometer-Modelle
lÃ¤sst fÃ¼r mich nur zwei Empfehlungen zu: Aqara Temp and Humidity Sensor fÃ¼r
Anwendung ohne Display und mit nur einfachen Steuerungen, fÃ¼r alle anderen
Anwendungen Xiaomi MMC MHO-C401(N) mit der BTHome Firmware. Der Shelly HT G3
ist aufgrund seiner GrÃ¶ÃŸe und der oben genannten Design-Fehler nur abgeschlagen
auf dem Dritten Platz. Tasmota nur fÃ¼r Leute die sinnvoll selbst GerÃ¤te bauen
kÃ¶nnen, dann aber meiner Erfahrung nach am Flexibelsten.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Panasonic Comfort Cloud</title>
      <link>https://blog.koehntopp.info/2025/04/03/panasonic-comfort-cloud/</link>
      <pubDate>Thu, 03 Apr 2025 03:04:05 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian KÃ¶hntopp)</author>

      <guid>https://blog.koehntopp.info/2025/04/03/panasonic-comfort-cloud/</guid>
      <description>&lt;p&gt;As discussed &lt;a href=&#34;https://blog.koehntopp.info/2025/03/10/going-fully-electric/&#34;&gt;previously&lt;/a&gt;

,
we have replaced our home heating with Air-Air-Heatpumps,
that is, air-conditioning units that have a reverse-mode.&lt;/p&gt;
&lt;p&gt;In our case, the indoor units are Panasonic Etherea Z (CS-Z25ZKEW and CS-Z20ZKEW),
which are connected to a multi-split outdoor unit,
a 3x on the north side, and a 5x (one blind) on the south side, for a total of seven units.&lt;/p&gt;
&lt;h1 id=&#34;adding-cs-zxxzkew-units-to-panasonic-comfort-cloud&#34;&gt;
    &lt;a href=&#34;#adding-cs-zxxzkew-units-to-panasonic-comfort-cloud&#34;&gt;
	Adding CS-ZxxZKEW units to Panasonic Comfort Cloud
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;These units have integrated Wifi, and can be connected to the Panasonic comfort cloud.
This was problematic, because the manual and the labeling was unclear, and led into the wrong direction.&lt;/p&gt;
&lt;p&gt;For each indoor unit there is a remote that came with a sticker.
The sticker has a QR-code, which leads to an install link for the Panasonic Comfort Cloud application.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;comfort-01.jpg&#34; alt=&#34;2025/04/comfort-01.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;QR-code for the Panasonic Comfort Cloud installation.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;You need to make an account,
and then end up in a very empty screen with a single &amp;ldquo;+&amp;rdquo; sign that allows you to start the &amp;ldquo;add device&amp;rdquo; workflow.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;comfort-02.jpg&#34; alt=&#34;2025/04/comfort-02.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Comfort Cloud start screen after making an account.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;The next steps seem are straight forward: Add an air-conditioner:&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;comfort-03.jpg&#34; alt=&#34;2025/04/comfort-03.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;Select the kind with a wireless remote controller:&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;comfort-04.jpg&#34; alt=&#34;2025/04/comfort-04.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;And then, choose what kind of device you have:&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;comfort-06.jpg&#34; alt=&#34;2025/04/comfort-06.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;Look at the device and decide what kind of device this is:&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;comfort-05.jpg&#34; alt=&#34;2025/04/comfort-05.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;Now, if you think you have a device with &lt;strong&gt;ONE&lt;/strong&gt; front panel sticker, you&amp;rsquo;d be wrong, and things will not work.&lt;/p&gt;
&lt;p&gt;If you choose that, the device will instruct you to turn on the WiFi on the wall unit (that is correct):&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;comfort-07.jpg&#34; alt=&#34;2025/04/comfort-07.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;The cellphone will then try to join the WiFi &lt;code&gt;Panasonic-CS-wirelessAP&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;comfort-08.jpg&#34; alt=&#34;2025/04/comfort-08.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;and that will not work, because the wall unit starts up the WiFi &lt;code&gt;Panasonic-CS-V2-eM00&lt;/code&gt;.
Wall unit and telephone are using different WiFi ESSIDs, and will not see each other, configuration will fail.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This is a unit without a front panel sticker!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;So the following flow works:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Start the App.&lt;/li&gt;
&lt;li&gt;Inside the App, lie to the app and say &amp;ldquo;No QR Code&amp;rdquo;&lt;/li&gt;
&lt;li&gt;The App then says &amp;ldquo;Open the flap&amp;rdquo;, and you can say &amp;ldquo;Right, there is a QR code inside, thanks.&amp;rdquo;&lt;/li&gt;
&lt;li&gt;The App (not iOS) then wants to scan the very same QR Code.&lt;/li&gt;
&lt;li&gt;This then takes ages, but adds the unit using a secret config Bluetooth.&lt;/li&gt;
&lt;li&gt;This is not the workflow described in the manual delivered with the unit.&lt;/li&gt;
&lt;li&gt;But it works.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;comfort-10.jpg&#34; alt=&#34;2025/04/comfort-10.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;Add the units one after the other.&lt;/p&gt;
&lt;h1 id=&#34;home-assistant-integration-with-panasonic-comfort-cloud&#34;&gt;
    &lt;a href=&#34;#home-assistant-integration-with-panasonic-comfort-cloud&#34;&gt;
	Home Assistant Integration with Panasonic Comfort Cloud
    &lt;/a&gt;
&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;Install HACS.&lt;/li&gt;
&lt;li&gt;Install Panasonic Comfort Cloud from HACS. &lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;comfort-12.jpg&#34; alt=&#34;2025/04/comfort-12.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/li&gt;
&lt;li&gt;Settings -&amp;gt; Devices and Services -&amp;gt; Add Integration -&amp;gt; Panasonic Comfort Cloud &lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;comfort-13.jpg&#34; alt=&#34;2025/04/comfort-13.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/li&gt;
&lt;li&gt;Configure Panasonic Comfort Cloud Integration, device discovery runs&lt;/li&gt;
&lt;li&gt;For each device,
we get 13 valid entities and several others
that are implemented but not valid for our device type. &lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;comfort-14.jpg&#34; alt=&#34;2025/04/comfort-14.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/li&gt;
&lt;li&gt;The entity &lt;code&gt;climate.&amp;lt;device name&amp;gt;&lt;/code&gt; yields a useful control panel. &lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;comfort-15.jpg&#34; alt=&#34;2025/04/comfort-15.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/li&gt;
&lt;li&gt;Dashboard the shit out of everything for profit.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I can now turn the air conditioners on and off using HASS.
I will be able to create air conditioner automations that keep the house in a sane temperature range automatically.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Going fully electric</title>
      <link>https://blog.koehntopp.info/2025/03/10/going-fully-electric/</link>
      <pubDate>Mon, 10 Mar 2025 03:04:05 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian KÃ¶hntopp)</author>

      <guid>https://blog.koehntopp.info/2025/03/10/going-fully-electric/</guid>
      <description>&lt;p&gt;End of April 2022, we got &lt;a href=&#34;https://blog.koehntopp.info/2022/05/02/a-solar-roof/&#34;&gt;our solar roof&lt;/a&gt;

.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;solar-03.png&#34; alt=&#34;2022/05/solar-03.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Using gas, we are heating this house using 1100-1300 m^3 gas per year.
That&amp;rsquo;s 11-13 MWh primary energy. At 156 qm, that is between 72 kWh/(qm * year) and
76 kWh/(qm * year).&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;In the Netherlands, this is good for an energielabel &amp;ldquo;A&amp;rdquo;,
in Germany 75 kWh/(qm * year) is the border between &amp;ldquo;B&amp;rdquo; and &amp;ldquo;C&amp;rdquo;.&lt;/p&gt;
&lt;h1 id=&#34;getting-rid-of-natural-gas-heating-and-cooling-the-top-floor&#34;&gt;
    &lt;a href=&#34;#getting-rid-of-natural-gas-heating-and-cooling-the-top-floor&#34;&gt;
	Getting rid of natural gas heating and cooling the top floor
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Our objective for 2025 was to get rid of the gas heating,
and install electrical heating based on heat pumps.
Additionally, I needed cooling, because upstairs it can get rather warm in the summer.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;electric-1.jpg&#34; alt=&#34;2025/03/electric-1.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;In summer, the temperature upstairs won&amp;rsquo;t fall below 24ÂºC, even at night.
During these times, I can&amp;rsquo;t sleep upstairs anymore.
I would migrate to the first floor overnight, and suffer during the day.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;After shopping around a bit, we decided to go for a set of Panasonic Multisplit Airconditioners (Air-Air Heatpumps):
Two multi-split outdoor units, and a total of seven indoor units.&lt;/p&gt;
&lt;p&gt;A 5x outdoor unit would be positioned at the south wall, driving 4 indoor units,
and the 3x outdoor unit would be sitting at the north wall, driving 3 indoor units.&lt;/p&gt;
&lt;p&gt;Warm water would be supplied by a heat pump boiler.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;electric-2.jpg&#34; alt=&#34;2025/03/electric-2.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;A Panasonic indoor unit, wall mounted under the roof of the room.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;The indoor units get wall mounted on either the north or south wall of the house.
They require two insulated copper pipes for the refrigerant, a power cable and a plastic hose for condensate water
to the passed to the outside, through the wall.&lt;/p&gt;
&lt;p&gt;For that, an 80 mm hole is being drilled into the wall to pass the connectors to the outside.
On the south side, we have been able to remove the wood paneling of the house,
and run these things over the outside insulation under the wood panels.
On the north side, the connections run to the wide of the house,
and are passed downstairs under the wood panels of the large windows.
They are then led to the outdoor unit on the ground.
Condensate is spilled directly to the ground (into the plants),
and power and refrigerant connections are led to the outdoor units.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;electric-3.jpg&#34; alt=&#34;2025/03/electric-3.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;This is what the wall mount and the hole look like, under the indoor units.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Running the plumbing and the wires under the wood hides all the ugly pipes quite well,
but required quite some effort with the house.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;electric-4.jpg&#34; alt=&#34;2025/03/electric-4.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;The 5x outdoor unit, already in place. No plumbing is connected, so far,
but the wood panels are already removed, ready to take the pipes.&lt;/em&gt;&lt;/p&gt;
&lt;h1 id=&#34;fixing-the-fuse-box&#34;&gt;
    &lt;a href=&#34;#fixing-the-fuse-box&#34;&gt;
	Fixing the Fuse Box
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;The air conditioners require single phase connections, and dedicated fuses, each.
Making this change would have overloaded our fuse box,
which was in a desolate state after 20 years of incremental changes anyway.
So an additional task of the installation process was a complete renewal of the fuse box,
including newly added differential breakers, more space and a general cleanup.
I also got some wall sockets in the fuse box, for the fiber connection and the fiber modem,
plus some spares.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;electric-5.jpg&#34; alt=&#34;2025/03/electric-5.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;The fuse box and electrical meter, after the cleanup.
There are still two additional Shelley meters that need to go in.&lt;/em&gt;&lt;/p&gt;
&lt;h1 id=&#34;warm-water&#34;&gt;
    &lt;a href=&#34;#warm-water&#34;&gt;
	Warm Water
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;The largest and most ugly part of the installation is the warm water boiler.
In the photo you see it before installation: a 200l tank with a heat pump on top.
For installation, it needs to be fixated, connected and requires two 160mm pipes to the roof
for air-in and air-out. These are not yet visible in the image.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;electric-6.jpg&#34; alt=&#34;2025/03/electric-6.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;Normally, you would install it in the place where the old gas boiler was.
Since we are keeping the gas boiler around for at least another 1-2 years as a backup,
that was not (yet) possible.&lt;/p&gt;
&lt;p&gt;This device is also the loudest of all parts.
When running, it creates a 43 dBa noise level,
39 dBa in 1.5m distance.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;electric-7.jpg&#34; alt=&#34;2025/03/electric-7.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;We typically run it at 11:00 in the morning.
At that time, we have sufficient solar energy to drive the heat pump (500 W intake),
and the outside air is already warm, making it easier for the heat pump to do its work.&lt;/p&gt;
&lt;p&gt;Warming up 200 kg of water from 15ÂºC to 50ÂºC takes around 8.13 kWh of energy,
and the heat pump is rated with a COP of slightly under 3 for 7ÂºC air-in temperature.
That means an initial &amp;ldquo;heat-pump only&amp;rdquo; run will take about 3 kWh of energy at 500 W power,
so warming up the entire thing will have an initial run-time of 6 hours.&lt;/p&gt;
&lt;p&gt;Or you press the &amp;ldquo;Boost&amp;rdquo; button, which will enable an additional electrical heater inside,
adding another 1500 W of energy intake to speed things up.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;electric-8.jpg&#34; alt=&#34;2025/03/electric-8.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;A teenage boy has showered late in the evening. The heat pump brings the water reservoir up to spec again.
This used 1.1 kWh (around 30 cent).
You can see how the heat pump uses more power to warm up the water the warmer the water in storage gets.
The difference from 40ÂºC to 50ÂºC is almost 100 Watt.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;During a normal day, we have to replace the used water and warm it up,
that will take around 2 hours of time and circa 1.5 kWh of energy on a normal day.&lt;/p&gt;
&lt;h1 id=&#34;redesigning-space-on-the-top-floor&#34;&gt;
    &lt;a href=&#34;#redesigning-space-on-the-top-floor&#34;&gt;
	Redesigning Space on the Top Floor
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Also, an additional task in the installation process was to wall off the top floor from the staircase and the rest of the house.
We also wanted to make the airspace smaller above the staircase, and install some unheated storage space.&lt;/p&gt;
&lt;p&gt;This will keep the cool air generated upstairs (where it is warmest in summer) upstairs,
and give us some much needed storage space for some things.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;electric-9.jpg&#34; alt=&#34;2025/03/electric-9.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;In the staircase to the top floor, looking up. A wooden lattice is being constructed, strong enough to carry some weight.
Insulation will go into the lattice, Rigips is installed on the lower side, and will be painted over.
A wooden floor goes on top.
An retractable staircase will go into the larger rectangle.
The staircase will get walls from floor to top, with an aluminium frame and acrylic glass, and a door.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;electric-10.jpg&#34; alt=&#34;2025/03/electric-10.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Roof, retractable staircase, and a half-installed air-conditioner, top floor.&lt;/em&gt;&lt;/p&gt;
&lt;h1 id=&#34;did-it-all-work&#34;&gt;
    &lt;a href=&#34;#did-it-all-work&#34;&gt;
	Did it all work?
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;electric-11.jpg&#34; alt=&#34;2025/03/electric-11.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;Ten days into March, we are at 0 m^3 gas usage.
So we are natural-gas free.&lt;/p&gt;
&lt;p&gt;We are using as much electrical energy as we produce, which is normal for early March.
Currently, we are coming out at net 13 kWh consumed for the first ten days.&lt;/p&gt;
&lt;p&gt;Electricity usage is definitively up. A lot.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;electric-12.jpg&#34; alt=&#34;2025/03/electric-12.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;The first ten days of March, compared to the last 10 days of September, and air temperatures of early march.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;We can see that the house baselined at around or below 10 kWh/day in September,
with the spikes being days where the car was being charged.&lt;/p&gt;
&lt;p&gt;In March, the car was charged on March, 1st, for 15.34 kWh,
leading to a usage spike of 42.6 kWh and a grid draw of 32.9 kWh, for a total net draw of 23.63 kWh.
Doing the math leaves us with approximately 17 kWh electrical energy for heating,
at an assumed COP of 3 this yields 50-ish kWh of heat energy, or a gas equivalent of 5 m^3.
That is not too shabby for a day with freezing at night and around 8ÂºC during the day.&lt;/p&gt;
&lt;p&gt;Energy used is roughly proportional to the outdoor temperature.
Especially the last three days have been warm and sunny,
so all indoor units but the one in the living room on the first floor have been off.&lt;/p&gt;
&lt;p&gt;For the night of the 9th of March, things looked like this (compared to September):&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;electric-13.jpg&#34; alt=&#34;2025/03/electric-13.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Baseline usage in September was around 300 Watt. We are now at around 700-750 Watt with a single unit running.
This keeps the temperature stable in the living room, and kitchen.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;The first floor is roughtly &amp;ldquo;J&amp;rdquo;-shaped:
The long side of the J is the living room, with a indoor unit at the top of the J, the south wall.
The bow of the J is the eating place, and the short side of the J is the kitchen.
The north wall, and the bow of the J, has a second indoor unit.&lt;/p&gt;
&lt;p&gt;For this night, I kept the living room indoor unit running at 23ÂºC.
The north wall unit in the kitchen was kept off.
The kitchen door was left half-open to give the entree and guest bathroom a bit of warmth.&lt;/p&gt;
&lt;p&gt;Apparently 23ÂºC measured at the indoor unit (almost under the roof of the room) are 21ÂºC measured at the Honeywell
wall thermostat used by the old has heating, and 20.0ÂºC at knee height in the living room.
We get 20.7ÂºC at 1.80m height in the kitchen.
The single active wall unit was set to &amp;ldquo;quiet&amp;rdquo; mode, which is exactly that:
there is air movement, it is almost hearable but can be felt,
and sometimes you can hear the mechanics in the indoor unit reposition the air-guides, quietly and carefully.&lt;/p&gt;
&lt;p&gt;Learnings:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;At 8ÂºC dropping to 3ÂºC outdoor temperature at night, a single indoor unit in quiet mode can keep the ground floor stable.&lt;/li&gt;
&lt;li&gt;You need to set temperatures agressively, 23ÂºC at 2.20m room height are 21ÂºC at 1.60m and 20ÂºC at 70cm height,
there is clear thermal layering.&lt;/li&gt;
&lt;li&gt;21ÂºC in the living room are 20.7ÂºC in the kitchen, which is way better than expected.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The original estimate was using 4 MWh/year electrical power for heating (around 1200 Euro/year), instead of 12 MWh gas
(around 1500 Euro/year at current pricing).
I do not expect to overshoot this,
but it may be that we actually end up with considerably less energy usage in the coming year.&lt;/p&gt;
&lt;p&gt;All in all the solution works, and performs at least as well as projected.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;electric-14.jpg&#34; alt=&#34;2025/03/electric-14.jpg&#34;  /&gt;
&lt;/p&gt;


&lt;em&gt;NE-roof: Solar Array, the outside air-ducts for the warm water boiler, and the gas boiler is active.
It&amp;rsquo;s the final day of natural gas usage for heating.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Discords BÃ¶rsengang</title>
      <link>https://blog.koehntopp.info/2025/03/06/discords-boersengang/</link>
      <pubDate>Thu, 06 Mar 2025 04:05:06 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian KÃ¶hntopp)</author>

      <guid>https://blog.koehntopp.info/2025/03/06/discords-boersengang/</guid>
      <description>&lt;p&gt;Heise berichtet:
&lt;a href=&#34;https://www.heise.de/news/Bericht-Discord-strebt-offenbar-Boersengang-noch-2025-an-10306706.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Discord strebt offenbar BÃ¶rsengang noch 2025 an&lt;/a&gt;

&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Die Verantwortlichen hinter der Chatplattform erwÃ¤gen laut einem Medienbericht,
ihr Unternehmen an die BÃ¶rse zu bringen und fÃ¼hren erste GesprÃ¤che.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Aus meinem Mastodon-Thread:&lt;/p&gt;
&lt;p&gt;Das ist schade, Discord war eine gute Chatplatform.
Mit dem BÃ¶rsengang wird es natÃ¼rlich zwingend, das Unternehmen auf Kosten der User-Experience auf Profit zu trimmen.
ErfahrungsgemÃ¤ÃŸ wird eine Plattform damit binnen drei Jahren unbrauchbar.
Wir haben also Stand heute noch in etwa vier Jahre an Discord gut, bevor wir eine Alternative brauchen.&lt;/p&gt;
&lt;p&gt;Eine Menge Leute lÃ¤stern Ã¼ber Discord, aber das ist meist entweder Mangel an Erfahrung oder sinnfreier OSS-Fundamentalismus.&lt;/p&gt;
&lt;p&gt;Discord ist von allen LÃ¶sungen fÃ¼r synchrone Kommunikation, die ich regelmÃ¤ÃŸig nutze, die einzig richtig Gute.&lt;/p&gt;
&lt;p&gt;Sie ist praktisch im Handumdrehen einzurichten, hat sinnvolle Defaults,
und kann Communities mit 3 Benutzern genau so abbilden wie solche mit 30k Users.&lt;/p&gt;
&lt;p&gt;Sie kann Umgebungen fÃ¼r Streaming und Audiochat genau so realisieren wie solche,
die lang laufende Text-Unterhaltungen realisieren â€“
und zwar lineare wie auch solche, die stark strukturiert in Threads oder FAQ/Support-Cases aufgebaut sind.&lt;/p&gt;
&lt;p&gt;Discord beherrscht Markdown-Text mit Syntax-Highlighting,
kann Bilder und Emojis einbetten,
und der Chat kann auch als Filesharing/Dateitransport-Dienst verwendet werden.&lt;/p&gt;
&lt;p&gt;Der Dienst ist auch nicht fÃ¶deriert, und der Client einigermaÃŸen kontrolliert.
Das heisst, man hat 95 % des Spam-Problems nicht, das zum Beispiel Google Hangouts vor 10 Jahren
durch FÃ¶rderation mit XMPP Instanzen hatte, die speziell zum Versenden von Spam gebaut wurden.
Google konnte das Probem  am Ende nur durch die Abriegelung von Hangouts lÃ¶sen.
AuÃŸerdem gibt so genau eine offizielle Timeline, und es gibt keinen Lag durch Nachrichten-Ausbreitung zwischen Servern.&lt;/p&gt;
&lt;p&gt;Und wÃ¤hrend es nicht-offizielle Discord Clients oder Patches fÃ¼r die originale Electron-App gibt,
sind die alle inoffiziell, kÃ¶nnen also den Dienstleister nicht daran hindern,
den Featureset zentral weiterzuentwickeln.
Bei Systemen ohne bindend offiziellen Client gibt es oft Gejammer von Menschen,
deren Client das neue Feature noch nicht kann, oder nie kÃ¶nnen wird,
und die deswegen unbedingt wollen, dass wir alle das Feature dann nicht haben.&lt;/p&gt;
&lt;p&gt;Und das alles hosted, fÃ¼r einen Spottpreis (nÃ¤mlich erst mal frei, oder halt fÃ¼r 120 Euro/Jahr, wenn man Nitro kauft).&lt;/p&gt;
&lt;p&gt;Es wird schade sein, das alles an ungebremste Monetarisierung zu verlieren.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Ich halte die Abwesenheit von FÃ¶deration und E2E-Encryption fÃ¼r einen Vorteil.&lt;/p&gt;
&lt;p&gt;Beides sind Features, die den Server und den Client notlos kompliziert machen,
und die fÃ¼r eine schlechte und verwirrende UX sorgen.
Die meisten Leute wollen halt nicht den antifaschistischen Widerstand abhÃ¶rsicher in ihrem Chat organisieren,
oder ein Frauenhaus und eine Abtreibungsberatung organisieren,
sondern einen Ã¶ffentlichen Guild-Server fÃ¼r ihre Gilde haben oder Ã¼ber ihre 3D-Drucker chatten.
Und das tut um mindestens drei GrÃ¶ÃŸenordnungen weniger weh,
wenn man sich FÃ¶deration und E2EE schenkt,
um sich auf Client-Features zu konzentrieren â€“ und weil der Dienst dann einfach und immer tut.&lt;/p&gt;
&lt;p&gt;Mit FÃ¶deration hat man, wie oben schon angedeutet,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;unterschiedliche Server-VersionsstÃ¤nde und entsprechend nicht einheitlich funktionierende Features.&lt;/li&gt;
&lt;li&gt;Propagation-Delay, und damit einen Chat, der nicht mehr kontrollierbare Lags hat.
Es entsteht eine nicht-einheitliche Sicht auf die Timeline.
Da kann man gegenan arbeiten, indem man pro Channel defÃ¶rderiert
(es gibt einen fÃ¼hrenden Server pro Channel, und alle Clients mÃ¼ssen da hinschreiben,
und da gibt es die authoritative Timeline fÃ¼r den Channel).&lt;/li&gt;
&lt;li&gt;dedizierte Serverimplementierungen, deren einziger Zweck es ist, nicht existende Client-Profile im Server zu simulieren
und Marketing-Nachrichten in echte Server mit echten Usern einzuspielen (also Spam).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Und sobald man E2EE macht, hat man&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;pro Client verschlÃ¼sselte Nachrichten mit bekanntem Inhalt (also ein known Plaintext Problem).&lt;/li&gt;
&lt;li&gt;ein Key-Distribution-Problem auÃŸerordentlichen AusmaÃŸes, das man absolut nicht braucht.&lt;/li&gt;
&lt;li&gt;das man durch FÃ¶deration und Lag noch verschÃ¤rfen kann.&lt;/li&gt;
&lt;li&gt;ein unlesbares Backlog fÃ¼r neu hereinkommende Clients.&lt;/li&gt;
&lt;li&gt;ein Problem bei IdentitÃ¤ten (&amp;ldquo;Isotopp&amp;rdquo;) mit mehreren Clients (Desktop, Mobile, Tablet),
das Du in der Key Distribution Infrastruktur abbilden musst,
einschlieÃŸlich GerÃ¤tewechsel (&amp;ldquo;neues Handy&amp;rdquo;) und Backlog-Synchronisation.&lt;/li&gt;
&lt;li&gt;desynchroniserte Clients, die technisch Mitglied im Kanal sind, aber nicht teilnehmen kÃ¶nnen (&amp;ldquo;Keysplit&amp;rdquo;)&lt;/li&gt;
&lt;li&gt;keine zentrale, indizierte Suche und kein Archiv.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;und das alles notlos, weil fÃ¼r mehr als 99 % aller AnwendungsfÃ¤lle E2EE ein Antifeature ist.
Der Dienst wÃ¼rde profitieren, wenn er das Feature nicht hÃ¤tte,
da die Inhalte im virtuellen Server im Grunde Ã¶ffentlich sind (jedenfalls nicht geheim),
und man nun arbeiten muÃŸ, um die oben angedeuteten Eigenschaften bereit zu stellen.&lt;/p&gt;
&lt;p&gt;Ein Dienst, den man sich anschauen sollte, ist das &lt;a href=&#34;https://itsfoss.com/revolt/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;hier reviewte Revolt&lt;/a&gt;

.
Dem fehlen noch eine Reihe von Features fÃ¼r Parity, aber es scheint ein sehr guter Ansatz zu sein.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Drei Winter mit eigener Heizung</title>
      <link>https://blog.koehntopp.info/2025/02/28/3-winter-mit-eigener-heizung/</link>
      <pubDate>Fri, 28 Feb 2025 13:05:06 +0000</pubDate><author>oliof@example.com (Harald Wagener)</author>

      <guid>https://blog.koehntopp.info/2025/02/28/3-winter-mit-eigener-heizung/</guid>
      <description>&lt;h1 id=&#34;2022&#34;&gt;
    &lt;a href=&#34;#2022&#34;&gt;
	2022
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Im November 2022 ziehe ich mit meiner Frau in das Haus ein, dass unser
&amp;ldquo;Alterswohnsitz&amp;rdquo; werden soll. Das GebÃ¤ude ist aus dem frÃ¼hen 15. Jahrhundert,
steht innen wie aussen unter Denkmalschutz, aber wurde von den Vorbesitzern
2017-2019 komplett saniert: Dach, DÃ¤mmung, Strom, Wasser und natÃ¼rlich
Heizung.&lt;/p&gt;
&lt;p&gt;Wie das bei neu gebackenen Hausbesitzern so ist, kollidieren eigene WÃ¼nsche zu
UmbaumaÃŸnahmen (&amp;ldquo;Photovoltaik!&amp;rdquo;, &amp;ldquo;WÃ¤rmepumpe!&amp;rdquo;) mit den RealitÃ¤ten vor Ort. Und
man hat erstmal das GefÃ¼hl verloren, wieviel bewegliches Kapital noch vorhanden
ist, nachdem eine Immobilie angeschafft wurde. Das setzt dem Investitionswillen
eine mentale Bremse.&lt;/p&gt;
&lt;p&gt;Die Fakten sind:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Das Haus steht in Reihe und hat relative dicke AussenwÃ¤nde (60-70cm) in den
ersten beiden Stockwerken.&lt;/li&gt;
&lt;li&gt;In der RÃ¼ckwand ist DÃ¤mmung eingeblasen, das Dach ist teilgedÃ¤mmt und
verfÃ¼gt Ã¼ber einen Kaltboden. Die Fenster sind doppelt verglast.&lt;/li&gt;
&lt;li&gt;Diese beiden Punkte bedeuten, dass das Haus energetisch groÃŸe Vorteile
gegenÃ¼ber einem freistehenden Einfamilienhaus hat.&lt;/li&gt;
&lt;li&gt;Die einzigartige Gestaltung der oberen Front bringt dÃ¼nnere WÃ¤nde mit sich.
Beim Schlafzimmer in Kombination mit einer zum Dachfirst geÃ¶ffneten Decke
geht ein Gutteil der Vorteile aus den ersten beiden Punkten direkt wieder flÃ¶ten.&lt;/li&gt;
&lt;li&gt;Die im Keller verbaute Gasheizung verantwortet die Warmwasserbereitung Ã¼ber
einen 145l Wassertank und ist WÃ¤rmequelle fÃ¼r die Heizung. Die
Warmwasserleitung erstreckt sich aufgrund baulicher Eigenheiten Ã¼ber ca. 15m,
bis sie im Bad ankommt.&lt;/li&gt;
&lt;li&gt;Die Heizung wird Ã¼ber einen AussentemperaturfÃ¼hler gesteuert und verfÃ¼gt Ã¼ber
eine Internet-Anbindung Ã¼ber eine proprietÃ¤re App, die einfache Einstellungen
ermÃ¶glicht und den Gasverbrauch fÃ¼r Warmwasser und Heizung ausweist.&lt;/li&gt;
&lt;li&gt;Es ist Ã¼berall (ausser im Keller) Fussbodenheizung in Trockenbauweise verlegt.
Die Raumthermostate zur Steuerung der Stellventile sind einfache Bimetall-Thermometer
(laut Hersteller mit einer AuflÃ¶sung von ca. 0,5 Grad).&lt;/li&gt;
&lt;li&gt;Das Haus steht dreifach unter Denkmalschutz: Einmal als Teil des
Altstadt-Ensembles der Stadt Wismar, einmal von aussen, und einmal von
innen. Das bedeutet: Das Denkmalschutzamt hat eine innige Beziehung zu dem Haus
und alle nicht rÃ¼ckbaufÃ¤higen BaumaÃŸnahmen sind genehmigungspflichtig (bis hin
zur Abgabe von Materialproben der Wandfarbe).&lt;/li&gt;
&lt;li&gt;Die Altstadtlage bedeutet neben baulichen Details wie Verschattung durch die
hÃ¶heren NachbarhÃ¤user auch, dass eine Photovoltaikanlage auf dem Dach hohen
bÃ¼rokratischen Aufwand bei fraglicher Leistung fÃ¼r das Haus mit sich bringen
wÃ¼rde. Der Anbieter fÃ¼r Miet-PV-Anlagen, der alle WerbeplÃ¤tze in den Bereichen
Energie und Heizungsbau einkauft, hat sich auch entschieden, mich durch Ghosten
darÃ¼ber in Kenntnis zu setzen, dass sie in einer Beauftragung durch mich eher
ein Risiko als eine Chance sehen.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Aus der Faktenlage ergibt sich: Es ist besonders empfehlenswert, ohne
wesentliche bauliche MaÃŸnahmen und Investitionen erste Einsparungen zu
realisieren, die wÃ¤hrend der Genehmigungsverfahren und der Wartezeit auf einen
tatsÃ¤chlichen Umbautermin schon greifen.&lt;/p&gt;
&lt;h1 id=&#34;mein-einstieg-in-die-heizungsoptimierung&#34;&gt;
    &lt;a href=&#34;#mein-einstieg-in-die-heizungsoptimierung&#34;&gt;
	Mein Einstieg in die Heizungsoptimierung
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Die Ã¼ber die App abrufbaren Energieverbrauchswerte gehen um 12 Monate zurÃ¼ck.
Die Werte werden in einfachen Balkendiagrammen dargestellt und sind zunÃ¤chst
auch nicht exportierbar. Die 12-Monatsgrenze bedeutet auch, dass ich &lt;em&gt;diesen&lt;/em&gt;
Dezember nicht mit dem &lt;em&gt;vorigen&lt;/em&gt; Dezember vergleichen kann. In Wirklichkeit
vergisst die Internetbox die historischen Werte auch gerne mal, zum Beispiel
wenn die Heizungssteuerung abstÃ¼rzt, oder die Heizung wÃ¤hrend der Wartung eine
Stunde stromlos geschaltet wird&amp;hellip;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/02/mybuderus-first-look.png&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;mybuderus-first-look.png&#34; alt=&#34;2025/02/mybuderus-first-look.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ein Beispiel-Screenshot der MyBuderus App. In einer Wochenansicht Ende Oktober
werden Tagesverbrauchswerte fÃ¼r die letzten beiden Tage angezeigt, darÃ¼ber
liegt eine Temperaturkurve. Die Tageswerte liegen bei 6 und 26 kWh, die
Aussentemperatur schwankt im Tagesmittel zwischen 12 und 14 Grad Celsius)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Da die Heizung von Buderus ist, spricht sie sowohl fÃ¼r die Anbindung von
Erweiterungen wie Funkmodul und Mischer, als auch fÃ¼r die Internetbox, das
Protokoll EMS (genauer EMS+). Genau wie alle anderen Hersteller macht Buderus
um dieses Protokoll ein Geheimnis, aber es gibt zu meinem GlÃ¼ck Leute, die das
Protokoll reverse engineered haben und Ã¼ber ein &lt;a href=&#34;https://emsesp.org&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ESP Modul&lt;/a&gt;


eine Schnittstelle zu LÃ¶sungen wie Home Assistant bereitstellen. Weil ich mich
in Sachen LÃ¶ten und Mikro-Elektronik fÃ¼r &amp;ldquo;zu schlecht fÃ¼r Heizungssachen&amp;rdquo;
halte, kaufe ich eine fertige EMS-ESP Box von
&lt;a href=&#34;https://bbqkees-electronics.nl/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;BBQKees&lt;/a&gt;

.&lt;/p&gt;
&lt;p&gt;Ãœber EMS-ESP bekomme ich anstelle einer ausgewÃ¤hlten Auswahl von Informationen
und EinstellungsmÃ¶glichkeiten Ã¼ber einhundert Entities zu meiner Heizung
geliefert, die man teilweise auch schreiben/Ã¤ndern kann. Ich begnÃ¼ge mich aber
zunÃ¤chst damit, den Zustand der Heizung zu beobachten. Ã„nderungen an der Konfiguration
nehme ich weiterhin Ã¼ber die offizielle App vor.&lt;/p&gt;
&lt;p&gt;Der Winter 2022/2023 ist fÃ¼r mich extrem frustrierend. Ich &lt;em&gt;weiss&lt;/em&gt;, dass die
Heizung nicht ideal lÃ¤uft, und ich kann es wenigstens sehen. Relativ schnell
erkenne ich folgende UnzulÃ¤nglichkeiten:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Der AussentemperaturfÃ¼hler sitzt an einer ungÃ¼nstigen Stelle. Aus der
denkmalschutzrechtlichen Situation und der Ausrichtung der freistehenden
Hausseiten ergibt sich, dass der AussentemperaturfÃ¼hler im Luftschacht zum
Keller sitzt und die gemessenen Temperaturen insbesondere im Winter stark
von den eigentlichen Aussentemperaturen abweichen.&lt;/li&gt;
&lt;li&gt;Das Heizsystem ist auf Auslieferunsgszustand mit Nachtabsenkung auf 16 Grad
und Tagheizung auf 21 Grad gestellt. Das fÃ¼hrt mit den naiv auf ca. 20 Grad
eingestellten Raumthermostaten zu krÃ¤ftigem Temperaturabfall nachts, den die
Heizung am Morgen dann versucht aufzuholen.&lt;/li&gt;
&lt;li&gt;Die Trockenbauweise der Fussbodenheizung hat unter anderem nicht die
Eigenschaft von in Estrich verlegten Heizungen, die Fussbodentemperatur
lange auf hohem Niveau zu halten.&lt;/li&gt;
&lt;li&gt;Die Warmwasserbereitung lÃ¤uft kontinuierlich und verbraucht ca 12 kWh am Tag.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Ã„ndern kann ich auf Anhieb nur die Punkte 2 und 4:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ich stelle das Heizprogramm auf 19,5 und 19 Grad um. Dadurch sinkt der
Gasverbrauch fÃ¼r das Heizen um ca. 20%, bei deutlich verbessertem
WÃ¤rmekomfort.&lt;/li&gt;
&lt;li&gt;Die Warmwassererzeugung beschrÃ¤nke ich auf zwei Zeitfenster morgens und
abends, und senke hier den Verbrauch auf 7-8 kWh am Tag (immer noch viel zu
viel, aber ich nehme erstmal was ich kriegen kann).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/02/taktung.png&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;taktung.png&#34; alt=&#34;2025/02/taktung.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Verlaufskurve der Temperatur im Heizkreislauf Ã¼ber drei Tage. Man erkennt ein
SÃ¤gezahnmuster, das auf Taktung hindeutet. UnterstÃ¼tzt wird die Hypothese durch
einen darÃ¼berliegenden Balken in dem mit Gelb angezeigt wird, wenn die Heizung
an ist, und mit grau, wenn sie aus ist. In den ersten 60% der Kurve wechselt
dieser Balken regelmÃ¤ssig zwischen grau und gelb. In den letzten 40% ist die
SÃ¤gezahnkurve durch eine weitestgehend gerade Linie ersetzt, und der Balken ist
durchgehend gelb&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Mit den neu eingestellten Werten ergibt sich nun ein neues Problem: Die Heizung
fÃ¤ngt an zu &amp;ldquo;takten&amp;rdquo;: Dadurch, dass die Raumthermostate niedrig eingestellt
sind ist die WÃ¤rmeanforderung so gering, dass die Heizung sich schnell
abschaltet und dann aber bald wieder einschaltet. Diese hohe Taktung ist einer
der HauptgrÃ¼nde fÃ¼r vorzeitige Alterung und sollte vermieden werden. Es dauert
einige Zeit bis ich darauf komme, einfach die Raumthermostate weiter
aufzudrehen. Dazu spÃ¤ter mehr.&lt;/p&gt;
&lt;p&gt;Und dann ist plÃ¶tzlich die Heizperiode vorbei. Ich weiÃŸ, dass mein
Warmwasserspeicher tagsÃ¼ber zu viel Temperatur verliert, die Ursache
hierfÃ¼r ist mir aber noch nicht klar. Auch dazu spÃ¤ter mehr.&lt;/p&gt;
&lt;h1 id=&#34;20232024&#34;&gt;
    &lt;a href=&#34;#20232024&#34;&gt;
	2023/2024
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/02/beginn-heizperiode-23.png&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;beginn-heizperiode-23.png&#34; alt=&#34;2025/02/beginn-heizperiode-23.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Im Winter 2023/2024 beginnt die Heizperiode bereits Anfang Oktober. In der
MyBuderus-App sieht man wieder die beginnenden Heiztage, dieses mal bei von 12
auf 9 Grad fallende Aussentemperaturen mit Verbrauchswerten zwischen drei und
15 kWh&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;In diesem Winter versuche ich im Wesentlichen, meine Einstellungen aus dem
vorigen Winter zu validieren. Ich verÃ¤ndere wenig an der Steuerung, aber ich
beginne systematisch, das Haus mit Raumthermometern zu versorgen, um besser zu
verstehen, wann und wo WÃ¤rme notwendig ist. Im Januar 2024 kommt dann die
Gasabrechnung fÃ¼r das Jahr 2023 und &amp;hellip; unser Gasverbrauch liegt bei ca. 50%
des angenommenen Durchschnittswertes fÃ¼r ein Haus unserer GrÃ¶ÃŸe.
Und die Energiemenge liegt deutlich unter der unserer alten, wesentlich kleineren Mietwohnung in Berlin.&lt;/p&gt;
&lt;p&gt;Ich mache einen ersten VorstoÃŸ hinsichtlich einer BrauchwasserwÃ¤rmepumpe, da
Ã¼bers Jahr gesehen die Warmwasserbereitung 20-25% meines Gasverbrauchs
ausmacht. Da aber Heizungsinstallateure sich ihre Projekte aussuchen kÃ¶nnen,
werde ich bei verschiedenen Anfragen geghostet, weil eine Sonderimmobilie eben
schwieriger ist, als in einer Neubausiedlung WÃ¤rmepumpen in Serie zu verbauen.&lt;/p&gt;
&lt;p&gt;Ich lerne aber in GesprÃ¤chen mit meinem Schornsteinfeger und dem
Heizungsmenschen, der meine Heizung wartet, dass ich hier in Wismar vermutlich
der einzige bin, der eine historische Datenaufzeichnung Ã¼ber das Verhalten und
den Verbrauch seiner Heizungsanlage hat und auswertet, und daraus bessere
Einstellungen ableitet. Konkret sagt mir ein Heizungsinstallateur etwas
neidisch, dass sie solche Informationen fÃ¼r keine einzige Anlage im Bestand bekommen
kÃ¶nnen. Ich bin also potentiell ein schwieriger Kunde, weil ich eigene
Vorstellungen und Ideen habe &amp;hellip;&lt;/p&gt;
&lt;p&gt;Im Sommer 2024 versuche ich weiter das Thema WÃ¤rmepumpe anzugehen, aber auch
hier verlieren Heizungsinstallateure nach ersten GesprÃ¤chen das Interesse und
ghosten mich. Nebenbei erweitere ich meine Home Assistant Views im Versuch,
ZusammenhÃ¤nge besser zu visualisieren.&lt;/p&gt;
&lt;h1 id=&#34;20242025&#34;&gt;
    &lt;a href=&#34;#20242025&#34;&gt;
	2024/2025
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Nachdem ich zwei Winter lang EMS-ESP und Home Assistant im Wesentlichen zur
Beobachtung des Heizungssystems verwendet habe, mache ich mich nun an weitere
Optimierungen des Heizsystems:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ich schliesse eine Handvoll DS18B20 Temperatursensoren an die (aktualisierte)
EMS-ESP Box an und messe nun Vor- und RÃ¼cklauftemperatur an der
hydraulischen Weiche sowie die Trinkwassertemperatur bei Zu- und Abfluss des
Wasserspeichers.&lt;/li&gt;
&lt;li&gt;Da ich sehe, dass das Energie-Reporting der MyBuderus App und von EMS-ESP
weit auseinanderliegen, installiere ich noch einen Hall-Effekt-ZÃ¤hler am GaszÃ¤hler.&lt;/li&gt;
&lt;li&gt;ZunÃ¤chst korrigiere ich die Einstellung der Zirkulationspumpe, die einfach
auf Maximum steht, anstatt der notwendigen FÃ¶rderpumpenhÃ¶he entsprechend
eingestellt zu sein. Da die Zirkulationspumpe zusÃ¤tzlich zur Pumpe im Gasboiler
lÃ¤uft, kann ich auch die Leistung der internen Pumpe herunterstellen.&lt;/li&gt;
&lt;li&gt;Danach korrigiere ich die Einstellung der Raumthermostate. Da das Haus innen
im Wesentlichen einen offenen Aufbau hat, ist eine raumspezifische Einstellung
der HeizkreislÃ¤ufe sowieso nicht wirklich mÃ¶glich. Also stelle ich Ã¼berall die
Raumthermostate auf Maximum, um einen gleichmÃ¤ssigen Volumenstrom Ã¼ber den
gesamten Heizstrang zu gewÃ¤hrleisten.&lt;/li&gt;
&lt;li&gt;Dann simuliere ich mithilfe von EMS-ESP ein
&lt;a href=&#34;https://docs.emsesp.org/Special-Functions/#remote-thermostats&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Raumthermostat&lt;/a&gt;

,
um die mangelhafte Positionierung des AussentemperaturfÃ¼hlers durch
raumtemperaturgefÃ¼hrte Steuerung mit Ausseneinfluss zu kompensieren.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Zum letzten Punkt sei gesagt: Es wÃ¤re ein leichtes gewesen, bei der letzten
Sanierung des Hauses ein Raumthermometer mit Anschluss an die Heizung zu
installieren; der EMS Bus funktioniert Ã¼ber ca. 100 Meter LÃ¤nge. Die
Vorbesitzer haben an dieser Stelle meiner Meinung nach am falschen Ende gespart
und sind vom Heizungsbauer nicht gut beraten worden (das will ich dem
Heizungsbauer nicht vorwerfen, das ist aber eine andere Geschichte).&lt;/p&gt;
&lt;p&gt;Zum GaszÃ¤hler eine Anmerkung: Ich habe hier festgestellt, dass die MyBuderus Box
zwischen 10% und 25% zu wenig Verbrauch anzeigt, im Vergleich mit den Werten von
EMS-ESP, die ja aus dem gleichen System kommen. Das begrÃ¼ndet sich darin, dass
die MyBuderus Box nur alle 90 Sekunden den Mittelwert des Boilers abfragt, und
EMS-ESP alle 20 Sekunden. Kurze Spitzen glÃ¤ttet die MyBuderus Box also weg. Der
GaszÃ¤hler hingegen scheint bis zu 10% &lt;em&gt;zuviel&lt;/em&gt; Kubikmeter zu zÃ¤hlen; vermutlich
weil bei bestimmten Stellgraden des Magneten am ZÃ¤hler zum Hall-Effect-Sensor
kein Debounce stattfindet. Ich mache also zusÃ¤tzlich noch jeden Monat ein Foto
vom ZÃ¤hler &amp;hellip;&lt;/p&gt;
&lt;p&gt;In dieser Zeit beginne ich, meine Heizungserfahrungen im Fediverse zu verbloggen
(zu Finden mit einer Suche nach &lt;code&gt;from:oliof@social.treehouse.systems #heizung&lt;/code&gt;),
was mit einigem Interesse aufgenommen wird. Dieser und folgende Artikel sollen
die Inhalte zur einfacheren Referenzierung nochmal in aufgearbeiteter Form
wiedergeben.&lt;/p&gt;
&lt;p&gt;Ausserdem lese ich einschlÃ¤gige Foren wie haustechnikdialog und heizungsforum
(keine Links gesetzt, findet ihr selbst) quer, der Ton dort ist mir aber zu
rau, als dass ich mich direkt einbringen wollen wÃ¼rde. Aus diesen Foren und
den Unterhaltungen zu meinen Posts lerne ich unter anderem zu Volumenstrom,
voll geÃ¶ffneten Heizthermostaten, Heizkurve, alternativen SteuerungsansÃ¤tzen
wie der Bajorath-Steuerung, und mein VerstÃ¤ndnis dessen was ich tue entwickelt
sich von steuern, beobachten, messen, nachsteuern, zu gezielteren Experimenten.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/02/ha-panel.png&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;ha-panel.png&#34; alt=&#34;2025/02/ha-panel.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ein komplexes Panel aus HomeAssistant, das viele verschiedene Heizungswerte
und Diagramme zeigt: Aktuelle Einstellung des Thermostats, Raumtemperaturen,
Raumeinfluss auf die Vorlauftemperatur, Warmwassertemperatur, BetriebszustÃ¤nde
von Boiler, Warmwasserbereitung, Aussentemperaturkurven,
Heizkreislauftemperaturauswertung, und vieles mehr. Dieses Panel braucht seine
eigene Artikelserie &amp;hellip;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Ich schaue mir auch andere Optionen zur Heizungssteuerung an, zum Beispiel
&lt;a href=&#34;https://github.com/Alexwijn/SAT&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Smart Autotune Thermostat&lt;/a&gt;

, das eine bessere
Steuerung fÃ¼r &lt;a href=&#34;https://opentherm.eu&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Opentherm&lt;/a&gt;

 basierte Heizungen insbesondere
bei niedriger Heizlast liefert. Denn das ist bei mir ein Problem: Bei den
mittleren Temperaturen (6-10 Grad) lÃ¤uft die Heizung zwar auf niedrigster
Modulation, damit wird aber immer noch zuviel WÃ¤rme produziert, also zuviel Gas
verbrannt.. Zu dieser Zeit wird SAT Version 4.0 verÃ¶ffentlicht, dass auch die
Steuerung von EMS basierten Heizungen in einer ersten Fassung unterstÃ¼tzt.
Allerdings mÃ¼sste ich dafÃ¼r das RC310 meiner Gasheizung abklemmen, da die
EMS-Boiler anders als OpenTherm-Heizungen nicht so funktionieren, dass man ein
anderes Thermostat als Hauptsteuerung anmelden kann.&lt;/p&gt;
&lt;p&gt;Was ich aber durch die Auseinandersetzung mit SAT lerne: Meine Raumthermometer
sind zu trÃ¤ge fÃ¼r effektive Heizungssteuerung und ich ersetze die stabil
funktionierenden, aber langsam aktualisierenden Sonoff
&lt;a href=&#34;https://www.amazon.de/dp/B0BZCV658S&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;SNZB-02D&lt;/a&gt;

 im Referenzraum durch
&lt;a href=&#34;https://blakadder.com/xiaomi-mho-c401-zigbee/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;MHO-C401&lt;/a&gt;

 &amp;ndash; die sprechen mit
einer &lt;a href=&#34;https://pvvx.github.io/MHO_C401/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;alternativen Firmware&lt;/a&gt;

 BTHome oder
Zigbee und aktualisieren hÃ¤ufiger als einmal pro Minute.&lt;/p&gt;
&lt;p&gt;Als Alternative zu SAT zur Kompensation des hohen Verbrauchs bei Niedriglast
implementiere ich in Home Assistant eine &lt;a href=&#34;https://docs.emsesp.org/tips-and-tricks/#low-load-optimisation-of-a-buderus-gb172-gas-boiler&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;einfache
Zweipunktsteuerung&lt;/a&gt;

,
um die Heizung bei Erreichen der Raumtemperatur abzuschalten, und bei
Unterschreiten der Raumtemperatur wieder einzuschalten. Dadurch spare ich bei
den Mitteltemperaturen zwischen 30 und 50 Prozent Heizenergie, und selbst bei den
Tiefsttemperaturen in diesem Winter kommen noch 10% Abschaltzeiten dazu. Ob
diese allerdings tatsÃ¤chlich Energie-Einsparungen in entsprechender HÃ¶he
bedeuten, oder die Heizung in anderen Zeiten gegen heizen muss, sei
dahingestellt.&lt;/p&gt;
&lt;p&gt;Mit den niedrigen Energieverbrauchszahlen fÃ¼r die Heizung drÃ¤ngt sich nun das
Thema Warmwasserbereitung in den Vordergrund. Ich beobachte weiterhin 1,2 Grad
Verlust der WÃ¤rme im Wasserspeicher pro Stunde. Wenn ich die
Zirkulationsleitung sperre, fÃ¤llt der WÃ¤rmeverlust auf eher den UmstÃ¤nden
entsprechende WÃ¤rmeverluste von 0,4 Grad pro Stunde.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/02/wwwverlust.png&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;wwwverlust.png&#34; alt=&#34;2025/02/wwwverlust.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ein Temperaturgraph, der einen stetigen Temperaturverlust anzeigt: Erst steil,
dann weniger steil, dann wieder steil. Zum Zeitpunkt des weniger steilen
Temperaturverlusts war die Zirkulationsleitung gesperrt.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Hier offenbart sich der Nachteil der EMS-ESP LÃ¶sung &amp;ndash; viele der Werte sind
nicht gut dokumentiert. Ich brauche mehrere AnlÃ¤ufe bis ich wirklich die
EntitÃ¤t finde, mit der ich den Betrieb der Zirkulationspumpe effektiv
unterbinden kann. Um Legionellenbildung in der Zirkulationsleitung zu
vermeiden, lÃ¤uft die Warmwasserzirkulation nun jedes Mal einmal, wenn die
Warmwasseraufbereitung lÃ¤uft, sobald die Zieltemperatur erreicht wird. Damit
reduziere ich den Kaltwasservorlauf von ca 10l auf im Mittel 5. Ich tausche
effektiv 10% Gesamtjahresenergieaufwand gegen 3% mehr Wasserverbrauch.&lt;/p&gt;
&lt;h1 id=&#34;vorlÃ¤ufiges-fazit&#34;&gt;
    &lt;a href=&#34;#vorl%c3%a4ufiges-fazit&#34;&gt;
	VorlÃ¤ufiges Fazit
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Meine Umwege und Lerngeschenke mal aussen vor gelassen, habe ich mit einem
mittelgut gedÃ¤mmten Haus und einer nicht ganz so alten Bestandsanlage mit Hilfe
von angekoppelter Visualisuerung und ein paar Digitalthermometern eine
Optimierung meiner Heizung hinbekommen, die gegenÃ¼ber den Einstellungen bei
Ãœbernahme des GebÃ¤udes bei fast gleichbleibendem (teilweise verbessertem)
Komfort ca. 50% des Energieverbrauchs fÃ¼rs Heizen einspart. Das ist natÃ¼rlich
gut, aber es legt die MeÃŸlatte fÃ¼r die Zukunft entsprechend hoch.&lt;/p&gt;
&lt;p&gt;Es sei noch angemerkt, dass unterschiedliche bauliche Eigenschaften,
persÃ¶nliches Behaglichkeitsempfinden, MÃ¶glichkeiten baulicher Anpassungen, etc.
absolut dazu fÃ¼hren werden, dass Dritte sich meine Beschreibung durchlesen, und
wenig bis nichts von meinen MaÃŸnahmen direkt anwendbar ist. Wichtig ist aber
die Methodik:&lt;/p&gt;
&lt;p&gt;a) Messen&lt;br&gt;
b) GrÃ¶sste Verbrauchsmomente identifizieren&lt;br&gt;
c) Diese Verbrauchsmomente eliminieren oder reduzieren&lt;br&gt;
d) Messen&lt;br&gt;
e) Eigenes Verhalten Ã¼berprÃ¼fen und anpassen&lt;br&gt;
f) Messen&lt;/p&gt;
&lt;p&gt;Die Messbarkeit und Vergleichbarkeit mit vorherigen Einstellungen ist bei einem
trÃ¤gen System wie der Heizung extrem wichtig, um die Wirksamkeit Ã¼ber ein
persÃ¶nliches BauchgefÃ¼hl hinaus nachweisen zu kÃ¶nnen. Im folgenden Bild zum
Beispiel kann man den Effekt zweier warmer KÃ¶rper und eines grossen
Flachbildschirms auf die Raumtemperatur sehen &amp;ndash; die Raumtemperatur geht um
0.25 Grad nach oben. Ist ja auch kein Wunder, schliesslich entspricht die
WÃ¤rmeentwicklung dieser drei Dinge in etwa 20% des WÃ¤rmebedarfs des fraglichen
Raumes &amp;hellip;&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;humanheating.png&#34; alt=&#34;2025/02/humanheating.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ausschnitt aus einer Temperaturkurve, die in kurzer Zeit einen steilen Anstieg
der gemessenen Temperatur verzeichnet.&lt;/em&gt;&lt;/p&gt;
&lt;h1 id=&#34;2025-und-spÃ¤ter&#34;&gt;
    &lt;a href=&#34;#2025-und-sp%c3%a4ter&#34;&gt;
	2025 und spÃ¤ter
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Ich habe endlich einen Heizungsinstallateur, der das WÃ¤rmepumpenprojekt mit mir
ernsthaft vorantreibt. Im Moment ist hier noch die Bauplanung und die
Genehmigung durch das Denkmalschutzamt anhÃ¤ngig, wir werden sehen, was daraus
wird.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Keine Windkraft zu Hause</title>
      <link>https://blog.koehntopp.info/2024/12/20/keine-windkraft-zu-hause/</link>
      <pubDate>Fri, 20 Dec 2024 04:05:06 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian KÃ¶hntopp)</author>

      <guid>https://blog.koehntopp.info/2024/12/20/keine-windkraft-zu-hause/</guid>
      <description>&lt;p&gt;Auf Mastodon hieÃŸ es als Antwort auf einen Heim-Solar-Artikel:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Es fehlt irgendwie die haushaltstaugliche Windkraftanlage.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Die kann es nicht geben.
Mehrere physikalische Grundlagen sprechen gegen so etwas:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bebaute FlÃ¤chen und raue UntergrÃ¼nde zerstÃ¶ren den laminaren Flow des Windes.
In Wohngebieten weht der Wind instabil, stoÃŸweise und aus wechselnden Richtungen.&lt;/li&gt;
&lt;li&gt;Generell muss man in mindestens 100 Meter HÃ¶he Ã¼ber dem Boden arbeiten, in der &lt;a href=&#34;https://de.wikipedia.org/wiki/Ekman-Schicht&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Ekman-Schicht&lt;/a&gt;

.
Dies gilt idealerweise fÃ¼r die Untergrenze des Rotorblattes.&lt;/li&gt;
&lt;li&gt;Die FlÃ¤che eines Windrades steigt quadratisch mit dem Rotordurchmesser an.
Der Windenergie-Ertrag steigt mit
&lt;a href=&#34;https://energiewende.eu/warum-werden-windraeder-immer-groesser/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;der dritten Potenz der Windgeschwindigkeit&lt;/a&gt;


an (die in der Ekman-Schicht stabil und gleichmÃ¤ÃŸig hoch ist).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Das heiÃŸt, ein sinnvolles Windrad ist groÃŸ, steht &amp;ldquo;weit drauÃŸen&amp;rdquo; in der FlÃ¤che und ragt weit in den Bereich 100 m â€“
1000 m HÃ¶he stÃ¶rungsfreier laminarer StrÃ¶mung hinein.
Das wird nie in Wohngebieten sein.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;windkraft-zu-haus-01.png&#34; alt=&#34;2024/12/windkraft-zu-haus-01.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;Es gibt immer mal Ideen fÃ¼r &amp;ldquo;WindrÃ¤der, die mit Wind aus wechselnden Richtungen&amp;rdquo; klar kommen,
aber die InstabilitÃ¤t bodennaher Winde ist nur der kleinere Teil des Problems.
Die Energie, die man ab-ernten will, ist in bodennahen und verwirbelten Schichten nicht vorhanden.
Man muÃŸ nach oben in die stabilen laminaren Schichten, um die Energie da heraus zu holen.&lt;/p&gt;
&lt;p&gt;Die Folge ist:
Zwar ist die Summe von Wind- und Sonnenenergie-Ertrag im Jahr in unseren Breiten im Mittel ungefÃ¤hr konstant,
aber Du kannst Windstrom nicht autonom daheim erzeugen.&lt;/p&gt;
&lt;p&gt;Das heisst, Du wirst vier Monate im Jahr Strom aus dem Netz beziehen.&lt;/p&gt;
&lt;p&gt;Das heiÃŸt auch, dass wir Wind und Sonnenenergie balanciert ausbauen mÃ¼ssen.
Ein einziger Ausbau wird nicht funktionieren.&lt;/p&gt;
&lt;p&gt;Und weil der Ertrag nur ein Teil der Nennleistung ist, werden wir auÃŸerdem Ã¼berbauen mÃ¼ssen, ggf. um den Faktor 2-3.
Das heisst, dass wir an ertragreichen Tagen einen StromÃ¼berschuss haben werden â€“
und entweder abregeln oder Wasser elektrolysieren werden, auch wenn das ineffizient ist.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
