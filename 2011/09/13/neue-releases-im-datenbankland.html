<!doctype html>
<html lang="en">
    <head>
    <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>Neue Releases im Datenbankland | Die wunderbare Welt von Isotopp</title>
<meta name="description" content="Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" href="icon.png">
<link rel="icon" href="favicon.ico" type="image/ico">
<link rel="shortcut icon" href="favicon.ico">
<link rel="canonical" href="https://blog.koehntopp.info/2011/09/13/neue-releases-im-datenbankland.html">

<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/feed.xml' title="Die wunderbare Welt von Isotopp">
<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/tags/mysql/feed.xml' title="Feed: mysql Articles for Die wunderbare Welt von Isotopp">
<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/tags/review/feed.xml' title="Feed: review Articles for Die wunderbare Welt von Isotopp">


<meta name="generator" content="Hugo 0.145.0">
<meta property="og:title" content='Neue Releases im Datenbankland | Die wunderbare Welt von Isotopp' />
<meta property="og:site_name" content='Die wunderbare Welt von Isotopp' />
<meta property="og:locale" content="de_DE" />
<meta name="description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="og:description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="og:url" content="https://blog.koehntopp.info/2011/09/13/neue-releases-im-datenbankland.html" />
<meta property="og:type" content="article" />
<meta name="article:published_time" content='2011-09-13T17:40:00Z' />
<meta name="fediverse:creator" content="@isotopp@infosec.exchange">
<meta property="og:image" content='https://blog.koehntopp.info/assets/img/background/mysql.jpg' />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content='@isotopp@infosec.exchange' />
<meta property="twitter:title" content='Neue Releases im Datenbankland' />
<meta property="twitter:description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="twitter:image" content='https://blog.koehntopp.info/assets/img/background/mysql.jpg' />


    



<link rel="stylesheet" href="https://blog.koehntopp.info/style.min.dd9d518fe6cac55191b6af874e18327dff051055754ffc7e106131baf826e6d3.css">


    </head>
    <body>
        

        <nav class="navbar navbar-expand-lg navbar-light px-lg-4 pt-lg-4">
    <div class="container-fluid">
        <a class="navbar-brand justify-content-center" href="https://blog.koehntopp.info/" rel="home" title="Die wunderbare Welt von Isotopp">
            <img alt="Kris" height='48' width='48' src='/assets/img/avatars/isotopp.jpg' class='p-0 me-3 d-block d-lg-inline'>
            <span class='h4 d-block d-lg-inline'>Die wunderbare Welt von Isotopp</span>
        </a>

        <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse text-center" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto">
                
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">
                        <span class="">About</span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/contribute/">
                        <span class="">Contribute</span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/search/">
                        <span class=""><svg class='bi' height='1.5rem' width='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#search'/></svg></span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/tags/">
                        <span class=""><svg class='bi' width='1.5rem' height='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#tags-fill'/></svg></span>
                        
                    </a>
                </li>
                
            </ul>
            
        </div>

    </div>
</nav>


        <main role="main" class="container-fluid p-0">

            









<div class="page">
	<article class="neue-releases-im-datenbankland-page">
		<div class='row  justify-content-center text-center my-4 mx-0'>
			<header class="headerbanner">
				<div class='col'>
					<h1 class="title mb-lg-4 text-white">
						Neue Releases im Datenbankland
					</h1>
					<div class='text-uppercase text-light' style='letter-spacing: 0.1rem;'>
						<img alt='@isotopp@infosec.exchange image' src='/assets/img/avatars/isotopp.jpg' class='me-1 p-0'
						     style='width: 1.9rem; border-radius: 1rem;'>
						<a href="https://infosec.exchange/@isotopp" class='text-light text-decoration-none'>
							Kristian Köhntopp
						</a>
						
						<span class='d-none d-lg-inline'>-</span>
						<div class='d-block d-lg-inline'>September 13, 2011</div>
						
					</div>
				</div>
				
				<img alt='a featured image' src="/assets/img/background/mysql.jpg">
				
			</header>
		</div>

		<div class='row justify-content-center mx-0'>
			<div class='col-lg-4 text-center text-lg-start'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Previous Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2011/08/31/acht-jahre-sco-proze.html">Acht Jahre SCO-Prozeß</a>
				</div>
				
			</div>

			<div class='col-lg-4 text-lg-end mt-5 mt-lg-0 text-center'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Next Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2011/09/13/ein-verpasstes-jubilaeum.html">Ein verpaßtes Jubiläum</a>
				</div>
				
			</div>
		</div>

		<div class='row justify-content-center mx-0 mt-3 mb-5'>
			<div class="col-lg-8 mb-3">
				
			</div>
			<div class='col-lg-8'>
				<p><a href="http://www.mongodb.org/display/DOCS/2.0%2BRelease%2BNotes" target="_blank" rel="noopener">MongoDB 2.0</a>


ist draußen, und implementiert eine Reihe interessanter neuer Dinge, die ich
anderswo gerne hätte, insbesondere im Bereich
<a href="http://www.mongodb.org/display/DOCS/2.0%2BRelease%2BNotes#2.0ReleaseNotes-ReplicaSets" target="_blank" rel="noopener">Replica Sets</a>

.</p>
<p>Postgres hat das
<a href="http://www.postgresql.org/docs/9.1/static/release-9-1.html" target="_blank" rel="noopener">Release 9.1</a>


draußen. Die versprochene
<a href="http://www.postgresql.org/docs/9.1/static/warm-standby.html#SYNCHRONOUS-REPLICATION" target="_blank" rel="noopener">synchrone Replikation</a>


ist jetzt verfügbar, sie ist grob vergleichbar mit der
<a href="http://dev.mysql.com/doc/refman/5.5/en/replication-semisync.html" target="_blank" rel="noopener">Semisynchronen Replikation</a>


in MySQL 5.5. Ein wesentlicher Unterschied ist, daß man bei Postgres
einzelne, bestimmte Server als synchrone Slaves benennen kann, während MySQL
nur garantiert, daß es mindestens einen (wechselnden) Slave gibt, der
synchron repliziert hat. Die Postgres-Lösung ist einfacher als Teil eines
Failover-Systems zu scripten, die MySQL-Lösung ist im Betrieb flexibler und
potentiell schneller.</p>
<p>Postgres 9.1 implementiert
<a href="http://www.postgresql.org/docs/9.1/static/sql-createserver.html" target="_blank" rel="noopener">Create Server</a>


und
<a href="http://www.postgresql.org/docs/9.1/static/sql-createforeigntable.html" target="_blank" rel="noopener">Create Foreign Table</a>

,
das ist so eine Art
<a href="http://dev.mysql.com/doc/refman/5.5/en/federated-storage-engine.html" target="_blank" rel="noopener">Gegenstück zu FEDERATED</a>


in &rsquo;nicht kaputt'.</p>
<p>Mit
<a href="http://www.postgresql.org/docs/9.1/static/collation.html" target="_blank" rel="noopener">per-column collation support</a>


wird Postgres jetzt endlich ein wenig flexibler als in vorherigen Versionen,
in denen man Zeichensatz und Collation bei der Erstellung einer
Datenbank-Instanz global festlegen mußte. Noch immer ist man bei der Wahl
des Zeichensatzes eingeschränkt: Bei der Erstellung der Instanz wird ein
Systemzeichensatz festgelegt, der dann pro Datenbank überschrieben (und
später nicht mehr leicht geändert) werden kann. Da Postgres hinsichtlich der
Verwendung von UTF8 weniger Einschränkungen unterliegt als MySQL
(Indexlänge, hirntot implementierte MEMORY Tables) ist das weniger ein
Problem als man vermuten mag: Man verwende einfach immer utf8 und wähle die
Collation nun endlich nach Bedarf per Column.</p>
<p>Postgres 9.1 definiert nun ebenfalls einen
<a href="http://www.postgresql.org/docs/9.1/static/transaction-iso.html#XACT-SERIALIZABLE" target="_blank" rel="noopener">Transaction Isolation Level Serializable</a>

,
aber die genauen Definitionen von Transaction Isolation Levels variieren
sowieso von Implementation zu Implementation ein wenig, sodaß diese nicht
wirklich zwischen z.B. MySQL und Postgres vergleichbar sind (Dazu kommt, daß
man vermutlich etwas falsch macht, wenn man in MySQL SERIALIZABLE
tatsächlich benötigt.</p>
<p>Version 9.1 unterstützt nun
<a href="http://www.postgresql.org/docs/9.1/static/sql-createtable.html" target="_blank" rel="noopener">die Option UNLOGGED</a>


bei CREATE TABLE. Dies bewirkt, daß Änderungen an einer Tabelle nicht in das
Postgres WA-Log geschrieben werden. Die genauen Auswirkungen sind aus der
Sicht eines MySQL-Entwicklers schwer zu beschreiben, da sich die Datenbanken
hier zu sehr unterscheiden, als daß die Terminologie sinnvoll transferierbar
wären: Eine UNLOGGED Table kann immer noch ein Rollback durchführen, da
Postgres alte Versionen einer Row nicht in einem Undo-Log vorhält, sondern
als Bestandteil der Tabelle speichert. Es ist also nicht so, daß eine solche
Tabelle mit einer MyISAM-Tabelle vergleichbar wäre.</p>
<p>Eine UNLOGGED Table wird jedoch automatisch geleert, wenn die Datenbank
abstürzt oder hart angehalten wird - das ist notwendig, da das WAL bei
Postgres auch Funktionen wahrnimmt, die in MySQL etwa der Doublewrite-Buffer
übernimmt und so nicht garantiert werden kann, in welchem Zustand die Daten
sind, wenn die Datenbank beim Checkpointen einer Page in einer unlogged
Table stehen bleibt.</p>
<p>Da kein WAL geschrieben wird, werden UNLOGGED Tables auch nicht repliziert.
Es ist also ein wenig so wie eine Tabelle, für die SQL_LOG_BIN = 0 definiert
ist, und für die kein Redo/Undo-Log geschrieben wird, und die sich bei
Crashes verhält wie eine Memory-Tabelle, aber andererseits lockt die Tabelle
immer noch vergleichbar InnoDB, und kann auch noch ein Rollback ausführen.</p>
<p>Eine besonders schöne Sache in 9.1 sind
<a href="http://www.postgresql.org/docs/9.1/static/queries-with.html" target="_blank" rel="noopener">Common Table Expressions in DML</a>

.
Eine Common Table Expression (CTE, &lsquo;WITH&rsquo;) kann man sich wie eine temporäre
Tabelle vorstellen, die Daten zwischen mehreren Statements sharen kann, mit
RECURSIVE bekommt man damit auch Zeigerbäume in SQL sauber implementiert.
Seit 9.1 kann man eine CTE auch als Datenverschiebe-Statement verwenden:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">WITH</span><span class="w"> </span><span class="n">transferme</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">DELETE</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">active</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">WHERE</span><span class="w"> </span><span class="s2">&#34;date&#34;</span><span class="o">&lt;</span><span class="w"> </span><span class="mi">2011</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">01</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">RETURNING</span><span class="w"> </span><span class="o">*</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">)</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">inactive</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="k">FROM</span><span class="w"> </span><span class="n">transferme</span><span class="w">
</span></span></span></code></pre></div><p>Dies definiert eine temporäre Tabelle transferme als die Daten, die von dem
Delete-Statement aus active gelöscht werden. Diese werden dann in die
Tabelle inactive eingefügt.</p>
<p>Außerdem gibt es mehr SELinux-Support und Python als Stored Procedure Language.</p>

			</div>
		</div>

		
		
		<div class='row justify-content-center py-3 mb-3 mx-0'>
			<div class='col-lg-8 text-center'>
				<span class='letter-spacing-01 text-uppercase text-secondary me-2'>Tags</span>
				
				<a href="/tags/#database" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				database
				</a>
				
				<a href="/tags/#mongodb" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				mongodb
				</a>
				
				<a href="/tags/#mysql" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				mysql
				</a>
				
				<a href="/tags/#postgres" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				postgres
				</a>
				
				<a href="/tags/#lang_de" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				lang_de
				</a>
				
			</div>
		</div>

		
		
		
		
		<div class='row justify-content-center py-3 mb-3 mx-0'>
			<div class='col-lg-8 text-center'>
				<a href="https://github.com/isotopp/isotopp.github.io/edit/main/content/posts/2011-09-13-neue-releases-im-datenbankland.md"
				   rel="noopener noreferrer" target="_blank">
					<span class='letter-spacing-01 text-uppercase text-secondary me-2'>Suggest Changes</span>
				</a>
			</div>
		</div>
		

		<div class='row justify-content-center mx-0'>
			<div class='col-lg-4 text-center text-lg-start'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Previous Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2011/08/31/acht-jahre-sco-proze.html">Acht Jahre SCO-Prozeß</a>
				</div>
				
			</div>

			<div class='col-lg-4 text-lg-end mt-5 mt-lg-0 text-center'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Next Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2011/09/13/ein-verpasstes-jubilaeum.html">Ein verpaßtes Jubiläum</a>
				</div>
				
			</div>
		</div>


		
	</article>
</div>



            <footer class='row justify-content-center mb-4 pb-4 mx-0'>
  <div class='col-8 text-center'>
    <div>
      A collection of old stuff, new stuff and random stuff.
    </div>
    <div class='row text-primary mt-4'>
      <div class='col'>

        <a href='/feed.xml' title='Follow RSS feed' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#rss-fill'/>
          </svg>
        </a>

        <a href='mailto:kristian.koehntopp@gmail.com' title='Email' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#envelope'/>
          </svg>
        </a>

        <a href='https://github.com/isotopp' title='Follow on GitHub' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#github'/>
          </svg>
        </a>

        <a rel="me" href="https://infosec.exchange/@isotopp" title='Follow on Mastodon' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#mastodon'/>
          </svg>
        </a>

        
        <a href='http://steamcommunity.com/id/ixotopp' title='Follow on Steam' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#steam'/>
          </svg>
        </a>

        

        <a href='https://www.youtube.com/user/isotopp' title='Follow on YouTube' class=''>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#youtube'/>
          </svg>
        </a>
      </div>
    </div>
  </div>
</footer>


        </main>

	





<script src="https://blog.koehntopp.info/js/bootstrap.js"></script>




<script src="https://blog.koehntopp.info/js/lunr.js"></script>





<script src="https://blog.koehntopp.info/js/app.js"></script>


    </body>
</html>
