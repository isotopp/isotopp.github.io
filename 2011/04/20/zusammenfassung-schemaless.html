<!doctype html>
<html lang="en">
    <head>
    <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>Zusammenfassung &lsquo;Schemaless&rsquo; | Die wunderbare Welt von Isotopp</title>
<meta name="description" content="Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" href="icon.png">
<link rel="icon" href="favicon.ico" type="image/ico">
<link rel="shortcut icon" href="favicon.ico">
<link rel="canonical" href="https://blog.koehntopp.info/2011/04/20/zusammenfassung-schemaless.html">

<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/feed.xml' title="Die wunderbare Welt von Isotopp">
<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/tags/mysql/feed.xml' title="Feed: mysql Articles for Die wunderbare Welt von Isotopp">
<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/tags/review/feed.xml' title="Feed: review Articles for Die wunderbare Welt von Isotopp">


<meta name="generator" content="Hugo 0.145.0">
<meta property="og:title" content='Zusammenfassung &lsquo;Schemaless&rsquo; | Die wunderbare Welt von Isotopp' />
<meta property="og:site_name" content='Die wunderbare Welt von Isotopp' />
<meta property="og:locale" content="de_DE" />
<meta name="description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="og:description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="og:url" content="https://blog.koehntopp.info/2011/04/20/zusammenfassung-schemaless.html" />
<meta property="og:type" content="article" />
<meta name="article:published_time" content='2011-04-20T15:01:54Z' />
<meta name="fediverse:creator" content="@isotopp@infosec.exchange">
<meta property="og:image" content='https://blog.koehntopp.info/assets/img/background/mysql.jpg' />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content='@isotopp@infosec.exchange' />
<meta property="twitter:title" content='Zusammenfassung &#39;Schemaless&#39;' />
<meta property="twitter:description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="twitter:image" content='https://blog.koehntopp.info/assets/img/background/mysql.jpg' />


    



<link rel="stylesheet" href="https://blog.koehntopp.info/style.min.dd9d518fe6cac55191b6af874e18327dff051055754ffc7e106131baf826e6d3.css">


    </head>
    <body>
        

        <nav class="navbar navbar-expand-lg navbar-light px-lg-4 pt-lg-4">
    <div class="container-fluid">
        <a class="navbar-brand justify-content-center" href="https://blog.koehntopp.info/" rel="home" title="Die wunderbare Welt von Isotopp">
            <img alt="Kris" height='48' width='48' src='/assets/img/avatars/isotopp.jpg' class='p-0 me-3 d-block d-lg-inline'>
            <span class='h4 d-block d-lg-inline'>Die wunderbare Welt von Isotopp</span>
        </a>

        <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse text-center" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto">
                
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">
                        <span class="">About</span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/contribute/">
                        <span class="">Contribute</span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/search/">
                        <span class=""><svg class='bi' height='1.5rem' width='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#search'/></svg></span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/tags/">
                        <span class=""><svg class='bi' width='1.5rem' height='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#tags-fill'/></svg></span>
                        
                    </a>
                </li>
                
            </ul>
            
        </div>

    </div>
</nav>


        <main role="main" class="container-fluid p-0">

            









<div class="page">
	<article class="zusammenfassung-schemaless-page">
		<div class='row  justify-content-center text-center my-4 mx-0'>
			<header class="headerbanner">
				<div class='col'>
					<h1 class="title mb-lg-4 text-white">
						Zusammenfassung &lsquo;Schemaless&rsquo;
					</h1>
					<div class='text-uppercase text-light' style='letter-spacing: 0.1rem;'>
						<img alt='@isotopp@infosec.exchange image' src='/assets/img/avatars/isotopp.jpg' class='me-1 p-0'
						     style='width: 1.9rem; border-radius: 1rem;'>
						<a href="https://infosec.exchange/@isotopp" class='text-light text-decoration-none'>
							Kristian Köhntopp
						</a>
						
						<span class='d-none d-lg-inline'>-</span>
						<div class='d-block d-lg-inline'>April 20, 2011</div>
						
					</div>
				</div>
				
				<img alt='a featured image' src="/assets/img/background/mysql.jpg">
				
			</header>
		</div>

		<div class='row justify-content-center mx-0'>
			<div class='col-lg-4 text-center text-lg-start'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Previous Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2011/04/19/schemaless.html">Schemaless?</a>
				</div>
				
			</div>

			<div class='col-lg-4 text-lg-end mt-5 mt-lg-0 text-center'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Next Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2011/04/26/verschluesselt-dropbox-ueberhaupt.html">Verschlüsselt Dropbox überhaupt?</a>
				</div>
				
			</div>
		</div>

		<div class='row justify-content-center mx-0 mt-3 mb-5'>
			<div class="col-lg-8 mb-3">
				
			</div>
			<div class='col-lg-8'>
				<h2 id="die-antwort-alter-table-vs-schemaless">
    <a href="#die-antwort-alter-table-vs-schemaless">
	Die Antwort: ALTER TABLE vs. Schemaless
    </a>
</h2>
<p>ALTER TABLE in MySQL nervt. Das tut es in erster Linie, weil es die
Tabellen, die es verändert, mit einem exklusiven Lock (Write Lock) belegt,
während es die Änderung durchführt, und weil es die Änderung durch
Umkopieren der Daten und Indices durchführt, was bei einer großen
bestehenden Datenmenge doch recht lange dauern kann.</p>
<p>Es gibt inzwischen eine
<a href="http://dev.mysql.com/doc/innodb/1.1/en/innodb-create-index.html" target="_blank" rel="noopener">Reihe von Verbesserungen</a>


in MySQL 5.5, wenn InnoDB (inzwischen die Default Storage Engine) verwendet
wird. Diese Verbesserungen beziehen sich zum größten Teil auf das Erzeugen
und Löschen von Indices im Hintergrund, also ohne Lock und ohne den Betrieb
aufzuhalten.</p>
<p>Auch für das Erzeugen und Löschen von Spalten oder das Ändern von Defaults
gibt es Lösungen, die in InnoDB jedoch noch nicht umgesetzt sind. Die
meisten dieser Lösungen basieren auf versionierten Tabellendefinitionen und
einem verzögerten Update der Zeilen der Tabelle.</p>
<p>Das könnte so gehen: Jede Tabelle hat eine versteckte Spalte &lsquo;version&rsquo;, in
der die Schemaversion für diese Zeile gespeichert ist. Ein ALTER TABLE auf
eine Tabelle verändert an der Tabelle selbst erst einmal gar nichts, sondern
hinterlegt nur eine zusätzliche Version des Schemas in der .frm-Datei.</p>
<p>Wird eine Zeile bearbeitet, wird das Schema für diese Zeile beim Lesen
aktualisiert und die Zeile dann später zurück geschrieben.</p>
<p><p class="md__image">
  <img src="/uploads/lazy_schema_change.png" alt=""  />
</p>

</p>
<p>Verzögerte Migration einer Tabelle von Schemaversion 1 auf Schemaversion 2.</p>
<p>Im Beispiel wird das ursprüngliche</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="p">(</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">INTEGER</span><span class="w"> </span><span class="n">UNSIGNED</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTO_INCREMENT</span><span class="p">,</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">german</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">)</span><span class="w"> </span><span class="n">ENGINE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">INNODB</span><span class="w">
</span></span></span></code></pre></div><p>um ein späteres</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">ALTER</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="k">ADD</span><span class="w"> </span><span class="k">COLUMN</span><span class="w"> </span><span class="n">english</span><span class="w"> </span><span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">DEFAULT</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="w">
</span></span></span></code></pre></div><p>ergänzt.</p>
<p>Die ursprüngliche Tabellendefinition ist Version 1. Das ALTER TABLE, das die
Spalte <tt>english</tt> zufügt ist Version 2. Das ALTER TABLE selbst macht
gar nichts, aber man kann erkennen, daß die Zeile mit der ID 2 schon
aktualisiert worden ist.</p>
<p>In einer realen Implementierung ist diese Zeile eher repräsentativ für eine
ganze Speicherseite, also in InnoDB für alle Zeilen, die in derselben 16KB
Seite gespeichert werden. InnoDB macht allen I/O immer seitenweise und es
wäre nicht sehr ökonomisch, nur einzelne Zeilen zu ändern, wenn man gleich
eine ganze Seite  davon im Speicher hat. Außerdem könnte man auf diese Weise
die Schemaversion   per Seite statt per Row speichern, was noch einmal
Speicher spart. Es ist mir noch nicht ganz klar, ob man eine Seite unbedingt
immer beim in-den-Speicher-bringen aktualisieren will (aggressiver
Algorithmus), oder nur dann, wenn eine Seite sowieso auf Grund einer anderen
Operation modifiziert wird (zurückhaltender Algorithmus, der die
Aktualisierung nur dann durchführt, wenn die Seite auf Grund anderer
Operationen als dirty markiert wird).</p>
<p>Auf diese Weise wird jedenfalls das ALTER TABLE ADD COLUMN und DROP COLUMN
sowie das MODIFY COLUMN selbst sehr schnell. Die eigentlichen Kosten fallen
dann im Hintergrund an, und zwar dann, wenn die Seite sowieso geändert wird
(zurückhaltener Algorithmus).</p>
<p>Meine Anfrage in
<a href="/2011/04/19/schemaless.html">dem ersten Artikel</a>


zum Thema brachte das Ergebnis, daß bei schemalosen Datenbanken die Optionen
ähnlich sind:</p>
<ol>
<li>Man ignoriert das Problem.</li>
<li>Man schreibt eine ALTER TABLE Prozedur.</li>
<li>Man schreibt eine Migrationsprozedur, die dem lazy ALTER TABLE von oben entspricht.</li>
<li>Man schreibt eine Migrationsprozedur, die dem lazy ALTER TABLE von oben entspricht,
verteilt den Code aber durch einen Haufen Stellen in der Anwendung.</li>
</ol>
<p>Zu Option 1 erhielt ich dieses Anwendungsbeipiel:</p>
<blockquote>
<p>Ich hatte es erst letztens mit einer NoSQL-Datenbank, dass der Kunde noch
gerne ein Feld mehr wollte (Sortierung) und das Statement natürlich die
Sortierung benutzt hat. Eigentlich ganz schön, dass das so einfach ist.
Nun fand die DB aber plötzlich keine Datensätze mehr, die das Feld noch
nicht besaßen.Auf der einen Seite richtig, auf der anderen kommt da gerne
auch eine Migration auf einen zu, für einen einzigen neues Key. Aber damit
kann man leben und man fällt wahrscheinlich nur einmal drauf rein und
beachtet dies in der Entwicklung.</p></blockquote>
<p>Leider erhielt ich auf meine Nachfrage, mit welcher technischen oder
organisatorischen Maßnahme das für die Zukunft geklärt wurde (&lsquo;beachtet dies
in der Entwicklung&rsquo;) keine Antwort.</p>
<p>Zu Option 2 erhielt ich den folgenden Kommentar:</p>
<blockquote>
<p>Ich kann hier nur für Documentstore DBs sprechen. Fügten wir in der Form
ein weiteres Feld hinzu, musste ein Updateprogramm geschrieben werden,
dass die bereits vorhandenen Dokumente um dieses Feld erweiterte [&hellip;],
sonst flog einem das ganze in Views um die Ohren oder die Dokumente
tauchten in den Views gar nicht erst auf, da das neue Feld als
Selektionskriterium verwendet wurde.</p></blockquote>
<p>Dies entspricht weitgehend einem prozedural auscodierten ALTER TABLE.</p>
<p>Zu Option 3 erhielt ich dieses Anwendungsbeispiel:</p>
<blockquote>
<p>Umgesetzt habe ich das bisher, wie man es bei großen SQL-Datenbanken
letztendlich auch tun würde (wenn man die Tabelle nicht locken will):</p>
<ol>
<li>Datensatz laden</li>
<li>Gucken in welcher Version der Datensatz ist (bzw. ob Daten migriert werden müssen)</li>
<li>Datensatz gegf. aktualisieren</li>
<li>Datensatz speichern (oder warten bis der Datensatz eh gespeichert wird)</li>
</ol></blockquote>
<p>Ein weiterer Beitrag:</p>
<blockquote>
<p>Als Anwendungsentwickler muss ich mich auf einmal in meinem Data
Abstraction Layer (DAL) um das Handling von Datensatz-bezogenen Versionen
kümmern und dort im Laufe der Zeit immer mehr Code implementieren, nur um
aus den aus dem Storage geladenen Daten sinnvolle Objekte zu erzeugen.</p></blockquote>
<p>Option 4 wurde dort ebenfalls andiskutiert, aber verworfen:</p>
<blockquote>
<p>Schiebt man das Problem noch weiter &ldquo;den Stack hoch&rdquo;, etwa weil man auch
im Domain Model nicht mit klaren Objekt-Definitionen, sondern vielleicht
mit Hashtables, JSON-Datenformaten oder sonst was rumhantiert, so
erschwert dies meiner Meinung nach nicht nur die Übersicht im Code,
sondern auch die weitere Verarbeitung in Controllern, Services und Views.</p></blockquote>
<h2 id="modellierung-von-spezialisierungen">
    <a href="#modellierung-von-spezialisierungen">
	Modellierung von Spezialisierungen
    </a>
</h2>
<p>An anderer Stelle kam es zu einer Diskussion um erweiterbare Strukturen und Spezialisierungen, also Superclass-Subclass-Beziehungen. In der SQL-Welt implementiert man diese oft mit 1:0-Strukturen (also 1:1-Beziehungen, bei denen der rechte Part optional ist, und der linke Part eine Art von Klassenidentifikation enthält).</p>
<p><p class="md__image">
  <img src="/uploads/kundendb.png" alt=""  />
</p>

</p>
<p>KundenDB eines mir bekannten Providers</p>
<p>Ein mir recht gut bekanntes Anwendungsbeispiel ist eine technische
Kundendatenbank bei einem Provider. Dort speichert man Kunden und Produkte
ab (ein Kunde kann eine Reihe von Produkten gekauft haben). Alle Produkte
haben gemeinsame Eigenschaften, etwa ein Freischalt- und ein Endedatum,
Preise, Rabatte und so weiter. Alle Produkte haben außerdem einen Typ, etwa
DSL, weitere IP-Adresse, Webserver, Dedicated Server und so weiter. Für
jeden Typ gibt es jetzt eine weitere Tabelle, in der Attribute gespeichert
werden, die für die Unterklasse spezifisch sind (also DSL-spezifisch,
Webserver-spezifisch und so weiter).</p>
<p>Anwendungen arbeiten nun entweder mit der Oberklasse, etwa weil sie
abrechnen. Oder sie arbeiten mit einem JOIN zwischen Produkt und einer
spezifischen Unterklasse
(<code>Produkt p JOIN dsl d ON p.product_id = d.product_id AND p.type = 'dsl'</code>),
etwa weil sie Konfiguration generieren. Die einzige Komponente, die mit
allen Unterklassen als Unterklassen arbeiten muß, ist der Editor. Der
wiederum ist jedoch so allgemein gehalten, daß er im Grunde mit jeder Art
von Tabelle arbeiten kann - er verwendet weitere Tabellen mit Meta-Hints zum
Layout der Edit-Seiten.</p>
<p>In schemalosen NoSQL-Datenbanken modelliert man dies oft recht frei, auf
eine von mehreren Weisen:</p>
<p>Der unformalste Ansatz fügt einfach Attribute zu Elementen dazu. Es gibt
dabei keine Kontrolle, ob die vorhandenen Attribute komplett sind, sondern
Attribute werden einfach einzeln zugefügt wie sie gebraucht werden. Das kann
zu allerhand Überraschungen zur Laufzeit führen.</p>
<p>In einem etwas formaleren Ansatz hat man ein Attribut, das in etwa einem
&lsquo;objectClass&rsquo;-Attribut von
<a href="http://www.openldap.org/doc/admin22/schema.html" target="_blank" rel="noopener">LDAP Schema</a>


entspricht und die Klassen listet, denen das Objekt folgt, und das somit die
&lsquo;MUST&rsquo; und &lsquo;MAY&rsquo;-Attribute festlegt. Diese sind womöglich sogar typisiert.
Validierung dieser Regeln erfolgt typischerweise jedoch nicht in der
Datenbank, sondern im Getter/Setter.</p>
<h2 id="datenmodellierung">
    <a href="#datenmodellierung">
	Datenmodellierung
    </a>
</h2>
<p>Bei der Modellierung hat man dann wieder OOP-typisch die Wahl zwischen Einbettung und Verweisen
(<a href="http://www.mongodb.org/display/DOCS/Schema&#43;Design#SchemaDesign-Embedvs.Reference" target="_blank" rel="noopener">MongoDB</a>

),
während SQL praktisch immer mit Verweisen arbeitet.</p>
<p>Obendrein kommen dazu noch gelegentlich technische Fragen wie Subdokument
vs. eigenes externes Dokument, die in einigen dieser Systeme elementar
unterschiedlich behandelt werden: typischerweise hat ein Dokument einen
eigenständigen Primärschlüssel, ist also addressierbar, während ein
Subdokument keinen eigenen Primärschlüssel hat, und daher nicht direkt
addressierbar ist: Eine OID des Parents plus Suchausdruck ist kein
invarianter und stabiler Name.</p>
<p>SQL arbeitet praktisch immer mit Verweisen und nennt diese Fremdschlüssel,
ist aber in der Lage, diese Verweise optional innerhalb einer Query
aufzulösen (das ist genau das, was ein JOIN tut), sodaß man durch die
Formulierung der Query in der Abfrage die Wahl zwischen Einbettung und
Verweis hat - nicht jedoch bei der Speicherung, die in der Regel mit
Verweisen erfolgt.</p>
<p>Viele NoSQL-Datenbanken erlauben einem immerhin die Wahl zwischen Einbettung
und Verweisen, etwa indem sie einen Datentyp OID bereitstellen. Vielfach
fehlt aber die Option des &lsquo;deep read&rsquo;, also des Auflösens von OID in
Unterobjekte mit einer einzigen Query (&lsquo;fetchObject: OID deepReadLevel: 3&rsquo;),
sodaß man sich beim Auflösen der Referenzen zusätzliche Netzwerklatenzen
einhandelt.</p>
<p>Ein Diskussionsbeitrag stellt genau dies dar, zieht dies aber argumentativ
anders herum auf:</p>
<blockquote>
<p>Der Zeitpunkt, zu dem Daten normalisiert werden, ist unterschiedlich. Bei
einer SQL-Datenbank müssen die Daten beim INSERT dem Schema entsprechen,
d.h. ich muß sie gleich normalisiert, wenn ich sie entgegennehme. Bei
einem schemalosen Store kann ich die Daten auch erst ganz spät
normalisieren, möglicherweise erst wenn ich sie ausgelesen habe und nun
darstellen will.</p></blockquote>
<p>und meint dann:</p>
<blockquote>
<p>Wenn ich Daten normalisiere, bevor ich sie in einen schemalosen Store
schreibe, dann sehe ich auch keinen wirklichen Vorteil gegenüber einer
SQL-Datenbank (modulo der von Dir erwähnten table locking
Implementationsdetails einiger spezieller Implementationen). Das
Haupt-Feature ist also IMHO genau die Möglichkeit, erst ganz spät zu
normalisieren, und dann hat man möglicherweise viel mehr Kontext, was man
mit den Daten überhaupt anfangen will.</p></blockquote>
<p>Ich arbeite möglicherweise zu lange mit SQL, denn ich habe Schwierigkeiten
mir vorzustellen, wieso das ein Vorteil ist. Also, genauer: Ich kenne
Anwendungsfälle, wo mich die interne Struktur der Daten nicht tangiert und
ich sie in SQL nicht ausmodellieren will - einfachstes Beispiel ist eine
Session-Tabelle, die im Grunde nur Tripel (sessionid, sessiondata, changed)
enthält, und bei der ich nie in die sessiondata hinein sehen will. In diesem
Fall ist es vollkommen in Ordnung, sessiondata als BLOB oder TEXT zu
modellieren und da ein serialize($_SESSION) abzuspeichern.</p>
<p>Wenn ich aber strukturierte Sessions will, weil ich etwa Statistiken über
Artikel in aktiven Warenkörben erstellen möchte, dann ende ich
wahrscheinlich mit einer zweistufigen Hierarchie und Key-Value Tabellen oder
weiter ausstrukturieren Sessiontabellen. Allerdings sehe ich solche
Anwendungsfälle vielleicht eher in einem Bestell-Log als in einer
Session-Tabelle.</p>
<h2 id="zusammenfassung">
    <a href="#zusammenfassung">
	Zusammenfassung
    </a>
</h2>
<p>Offenbar lag ich mit meinem Gefühl gar nicht so falsch: Das im Betrieb oft
unerträglich langsame ALTER TABLE von MySQL ist in der Tat ein stark
empfundenes Problem und motiviert Anwender stattdessen auf &lsquo;schemalose&rsquo;
Datenbanken zu setzen.</p>
<p>Anwender von &lsquo;schemalosen&rsquo; Datenbanken haben ihr Schema stattdessen als Teil
von Bibliotheken in der Anwendung implementiert. Dabei variiert die
Codequalität recht stark, da keine &lsquo;best practice&rsquo; als Einbaufunktion von
der Datenbank bereitgestellt wird und auch keine
Standard-Bibliotheksfunktionen für diese Aufgabe von der Zugriffsbibliothek
für die entsprechende NoSQL-Datenbank bereitgestellt wird.</p>
<p>Aus der Sicht des NoSQL-Produktes wird die Funktionalität also nicht vom
Server in den Client verlagert, sondern das Problem ignoriert und dem
Anwender zur Selbstimplementierung überlassen. Die Anwender durchdenken das
Problem dabei unterschiedlich stark und implementieren eine Lösung in der
Regel nur so weit als sie empirisch das Problem als dringlich zu empfinden
gelernt haben.</p>
<p>Schemaprüfungen und formale Migrationen von einer früheren Version des
Schemas auf die aktuelle Version des Schemas sind dabei eher die Ausnahme.</p>
<p>Viele NoSQL-Produkte, die über simple KV-Stores hinaus gehen, implementieren
hierarchische Datenstrukturen, die sich an dem relationalen Vorläufer IBM
IMS, an XML oder an LDAP orientieren. Dies ist dem Fehlen von
ausdrucksstarken Möglichkeiten mit Hierarchien und Bäumen in MySQL umzugehen
geschuldet.</p>
<p>Andererseits fehlt in diesen NoSQL-Produkten in der Regel die Option,
Verweise aufzulösen ohne weitere Netzwerklatenzen zu generieren (Fehlen von
JOIN oder &lsquo;deep reads&rsquo;), sodaß man oft mit eingebetteten Dokumenten und
nicht-skalaren Daten arbeitet.</p>
<p>Ich war verwirrt, weil einerseits NoSQL irgendwie der aktuelle Hype ist, ich
andererseits aber auf Konferenzen wie MongoBerlin letztes Jahr ein komisches
DejaVu hatte: Das Publikum dort fühlt sich an wie eine MySQL-Community von
2005.</p>
<p>So weit korrekt, oder fehlt was?</p>

			</div>
		</div>

		
		
		<div class='row justify-content-center py-3 mb-3 mx-0'>
			<div class='col-lg-8 text-center'>
				<span class='letter-spacing-01 text-uppercase text-secondary me-2'>Tags</span>
				
				<a href="/tags/#lang_de" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				lang_de
				</a>
				
				<a href="/tags/#database" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				database
				</a>
				
				<a href="/tags/#mysql" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				mysql
				</a>
				
				<a href="/tags/#nosql" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				nosql
				</a>
				
			</div>
		</div>

		
		
		
		
		<div class='row justify-content-center py-3 mb-3 mx-0'>
			<div class='col-lg-8 text-center'>
				<a href="https://github.com/isotopp/isotopp.github.io/edit/main/content/posts/2011-04-20-zusammenfassung-schemaless.md"
				   rel="noopener noreferrer" target="_blank">
					<span class='letter-spacing-01 text-uppercase text-secondary me-2'>Suggest Changes</span>
				</a>
			</div>
		</div>
		

		<div class='row justify-content-center mx-0'>
			<div class='col-lg-4 text-center text-lg-start'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Previous Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2011/04/19/schemaless.html">Schemaless?</a>
				</div>
				
			</div>

			<div class='col-lg-4 text-lg-end mt-5 mt-lg-0 text-center'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Next Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2011/04/26/verschluesselt-dropbox-ueberhaupt.html">Verschlüsselt Dropbox überhaupt?</a>
				</div>
				
			</div>
		</div>


		
	</article>
</div>



            <footer class='row justify-content-center mb-4 pb-4 mx-0'>
  <div class='col-8 text-center'>
    <div>
      A collection of old stuff, new stuff and random stuff.
    </div>
    <div class='row text-primary mt-4'>
      <div class='col'>

        <a href='/feed.xml' title='Follow RSS feed' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#rss-fill'/>
          </svg>
        </a>

        <a href='mailto:kristian.koehntopp@gmail.com' title='Email' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#envelope'/>
          </svg>
        </a>

        <a href='https://github.com/isotopp' title='Follow on GitHub' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#github'/>
          </svg>
        </a>

        <a rel="me" href="https://infosec.exchange/@isotopp" title='Follow on Mastodon' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#mastodon'/>
          </svg>
        </a>

        
        <a href='http://steamcommunity.com/id/ixotopp' title='Follow on Steam' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#steam'/>
          </svg>
        </a>

        

        <a href='https://www.youtube.com/user/isotopp' title='Follow on YouTube' class=''>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#youtube'/>
          </svg>
        </a>
      </div>
    </div>
  </div>
</footer>


        </main>

	





<script src="https://blog.koehntopp.info/js/bootstrap.js"></script>




<script src="https://blog.koehntopp.info/js/lunr.js"></script>





<script src="https://blog.koehntopp.info/js/app.js"></script>


    </body>
</html>
