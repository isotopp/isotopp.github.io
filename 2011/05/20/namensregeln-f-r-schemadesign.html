<!doctype html>
<html lang="en">
    <head>
    <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>Namensregeln für Schemadesign | Die wunderbare Welt von Isotopp</title>
<meta name="description" content="Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" href="icon.png">
<link rel="icon" href="favicon.ico" type="image/ico">
<link rel="shortcut icon" href="favicon.ico">
<link rel="canonical" href="https://blog.koehntopp.info/2011/05/20/namensregeln-f-r-schemadesign.html">

<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/feed.xml' title="Die wunderbare Welt von Isotopp">
<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/tags/mysql/feed.xml' title="Feed: mysql Articles for Die wunderbare Welt von Isotopp">
<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/tags/review/feed.xml' title="Feed: review Articles for Die wunderbare Welt von Isotopp">


<meta name="generator" content="Hugo 0.145.0">
<meta property="og:title" content='Namensregeln für Schemadesign | Die wunderbare Welt von Isotopp' />
<meta property="og:site_name" content='Die wunderbare Welt von Isotopp' />
<meta property="og:locale" content="de_DE" />
<meta name="description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="og:description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="og:url" content="https://blog.koehntopp.info/2011/05/20/namensregeln-f-r-schemadesign.html" />
<meta property="og:type" content="article" />
<meta name="article:published_time" content='2011-05-20T14:24:26Z' />
<meta name="fediverse:creator" content="@isotopp@infosec.exchange">
<meta property="og:image" content='https://blog.koehntopp.info/assets/img/background/mysql.jpg' />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content='@isotopp@infosec.exchange' />
<meta property="twitter:title" content='Namensregeln für Schemadesign' />
<meta property="twitter:description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="twitter:image" content='https://blog.koehntopp.info/assets/img/background/mysql.jpg' />


    



<link rel="stylesheet" href="https://blog.koehntopp.info/style.min.dd9d518fe6cac55191b6af874e18327dff051055754ffc7e106131baf826e6d3.css">


    </head>
    <body>
        

        <nav class="navbar navbar-expand-lg navbar-light px-lg-4 pt-lg-4">
    <div class="container-fluid">
        <a class="navbar-brand justify-content-center" href="https://blog.koehntopp.info/" rel="home" title="Die wunderbare Welt von Isotopp">
            <img alt="Kris" height='48' width='48' src='/assets/img/avatars/isotopp.jpg' class='p-0 me-3 d-block d-lg-inline'>
            <span class='h4 d-block d-lg-inline'>Die wunderbare Welt von Isotopp</span>
        </a>

        <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse text-center" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto">
                
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">
                        <span class="">About</span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/contribute/">
                        <span class="">Contribute</span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/search/">
                        <span class=""><svg class='bi' height='1.5rem' width='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#search'/></svg></span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/tags/">
                        <span class=""><svg class='bi' width='1.5rem' height='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#tags-fill'/></svg></span>
                        
                    </a>
                </li>
                
            </ul>
            
        </div>

    </div>
</nav>


        <main role="main" class="container-fluid p-0">

            









<div class="page">
	<article class="namensregeln-f%C3%BCr-schemadesign-page">
		<div class='row  justify-content-center text-center my-4 mx-0'>
			<header class="headerbanner">
				<div class='col'>
					<h1 class="title mb-lg-4 text-white">
						Namensregeln für Schemadesign
					</h1>
					<div class='text-uppercase text-light' style='letter-spacing: 0.1rem;'>
						<img alt='@isotopp@infosec.exchange image' src='/assets/img/avatars/isotopp.jpg' class='me-1 p-0'
						     style='width: 1.9rem; border-radius: 1rem;'>
						<a href="https://infosec.exchange/@isotopp" class='text-light text-decoration-none'>
							Kristian Köhntopp
						</a>
						
						<span class='d-none d-lg-inline'>-</span>
						<div class='d-block d-lg-inline'>May 20, 2011</div>
						
					</div>
				</div>
				
				<img alt='a featured image' src="/assets/img/background/mysql.jpg">
				
			</header>
		</div>

		<div class='row justify-content-center mx-0'>
			<div class='col-lg-4 text-center text-lg-start'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Previous Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2011/05/12/von-der-spackeria-von-aluhueten-und-vom-kontrollverlust.html">Von der Spackeria, von Aluhüten und vom Kontrollverlust</a>
				</div>
				
			</div>

			<div class='col-lg-4 text-lg-end mt-5 mt-lg-0 text-center'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Next Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2011/05/23/facebook-oder-was.html">Facebook oder was?</a>
				</div>
				
			</div>
		</div>

		<div class='row justify-content-center mx-0 mt-3 mb-5'>
			<div class="col-lg-8 mb-3">
				
			</div>
			<div class='col-lg-8'>
				<p>Ein Freund fragte mich nach Konventionen für die Benennung von Tabellen bei
der Entwicklung von Schemata für MySQL Datenbanken. Es begann damit, daß er
mich fragte, wie man denn wohl eine Relation benennen soll, also eine
Hilfstabelle, die zwei Tabellen in einer n:m-Beziehung miteinander
verbindet.</p>
<p>In einem alten Job hatten wir die unten stehenden Regeln. Sie sind recht
willkürlich und man kann sich anders entscheiden, aber wir hatten das so
gemacht und es hat gut für uns funktioniert.</p>
<p>Jede Tabelle bekommt einen Namen in Kleinbuchstaben (oder der Server läuft
mit <code>lower_case_table_names = 1</code>, was sowieso empfehlenswert ist). Der Name
ist ein beschreibendes Wort im Singular. Auf diese Weise hat man weniger
Schmerzen, wenn man über eine Query an einem Beispiel diskutiert. Zusätzlich
wird für jede Tabelle ein eindeutiges Kürzel definiert.</p>
<blockquote>
<p>Beispiel: Die Tabelle <code>kunde</code> bekommt das eindeutige Kürzel <code>k</code>.</p></blockquote>
<p>Wir definieren alle Spalten in einer Tabelle mit Namen, die mit dem Kürzel
und einem Unterstrich beginnen. Ausnahmen sind Fremdschlüssel, die literal
aus der originalen Tabelle übernommen werden. Sie sind dadurch sehr leicht
als Fremdschlüssel zu erkennen und die Originaltabelle ist leicht zu
identifizeren. Der synthetische Primärschlüssel der Tabelle hat immer den
Namen &ldquo;<code>id</code>&rdquo; (mit dem Tabellenprefix, natürlich).</p>
<blockquote>
<p>Beispiel: Die Tabelle <code>kunde</code> (<code>k</code>) hat den synthetischen Primärschlüssel
<code>k_id</code>, und Spalten wie <code>k_vorname</code>, <code>k_name</code>. Jeder Kunde gehört zu genau einer
<code>firma</code> (<code>f</code>), da wir hier ausschließlich Geschäftskunden modellieren. Es gibt
also <code>k.f_id</code>, einen Fremdschlüssel von <code>firma</code> in <code>kunde</code>. Es ist klar, daß aus
Effizienzgründen ein <code>INDEX(f_id)</code> in <code>k</code> definiert sein muß, wenn nicht sogar
eine Foreign Key Constraint (sofern man diese überhaupt verwenden will).</p></blockquote>
<p>Relationen sind entweder nackte Relationen, die nur die Fremdschlüssel der
beiden zu verbindenden Tabellen enthalten. In diesem Fall heißt die Tabelle
<code>kürzel-kürzel_rel</code> und hat als Primärschlüssel die zusammengesetzten
Fremdschlüssel.</p>
<blockquote>
<p>Beispiel: Eine Beziehung zwischen <code>kunde</code> und <code>seminar</code> ist m:n: Ein Kunde
kann in mehreren Seminaren sein, und in einem Seminar sind mehrere Kunden.
Die Tabelle <code>k_s_rel</code> hat nur die Spalten <code>k_id</code> und <code>s_id</code>, und den
Primärschlüsel <code>(k_id, s_id)</code>.</p></blockquote>
<p>Oder Relationen haben eigene Attribute. In diesem Fall bekommt die Relation
einen beschreibenden Namen und ein Kürzel, einen eigenen Primärschlüssel und
die Fremdschlüsselpaare als unique constraint.</p>
<blockquote>
<p>Beispiel: Die Beziehung zwischen <code>kunde</code> und <code>seminar</code> hat die Flags
anreise_am_vortag, abreise_am_folgetag und ein buchungsdatum. Die Relation
bekommt den Namen <code>buchung</code>, ein Kürzel <code>bu</code> und eine eigene <code>bu_id</code>. Die
Beziehung <code>(k_id, s_id)</code> wird als UNIQUE KEY definiert und modelliert das
Fakt, daß jeder Kunde in jedem Seminar nur einmal sitzen kann. Die Flags
werden <code>bu_anreise_am_vortag</code> und <code>bu_abreise_am_folgetag</code> sowie
<code>bu_datum</code>.</p></blockquote>
<p>Jede Tabelle bekommt immer eine Spalte &ldquo;changed timestamp&rdquo; (die sich laut
MySQL timestamp Magie selbst aktualisiert) und dies ist immer die rechteste
Spalte jeder Tabelle. Das erlaubt zwar immer noch kein Change-Tracking
(Deletes gehen verloren, Change Tracking geht nur mit dem Binlog richtig),
aber es ist sehr nützlich zum Debuggen.</p>

			</div>
		</div>

		
		
		<div class='row justify-content-center py-3 mb-3 mx-0'>
			<div class='col-lg-8 text-center'>
				<span class='letter-spacing-01 text-uppercase text-secondary me-2'>Tags</span>
				
				<a href="/tags/#mysql" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				mysql
				</a>
				
				<a href="/tags/#lang_de" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				lang_de
				</a>
				
			</div>
		</div>

		
		
		
		
		<div class='row justify-content-center py-3 mb-3 mx-0'>
			<div class='col-lg-8 text-center'>
				<a href="https://github.com/isotopp/isotopp.github.io/edit/main/content/posts/2011-05-20-namensregeln-f-r-schemadesign.md"
				   rel="noopener noreferrer" target="_blank">
					<span class='letter-spacing-01 text-uppercase text-secondary me-2'>Suggest Changes</span>
				</a>
			</div>
		</div>
		

		<div class='row justify-content-center mx-0'>
			<div class='col-lg-4 text-center text-lg-start'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Previous Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2011/05/12/von-der-spackeria-von-aluhueten-und-vom-kontrollverlust.html">Von der Spackeria, von Aluhüten und vom Kontrollverlust</a>
				</div>
				
			</div>

			<div class='col-lg-4 text-lg-end mt-5 mt-lg-0 text-center'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Next Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2011/05/23/facebook-oder-was.html">Facebook oder was?</a>
				</div>
				
			</div>
		</div>


		
	</article>
</div>



            <footer class='row justify-content-center mb-4 pb-4 mx-0'>
  <div class='col-8 text-center'>
    <div>
      A collection of old stuff, new stuff and random stuff.
    </div>
    <div class='row text-primary mt-4'>
      <div class='col'>

        <a href='/feed.xml' title='Follow RSS feed' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#rss-fill'/>
          </svg>
        </a>

        <a href='mailto:kristian.koehntopp@gmail.com' title='Email' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#envelope'/>
          </svg>
        </a>

        <a href='https://github.com/isotopp' title='Follow on GitHub' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#github'/>
          </svg>
        </a>

        <a rel="me" href="https://infosec.exchange/@isotopp" title='Follow on Mastodon' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#mastodon'/>
          </svg>
        </a>

        
        <a href='http://steamcommunity.com/id/ixotopp' title='Follow on Steam' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#steam'/>
          </svg>
        </a>

        

        <a href='https://www.youtube.com/user/isotopp' title='Follow on YouTube' class=''>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#youtube'/>
          </svg>
        </a>
      </div>
    </div>
  </div>
</footer>


        </main>

	





<script src="https://blog.koehntopp.info/js/bootstrap.js"></script>




<script src="https://blog.koehntopp.info/js/lunr.js"></script>





<script src="https://blog.koehntopp.info/js/app.js"></script>


    </body>
</html>
