<!doctype html>
<html lang="en">
    <head>
    <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>X11 auf dem Weg nach draußen | Die wunderbare Welt von Isotopp</title>
<meta name="description" content="Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" href="icon.png">
<link rel="icon" href="favicon.ico" type="image/ico">
<link rel="shortcut icon" href="favicon.ico">
<link rel="canonical" href="https://blog.koehntopp.info/2011/05/10/x11-auf-dem-weg-nach-drau-en.html">

<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/feed.xml' title="Die wunderbare Welt von Isotopp">
<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/tags/mysql/feed.xml' title="Feed: mysql Articles for Die wunderbare Welt von Isotopp">
<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/tags/review/feed.xml' title="Feed: review Articles for Die wunderbare Welt von Isotopp">


<meta name="generator" content="Hugo 0.145.0">
<meta property="og:title" content='X11 auf dem Weg nach draußen | Die wunderbare Welt von Isotopp' />
<meta property="og:site_name" content='Die wunderbare Welt von Isotopp' />
<meta property="og:locale" content="de_DE" />
<meta name="description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="og:description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="og:url" content="https://blog.koehntopp.info/2011/05/10/x11-auf-dem-weg-nach-drau-en.html" />
<meta property="og:type" content="article" />
<meta name="article:published_time" content='2011-05-10T13:15:38Z' />
<meta name="fediverse:creator" content="@isotopp@infosec.exchange">
<meta property="og:image" content='https://blog.koehntopp.info/assets/img/background/rijksmuseum.jpg' />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content='@isotopp@infosec.exchange' />
<meta property="twitter:title" content='X11 auf dem Weg nach draußen' />
<meta property="twitter:description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="twitter:image" content='https://blog.koehntopp.info/assets/img/background/rijksmuseum.jpg' />


    



<link rel="stylesheet" href="https://blog.koehntopp.info/style.min.dd9d518fe6cac55191b6af874e18327dff051055754ffc7e106131baf826e6d3.css">


    </head>
    <body>
        

        <nav class="navbar navbar-expand-lg navbar-light px-lg-4 pt-lg-4">
    <div class="container-fluid">
        <a class="navbar-brand justify-content-center" href="https://blog.koehntopp.info/" rel="home" title="Die wunderbare Welt von Isotopp">
            <img alt="Kris" height='48' width='48' src='/assets/img/avatars/isotopp.jpg' class='p-0 me-3 d-block d-lg-inline'>
            <span class='h4 d-block d-lg-inline'>Die wunderbare Welt von Isotopp</span>
        </a>

        <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse text-center" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto">
                
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">
                        <span class="">About</span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/contribute/">
                        <span class="">Contribute</span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/search/">
                        <span class=""><svg class='bi' height='1.5rem' width='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#search'/></svg></span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/tags/">
                        <span class=""><svg class='bi' width='1.5rem' height='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#tags-fill'/></svg></span>
                        
                    </a>
                </li>
                
            </ul>
            
        </div>

    </div>
</nav>


        <main role="main" class="container-fluid p-0">

            









<div class="page">
	<article class="x11-auf-dem-weg-nach-drau%C3%9Fen-page">
		<div class='row  justify-content-center text-center my-4 mx-0'>
			<header class="headerbanner">
				<div class='col'>
					<h1 class="title mb-lg-4 text-white">
						X11 auf dem Weg nach draußen
					</h1>
					<div class='text-uppercase text-light' style='letter-spacing: 0.1rem;'>
						<img alt='@isotopp@infosec.exchange image' src='/assets/img/avatars/isotopp.jpg' class='me-1 p-0'
						     style='width: 1.9rem; border-radius: 1rem;'>
						<a href="https://infosec.exchange/@isotopp" class='text-light text-decoration-none'>
							Kristian Köhntopp
						</a>
						
						<span class='d-none d-lg-inline'>-</span>
						<div class='d-block d-lg-inline'>May 10, 2011</div>
						
					</div>
				</div>
				
				<img alt='a featured image' src="/assets/img/background/rijksmuseum.jpg">
				
			</header>
		</div>

		<div class='row justify-content-center mx-0'>
			<div class='col-lg-4 text-center text-lg-start'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Previous Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2011/05/08/fertig-gelesen-daemon-freedom.html">Fertig gelesen: Daemon, Freedom™</a>
				</div>
				
			</div>

			<div class='col-lg-4 text-lg-end mt-5 mt-lg-0 text-center'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Next Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2011/05/10/handyrechnung.html">Handyrechnung</a>
				</div>
				
			</div>
		</div>

		<div class='row justify-content-center mx-0 mt-3 mb-5'>
			<div class="col-lg-8 mb-3">
				
			</div>
			<div class='col-lg-8'>
				<p>Im September 1987 wurde die Version 11 des X-Protokolls erfunden. Damals war
alles schlimm: Wir hatten keinen Speicher, keine leistungsfähigen CPUs,
keine Fonts, schon gar keine Vektorfonts, keine Farbe, schon gar keine
Echtfarbe ohne Paletten, keine Transparency und vor allen Dingen keine
Ahnung.</p>
<p>X11 war für Unix das Displaysystem der Wahl. Es macht eine ganze Menge Dinge
falsch: Zum Beispiel lebt es unter der Annahme, daß das Grafiksubsystem des
Rechners keine Rechenpower und wenig Speicher hat. So definiert es dann auch
einen Haufen Zeichenprimitive, die kilometerweit unter den Bedürfnissen
eines Fenstersystems liegen und läßt den Windowmanager auf der anderen Seite
des Netzwerkes als X11-Anwendung laufen. Es hat per Default Double Buffering
abgeschaltet und zeichnet per Default auch auf dem sichtbaren Screen statt
auf einem Offscreen-Puffer, der dann eingeblittet oder besser noch
eingeblendet wird. Von 3D und OpenGL hat es so gar keine Ahnung. Was heute,
in 2011, auf dem Bildschirm herum malt ist nur der Form halber noch X11, in
Wirklichkeit sind es aber meistenteils in X11-Extension verpackte
Spezialcalls, die mit X11 fast nichts mehr zu tun haben.</p>
<p>Und es ist langsam. Wenn wir einen modernen Bildschirm mit X11 über das
Netzwerk raus sharen, dann stirbt X11 den Latenztod - formal ist X11
netzwerktransparent, aber in Wirklichkeit ist nichts an dem Protokoll
besonders geeignet oder schlau, wenn es darum geht, Daten über das Netzwerk
zu schaufeln. Andere Protokolle sind inzwischen weitaus besser geeignet,
Bildschirme über Netz zu exportieren: Selbst das halbtote VNC ist in der
Regel schneller und besser als X11, RDP und NX sind sogar richtig gut da
drin.</p>
<p>In diesem Sinne:
<a href="http://www.pro-linux.de/news/1/17018/xfree86-der-lebende-tote.html" target="_blank" rel="noopener">XFree86</a>


hat keine Comitter mehr. Der X.org Fork hat das Projekt vor Jahren abgelöst
und so die Firmen, die versucht haben, das X-Consortium zu Tode zu
kontrollieren, entmachtet. Aber auch X.org verliert an Bedeutung:
<a href="http://www.golem.de/1105/83334.html" target="_blank" rel="noopener">Wayland</a>

 ersetzt es gerade. Was gut
ist, weil dann ein Haufen alter Scheiß rausfliegt und man dann auch für den
häufigen Fall - lokales Display mit Hardware Acceleration - optimieren kann.</p>
<p><strong>Nachtrag:</strong> Um den Kommentatoren unter diesem Artikel einmal ein wenig
weiter zu helfen, hier ein paar Dinge zum Nachlesen.</p>
<ul>
<li>
<p><a href="http://wayland.freedesktop.org/architecture.html" target="_blank" rel="noopener">Wayland Architecture Overview</a>

 -
das erklärt die Anordnung der Dinge, wie sie vor Wayland gelaufen sind und
wie sie Wayland realisiert.</p>
</li>
<li>
<p>Moderne Desktops in Linux verwenden einen Compositor wie
<a href="http://en.wikipedia.org/wiki/Compiz" target="_blank" rel="noopener">Compiz</a>

.</p>
</li>
<li>
<p>Moderne Grafikhardware hat 3D Beschleuniger. Ein 3D-Beschleuniger
verwendet eine Tile (Kachel), um damit die Kanten von dreidimensionalen
Objekten zu bemalen. Die Hardware projeziert, skaliert und verformt dabei
die Tile so, daß sie auf die Seite des 3D-Objektes abgebildet wird. Wenn
das dreidimensionale Objekt eine rechteckige Leinwand ist, die nicht
skaliert und verformt ist, dann wird die Kachel per Hardware 1:1 auf der
Leinwand abgebildet und man hat einen Bildschirm, dessen Fenster-Rechtecke
per Hardware mit den Inhalten verschiedener unabhängiger Grafikpuffer
gefüllt wird. Diese Puffer zu verwalten und mit Effekten zu dekorieren ist
die Aufgabe eines Compositors. X11 weiß nichts von Compositors, die
X11-Erweiterung für Compositors schleust bloß Bitmaps sinnlos durch den
X11-Server. <em>Da</em> kommt Latenz her.</p>
</li>
<li>
<p>Der erste Ansatz um Compositors unter X11 zum Laufen zu bringen war
<a href="http://en.wikipedia.org/wiki/Xgl" target="_blank" rel="noopener">Xgl</a>

. Xgl ist die Scheißidee, einen
X-Server unter einem X-Server laufen zu lassen. Dabei steuert der äußere
X-Server die Grafikhardware, der innere dann das Zeichnen mit X (das
sowieso niemand mehr verwendet).</p>
</li>
<li>
<p>Moderne X-Server verwenden <a href="http://en.wikipedia.org/wiki/AIGLX" target="_blank" rel="noopener">AIGLX</a>

.
Das ist eine Methode, bei der man essentiell dem X-Server sagt: &ldquo;Okay, Du
kannst da jetzt rumstehen und nix tun, aber dieses Rechteck da zeichnet
jetzt jemand anders als Du, nämlich OpenGL.&rdquo;. Wayland komplettiert diesen
Schritt nur, indem es den Default richtig rum setzt: Es räumt den
X-Server, der sowieso nicht mehr verwendet wird, aus dem Weg.</p>
</li>
<li>
<p>Qt und GTK haben Wayland-Support. Beide Toolkits malen schon seit längeren
fertige Tiles - X-Primitives verwendet schon lange niemand mehr, weil sie
zu scheiße aussehen und auch nicht portabel auf Windows-, Mac- oder
Handy-Hardware sind. Die Tiles werden dann entweder mit X11 oder eben
direkt in Wayland zum Compositor geshipped, der daraus einen Bildschirm
mit Fenstern macht. Qt kann sogar zur Laufzeit den Shipping Mechanismus
zwischen X11 und Wayland umschalten.</p>
</li>
</ul>
<p>Die Executive Summary ist: X11 ist schon länger tot. Es ist durch Extensions
zu einem recht ineffizienten Durchreich-Mechanismus für Tiles (Pixmaps)
geworden. Es kontrolliert auch nicht mehr die Hardware - einer
Usermode-Anwendung root-Rechte zu geben, damit sie in Grafikkarten-Register
poken kann ist sowieso galoppierender Unsinn gewesen und
<a href="http://en.wikipedia.org/wiki/Mode-setting#Linux" target="_blank" rel="noopener">Kernel Mode Setting</a>

 hat das zum Glück
überflüssig gemacht.</p>
<p>Wayland streut nun die Blumen auf das Grab und schaufelt endlich die Erde
drauf. Es ruhe in Frieden.</p>

			</div>
		</div>

		
		
		<div class='row justify-content-center py-3 mb-3 mx-0'>
			<div class='col-lg-8 text-center'>
				<span class='letter-spacing-01 text-uppercase text-secondary me-2'>Tags</span>
				
				<a href="/tags/#computer" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				computer
				</a>
				
				<a href="/tags/#linux" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				linux
				</a>
				
				<a href="/tags/#lang_de" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				lang_de
				</a>
				
			</div>
		</div>

		
		
		
		
		<div class='row justify-content-center py-3 mb-3 mx-0'>
			<div class='col-lg-8 text-center'>
				<a href="https://github.com/isotopp/isotopp.github.io/edit/main/content/posts/2011-05-10-x11-auf-dem-weg-nach-drau-en.md"
				   rel="noopener noreferrer" target="_blank">
					<span class='letter-spacing-01 text-uppercase text-secondary me-2'>Suggest Changes</span>
				</a>
			</div>
		</div>
		

		<div class='row justify-content-center mx-0'>
			<div class='col-lg-4 text-center text-lg-start'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Previous Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2011/05/08/fertig-gelesen-daemon-freedom.html">Fertig gelesen: Daemon, Freedom™</a>
				</div>
				
			</div>

			<div class='col-lg-4 text-lg-end mt-5 mt-lg-0 text-center'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Next Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2011/05/10/handyrechnung.html">Handyrechnung</a>
				</div>
				
			</div>
		</div>


		
	</article>
</div>



            <footer class='row justify-content-center mb-4 pb-4 mx-0'>
  <div class='col-8 text-center'>
    <div>
      A collection of old stuff, new stuff and random stuff.
    </div>
    <div class='row text-primary mt-4'>
      <div class='col'>

        <a href='/feed.xml' title='Follow RSS feed' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#rss-fill'/>
          </svg>
        </a>

        <a href='mailto:kristian.koehntopp@gmail.com' title='Email' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#envelope'/>
          </svg>
        </a>

        <a href='https://github.com/isotopp' title='Follow on GitHub' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#github'/>
          </svg>
        </a>

        <a rel="me" href="https://infosec.exchange/@isotopp" title='Follow on Mastodon' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#mastodon'/>
          </svg>
        </a>

        
        <a href='http://steamcommunity.com/id/ixotopp' title='Follow on Steam' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#steam'/>
          </svg>
        </a>

        

        <a href='https://www.youtube.com/user/isotopp' title='Follow on YouTube' class=''>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#youtube'/>
          </svg>
        </a>
      </div>
    </div>
  </div>
</footer>


        </main>

	





<script src="https://blog.koehntopp.info/js/bootstrap.js"></script>




<script src="https://blog.koehntopp.info/js/lunr.js"></script>





<script src="https://blog.koehntopp.info/js/app.js"></script>


    </body>
</html>
