<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Lang_de on Die wunderbare Welt von Isotopp</title>
    <link>https://blog.koehntopp.info/tags/lang_de/</link>
    <description>Recent content in Lang_de on Die wunderbare Welt von Isotopp</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <managingEditor>kris-blog@koehntopp.de (Kristian Köhntopp)</managingEditor>

    
    <webMaster>kris-blog@koehntopp.de (Kristian Köhntopp)</webMaster>

    
    <lastBuildDate>Tue, 03 Feb 2026 17:38:48 +0000</lastBuildDate><atom:link href="https://blog.koehntopp.info/tags/lang_de/feed.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Heizen mit Klimaanlagen</title>
      <link>https://blog.koehntopp.info/2025/06/10/heizen-mit-klimaanlagen/</link>
      <pubDate>Tue, 10 Jun 2025 03:04:05 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2025/06/10/heizen-mit-klimaanlagen/</guid>
      <description>&lt;p&gt;Ich habe
&lt;a href=&#34;https://blog.koehntopp.info/2025/03/10/going-fully-electric/&#34;&gt;in einem anderen Artikel&lt;/a&gt;


schon in englischer Sprache über unsere neue Heizung geschrieben und dann in
&lt;a href=&#34;https://blog.koehntopp.info/2025/04/03/panasonic-comfort-cloud/&#34;&gt;einem weiteren Artikel&lt;/a&gt;


die Integration der Klimageräte mit der Panasonic Cloud und Home Assistant beschrieben.&lt;/p&gt;
&lt;p&gt;Wir sind also seit Anfang März 2025 erdgasfrei.
Das Heizung-Setup ist technisch gesehen &amp;ldquo;hybrid&amp;rdquo;, weil die alte Gasheizung noch da ist
und im &amp;ldquo;Sommermodus&amp;rdquo; Bereitschaft fährt.
Sollte es notwendig werden, können wir sie dazu schalten und Klimageräte konventionell verstärken.
Ich rechne nicht damit, dass das notwendig werden wird,
aber da der Spaß derzeit nur 1 Euro/Tag kostet, lasse ich das erst mal so.
Irgendwann in 2026 fliegt der Kram dann raus, der Zähler wird blockiert, die Heizkörper abgesägt
und der Platz zurückgewonnen.&lt;/p&gt;
&lt;h1 id=&#34;warmwasser&#34;&gt;
    &lt;a href=&#34;#warmwasser&#34;&gt;
	Warmwasser
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Warmwasser kommt durch eine Brauchwasser-Wärmepumpe.
Diese zieht Außenluft durch eine Einström-Öffnung ein, kühlt die Außenluft ab
und pustet die Luft durch ein 2. Loch wieder raus.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;electric-14.jpg&#34; alt=&#34;2025/03/electric-14.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Der Dachaufbau auf der Nordost-Seite: Solarzellen, die Öffnungen für die Brauchwasser-Wärmepumpe,
und der Schornstein der Gas-Therme, an seinem letzten Tag.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Die Brauchwasser-Wärmepumpe ist ein mannsgroßer Zylinder, der von oben die beiden massiven Luftzufuhr-Röhren bekommt,
und der seitlich Anschlüsse für Kaltwasser-Zulauf und Warmwasser-Ablauf hat.
Wir haben 200l Tankgröße installiert, weil das für 3 Personen reicht, aber im Nachhinein ärgert mich das ein wenig:
Ein 270l Tank würde nicht mehr Energie brauchen (denn es wird im Grunde nur verbrauchtes Wasser ersetzt und erwärmt),
würde aber mehr thermische Masse ins System bringen – ich kann so an warmen, sonnigen Tagen Wasser vorab aufwärmen,
aufbewahren und am darauf folgenden kälteren Tag nutzen.
Ich würde so weniger einspeisen und am dunklen Tag weniger Strom aus dem Netz ziehen.&lt;/p&gt;
&lt;p&gt;Wenn man annimmt, dass einströmende Außenluft und einströmendes kaltes Wasser 15ºC warm ist und auf 55ºC aufgewärmt wird,
dann hat die Pumpe einen Hub von 40ºC.
Anfangs ist der Hub kleiner:
Die Pumpe muss 15ºC kaltes Wasser anwärmen.
Später, während des Betriebes, ist das Wasser am Wärmetauscher im Tank wärmer, der Hub ist größer, und
der Kompressor muss mehr arbeiten—und braucht mehr Energie.&lt;/p&gt;
&lt;p&gt;Und das sehen wir auch in der Messung:&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;heizen-01.png&#34; alt=&#34;2025/06/heizen-01.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Leistungsaufnahme einer Brauchwasser-Wärmepumpe, steigt über Zeit von 480 W auf 635 W.&lt;/em&gt;&lt;/p&gt;
&lt;h1 id=&#34;hub-wärmepumpen-und-altbausanierungen&#34;&gt;
    &lt;a href=&#34;#hub-w%c3%a4rmepumpen-und-altbausanierungen&#34;&gt;
	Hub, Wärmepumpen und Altbausanierungen
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Das ist nicht nur bei Brauchwasser-Wärmepumpen so, sondern bei allen Wärmepumpen:
Kleinerer Hub heißt mehr Effizienz, weniger Energieverbrauch.&lt;/p&gt;
&lt;p&gt;Das ist auch der Grund, warum man sagt, dass ein Haus mit Wärmepumpe energetisch saniert sein sollte.
Es geht nicht wirklich um die Sanierung, sondern in Wahrheit darum,
die Heizung mit einer so niedrigen Vorlauftemperatur wie möglich laufen zu lassen.
Und damit den Hub der Wärmepumpe niedrig zu halten, damit sie effizienter ist.&lt;/p&gt;
&lt;p&gt;Dämmung sorgt dafür, dass das Haus weniger Wärme an die Umwelt verliert.
Man muss weniger heizen oder kann die Pumpe kleiner dimensionieren.
Größere Heizkörper oder gar eine Fußbodenheizung sorgen für eine größere Transferfläche,
sodass das Heizungswasser nicht so warm werden muss.&lt;/p&gt;
&lt;p&gt;Der schwächste Heizkörper im System (&amp;ldquo;der am meisten unterdimensionierte&amp;rdquo;) bestimmt dabei die Vorlauftemperatur:
Heizfläche und die Menge an durchströmendem Wasser pro Zeit (der &amp;ldquo;Volumenstrom&amp;rdquo;) bestimmen,
zusammen mit der Vorlauftempteratur, wieviel Wärme der Radiator an die Umgebung abgibt.
Unter Umständen kann also
&lt;a href=&#34;https://youtu.be/i4mpBAYziyw&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;sinnvolles Tuning der Heizung&lt;/a&gt;


und danach falls nötig der Austausch einzelner Heizkörper und die Isolierung eines Raumes die Situation so verbessern,
dass man die Effizienz steigert, die Vorlauftemperatur senkt oder gar mit einer kleineren Pumpe hinkommt.&lt;/p&gt;
&lt;h1 id=&#34;luft-wasser-wärmepumpe-schätzen&#34;&gt;
    &lt;a href=&#34;#luft-wasser-w%c3%a4rmepumpe-sch%c3%a4tzen&#34;&gt;
	Luft-Wasser-Wärmepumpe schätzen
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Wenn man über eine Sanierung der eigenen Heizung und den Einbau einer Luft-Wasser-Wärmepumpe
(statt wie bei mir Klimageräte) nachdenkt, ist das eine recht einfache Rechnung:&lt;/p&gt;
&lt;p&gt;Schritt 1 ist herauszufinden, wieviele Kilowattstunden Heizleistung man pro Jahr aufwendet.
Dazu muss man nachsehen, wie viel Gas pro Jahr gekauft wird, oder wie viel Öl pro Jahr verbraucht wird.
Ein Kubikmeter Gas oder ein Liter Heizöl kann jeweils mit 10 kWh angesetzt werden,
wenn die Abrechnung nicht sowieso schon in kWh erfolgt.&lt;/p&gt;
&lt;p&gt;Wenn man also 1250 Kubikmeter Gas pro Jahr verbrennt, dann sind das 12500 kWh Heizleistung im Jahr.&lt;/p&gt;
&lt;p&gt;Das muß man jetzt nicht nur auf ein Jahr, sondern auch auf die beheizte Fläche normieren,
damit der Wert vergleichbar wird.
Bei 12500 kWh pro Jahr und 156 qm beheizter Fläche sind das also 80 kWh/(a * qm) (pro Jahr und Quadratmeter)&lt;/p&gt;
&lt;p&gt;Wir können das in eine
&lt;a href=&#34;https://www.effizienzhaus-online.de/energieeffizienzklasse/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Energieeffizienzklasse&lt;/a&gt;


übertragen.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;heizen-06.png&#34; alt=&#34;2025/06/heizen-06.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Energieeffizienzklassen in Energieausweisen für Wohngebäude ab Mai 2014.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Mit 80 kWh/(a * qm) liegen wir also gerade eben so in Energieeffizienzklasse C:
Die Klasse B verlangt weniger als 75 kWh/(a * qm),
und die Klasse D ist für mehr als 100 kWh/(a * qm).&lt;/p&gt;
&lt;p&gt;Man sagt im Allgemeinen, dass man mit einem Verbrauch von 100 kWh/(a * qm) oder besser
ohne viel Nachdenken eine Wärmepumpe einbauen kann.
Wenn man also Energieeffizienzklasse C oder besser hat, ist kein Problem zu erwarten.&lt;/p&gt;
&lt;p&gt;Es lohnt sich dennoch, die Heizungssteuerung zu tunen, und danach die Skalierung der Heizkörper zu prüfen,
und zu sehen ob man den Vorlauf runter geregelt bekommt.&lt;/p&gt;
&lt;p&gt;Wärmepumpen haben in der Regel eine angegebene Jahresarbeitszahl (JAZ, COP, Coefficient of Performance).
Das ist der Faktor an Energie, den die Wärmepumpe pumpt.
Für ein kWh Strom, das ich in den Kompressor stecke, bekomme ich im Schnitt JAZ viele kWh an Heizenergie.&lt;/p&gt;
&lt;p&gt;Bei jeder Wärmepumpe in einem Haus mit Energieeffizienzklasse C oder besser ist die JAZ mindestens 3.
Man kann den Gasverbrauch seiner Wohnung in kWh also durch die JAZ teilen,
und erhält den erwarteten Strom-Mehrverbrauch durch die Wärmepumpe.&lt;/p&gt;
&lt;p&gt;Statt 1250 Kubikmeter Gas oder 12500 kWh Heizenergie aus Gas
muss man also 4166 kWh Strom (oder weniger) einplanen.&lt;/p&gt;
&lt;p&gt;Schritt 2 (optional): Wenn man außerdem den Gasverbrauch pro Tag hat, und die Außentemperaturen an diesen Tagen,
dann kann man sich den kältesten Tag eines Jahres suchen und den Gasverbrauch an diesem Tag notieren.
Diese Informationen sind nützlich, um die Wärmepumpe für das Haus korrekt zu dimensionieren – hat man die Daten nicht,
ist das kein Beinbruch, aber dann wird geschätzt und ein Standard-Formelsystem angewendet.
Dieses ist auf Sicherheit dimensioniert, wird also ggf. eine größere Wärmepumpe als notwendig errechnen.&lt;/p&gt;
&lt;p&gt;Für einen Heizungsbauer und -planer ist es jedenfalls sehr hilfreich, diese Werte zu haben.&lt;/p&gt;
&lt;h1 id=&#34;klimagerät-statt-heizkörper&#34;&gt;
    &lt;a href=&#34;#klimager%c3%a4t-statt-heizk%c3%b6rper&#34;&gt;
	Klimagerät statt Heizkörper
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Aus irgendeinem Grund verwenden wir in Nord- und Mitteleuropa Heizungen mit Wasser im Heizkreislauf,
und bauen dann Wärmepumpen ein, die dieses System weiter verwenden.
Das heißt speziell, wir verwenden Luft-Wasser-Wärmepumpen.&lt;/p&gt;
&lt;p&gt;Das erste Wort, Luft, bezeichnet dabei das Medium, aus dem die Wärme gezogen wird – die Umgebungsluft.
Es gibt auch Wärmepumpen, die Wärme aus Grund- oder Flußwasser ziehen, oder aus dem Erdreich (&amp;ldquo;Erdwärmepumpen&amp;rdquo;).
Allen diesen Technologien ist gemeinsam, dass sie aufwändiger zu bauen sind,
und ihre Stückzahlen geringer sind als die von Luftwärmepumpen.
Daher sind sie meist auch teurer.&lt;/p&gt;
&lt;p&gt;Das zweite Wort, Wasser, bezeichnet das Medium, das erwärmt wird, also hier das Wasser im Heizkreislauf.
Man kann also seine alten Heizkörper weiter verwenden.&lt;/p&gt;
&lt;p&gt;In anderen Gegenden ist das nicht so.
In den USA und Kanada zum Beispiel haben wir oft Forced Air Heating,
bei denen das Haus Luftkanäle hat und wir zentral angewärmte Luft in die Räume drücken.&lt;/p&gt;
&lt;p&gt;In Südeuropa, Japan und Südostasien haben wir oft Split-Klimageräte mit Heizfunktion (Luft-Luft-Wärmepumpen).
Das sind Split-Anlangen, also mit einem Außengerät und einem Innengerät.
Sie entnehmen der Außenluft Energie, transportieren sie im Arbeitsgas nach Drinnen und wärmen im Innengerät die Luft an.
Das ist dassselbe System wie bei amerikanischen Forced Air Heating,
aber nicht zentral, sondern dezentral pro Raum.&lt;/p&gt;
&lt;p&gt;Der Hub ist dabei relativ gering:
Die Luft im Innenraum wird auf 23ºC–25ºC angewärmt, statt auf 35ºC bis 55ºC wie bei einer europäischen Heizung.
Entsprechend weniger Leistung wird aufgenommen.&lt;/p&gt;
&lt;h2 id=&#34;mit-klimaanlagen-heizen--das-geht&#34;&gt;
    &lt;a href=&#34;#mit-klimaanlagen-heizen--das-geht&#34;&gt;
	Mit Klimaanlagen heizen – das geht?
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Der Energieverbrauch ist überschaubar, etwa 400 Watt pro Innengerät, das aktiv ist,
plus 400 Watt einmalig für die Anlage.&lt;/p&gt;
&lt;p&gt;Ich habe zwei Multisplit-Anlagen:
Ein Außengerät an der Südseite mit 5 Anschlüssen (einer ungenutzt),
und ein Außengerät an der Nordseite mit 3 Anschlüssen.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;heizen-02.png&#34; alt=&#34;2025/06/heizen-02.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Anschalten um kurz vor 8, Abschalten um halb 10.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;heizen-03.png&#34; alt=&#34;2025/06/heizen-03.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Die Raumtemperatur schnellt quasi sofort von 19.0ºC auf 20.5ºC hoch.
Beim Abschalten fällt sie sehr schnell von 20.5ºC auf 20.0ºC ab und sinkt dann langsam weiter, wie in der Nacht.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Schalten wir die Heizung an, sehen wir kurz vor 8 etwa 800 Watt Leistungsaufnahme, und dann im Betrieb weniger.
Parallel dazu sehen wir, wie die Raumtemperatur sehr schnell ansteigt, viel schneller als bei einer Heizung mit Heizkörpern.
Etwa um halb 10 schalten wir ab, und die Raumtemperatur fällt quasi sofort um ein halbes Grad,
um dann normal schnell weiter abzusinken.&lt;/p&gt;
&lt;p&gt;Das ist das erwartete Verhalten:
Die spezifische Wärme von Luft ist nun einmal viel geringer als die von Wasser.
Das System hat also weniger Trägheit in beide Richtungen.&lt;/p&gt;
&lt;p&gt;Die Klimaanlage ist auf 23ºC eingestellt.
Die Temperaturmessung im Raum zeigt jedoch 20.5ºC an.
Was passiert hier?&lt;/p&gt;
&lt;p&gt;Das Klimagerät sitzt knapp unter der Decke.
Es saugt Luft von oben ein und spuckt sie nach unten gelenkt wieder aus.&lt;/p&gt;
&lt;p&gt;Die ausgegebene Luft hat, laut FLIR Kamera 23ºC.
Die Zuluft hat schnell mal 22ºC bis 24ºC.&lt;/p&gt;
&lt;p&gt;Ein Sensor in Kniehöhe zeigt mir dann 20ºC an.&lt;/p&gt;
&lt;p&gt;Ein Sensor in Schulterhöhe 21ºC.&lt;/p&gt;
&lt;p&gt;Raumluft ist also, auch bei aktiver Luftumwälzung durch die Klimageräte, thermal geschichtet.
Das–die Schichtung–ist übrigens auch bei traditionellen Radiatoren so.
Die meisten Leute haben nur nicht so obsessiv gemessen wie ich.&lt;/p&gt;
&lt;p&gt;Wenn ich die Anlage abschalte, fehlt die Umwälzung, und es schichtet sich noch mehr.
Das ist der schnelle Drop, den wir sehen.
Danach haben wir den normalen Verlust über Zeit.&lt;/p&gt;
&lt;p&gt;Anders als Heizkörper sind Klimageräte reine Konvektionsheizungen.
Sie geben keine Wärme durch Strahlung ab.
Daher ist es wichtig, die Luft auch aktiv zu bewegen und so die Schichtung zu durchbrechen.&lt;/p&gt;
&lt;h2 id=&#34;machen-die-klimanalagen-die-luft-nicht-sehr-trocken&#34;&gt;
    &lt;a href=&#34;#machen-die-klimanalagen-die-luft-nicht-sehr-trocken&#34;&gt;
	Machen die Klimanalagen die Luft nicht sehr trocken?
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Nein.&lt;/p&gt;
&lt;p&gt;Luft fühlt sich &amp;ldquo;behaglich&amp;rdquo; (Wort aus dem Lehrbuch für Klima- und Heizungstechnik-Lehrlinge) an,
wenn ihre relative Luftfeuchte im Bereich 40-55% liegt.&lt;/p&gt;
&lt;p&gt;Luft hat ein Aufnahmevermögen von x Gramm Wasser pro Kubikmeter,
das von der Temperatur exponentiell abhängig ist.
10ºC Temperaturunterschied verdoppeln grob gesagt die Anzahl der Gramm Wasser, die Luft aufnehmen kann.&lt;/p&gt;
&lt;p&gt;Wenn ich also 10ºC warme Luft mit Wasser komplett sättige, dann ist die &lt;em&gt;relative&lt;/em&gt; Luftfeuchte 100%.
Wärme ich die Luft auf 20ºC an, könnte sie doppelt so viel Wasser tragen,
aber da ich sie nur warm gemacht habe und kein Wasser zugefügt habe,
sind es immer noch genau so viel Gramm Wasser wie vorher, aber nur noch 50% relative Luftfeuchte.&lt;/p&gt;
&lt;p&gt;Wenn ich 20ºC warme Luft komplett mit Wasser sättige, und dann auf 10ºC abkühle,
dann kann die Luft die Hälfte des Wassers in der Luft nicht mehr halten, und es kondensiert.&lt;/p&gt;
&lt;p&gt;Das Kondensat kann Schimmel verursachen.&lt;/p&gt;
&lt;p&gt;Das Klimagerät kann im Kühlbetrieb Luft trocknen.
Das ist gut, denn so kann man Schwüle bekämpfen.&lt;/p&gt;
&lt;p&gt;Das ist auch der Grund, warum es vier Anschlüsse hat:
Arbeitsgas rein und raus,
Strom und ein Abfluss für das Kondensat.
So wird Kondenswasser weggeschafft und kann keinen Schaden anrichten.&lt;/p&gt;
&lt;p&gt;Das Problem kann nur beim Kûhlen auftreten:
Beim Heizen wird die Luft vom alten Wert (sagen wir 19ºC) auf den eingestellten Wert (z.B. 23ºC) angewärmt,
aber nicht angefeuchtet.
Die relative Luftfeuchte sinkt also, und zwar um den erwarteten Wert,
weil alles Wasser, das vorher in der Luft drin war auch drin bleibt.
Das ist ganz genauso wie bei der normalen Raumheizung mit einem Heizkörper.&lt;/p&gt;
&lt;p&gt;In der Praxis sehen wir, dass die relative Luftfeuchte während des Heizbetriebes am Messpunkt von 60% auf 56% gefallen ist.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;heizen-04.png&#34; alt=&#34;2025/06/heizen-04.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Luftfeuchtigkeit im Erdgeschoss, im Wohnzimmer und in der Küche, während des Heizbetriebes.&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&#34;ist-das-nicht-laut&#34;&gt;
    &lt;a href=&#34;#ist-das-nicht-laut&#34;&gt;
	Ist das nicht laut?
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Eine Klimaanlage bewegt Luft.&lt;/p&gt;
&lt;p&gt;Drinnen:
Sie saugt Luft oben am Klimagerät ein und wirft sie unten mit der eingestellten Solltemperatur aus.&lt;/p&gt;
&lt;p&gt;Wenn man das Gerät im Normal- oder gar Powerful-Modus betreibt (oder den Lüfter manuell ansteuert),
dann kann man den Lüfter im Leistungsbetrieb deutlich hören.
Stellt man den Modus auf Quiet, dann eher nicht.
Also, er macht Geräusche, aber Deine antike Wohnzimmeruhr tickt lauter,
und jedes draußen vorbei fahrende Auto ist ebenfalls lauter.&lt;/p&gt;
&lt;p&gt;Wir haben alle Geräte immer auf Quiet stehen, ausgenommen das Kind – es findet das Gepuste toll
(und will sein Zimmer tropisch, also 23ºC-25ºC).&lt;/p&gt;
&lt;p&gt;Man kann ganz sachte hören, wenn sich das Luftleitwerk im Swing-Mode umstellt,
falls man es nicht fixiert hat.&lt;/p&gt;
&lt;p&gt;Und man kann den Luftstrom fühlen, insbesondere, wenn man darin sitzt.
Auch das kann man einstellen, also wo das Ding hin pustet.&lt;/p&gt;
&lt;p&gt;Draußen: Das Außengerät hat auch einen Ventilator und einen Kompressor.
Beide sind unter 40 dB(A) (selbst bei Enteisung), und im Normalbetrieb noch leiser.
Das heißt, sie sind IMMER leiser als andere Umgebungsgeräusche.&lt;/p&gt;
&lt;p&gt;Vom Außengerät geht ein Luftstrom (im Winter kalt, im Sommer warm) in gerader Linie
etwa 100 cm in Richtung des Ventilators weg – es sei denn, man lenkt ihn mit ein paar Natursteinen irgendwie um.&lt;/p&gt;
&lt;p&gt;Will sagen: Im Innenraum ist es marginal merkbar,
aber es ist nicht so wie die Heizung des defekten 40 Jahre alten Monoblocks,
der Euch bei Eurem Hotelbesuch in Detroit tiefgefroren hat
und dabei geklungen hat wie der Beginn einer Roboter-Rebellion.
Sondern angenehm bis unhörbar.&lt;/p&gt;
&lt;p&gt;Das Außengerät macht minimale Geräusche, die aber zu keinem Zeitpunkt als &amp;ldquo;Lärm&amp;rdquo; qualifizierbar sind.
Bei nörgelnden Nachbarn sollte man den Artikel
&lt;a href=&#34;https://en.wikipedia.org/wiki/Go_Away_Green&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;WP: Go Away Green&lt;/a&gt;


lesen und seine Schlüsse ziehen.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;heizen-05.png&#34; alt=&#34;2025/06/heizen-05.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Einstellmöglichkeiten der Klimaanlage in Home Assistant.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Wie dem auch sei: Es funktioniert, macht das Haus warm, braucht wenig Energie, kann im Sommer kühlen,
und macht die Luft nicht trocken und ist auch nicht laut (außer man sagt dem Gerät,
dass es jetzt mal auf den Kopf hauen soll, weil ich es schnellstmöglich warm haben will)&lt;/p&gt;
&lt;h2 id=&#34;kühlen&#34;&gt;
    &lt;a href=&#34;#k%c3%bchlen&#34;&gt;
	Kühlen
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Hier ist ein komplizierter Graph aus Home Assistant:&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;heizen-07.png&#34; alt=&#34;2025/06/heizen-07.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;Im unteren Graphen sehen wir die Leistungsaufnahme der Klimaanlage (&amp;ldquo;Südseite&amp;rdquo;).
Von circa 10 Uhr bis 13 Uhr und von kurz vor 16 Uhr bis 17:30 Uhr ist die Kühlung gelaufen,
und hat dabei 300-400 Watt gezogen.&lt;/p&gt;
&lt;p&gt;Im oberen Graphen sehen wir:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Gelb – die eingestellte Solltemperatur am Lufteinlass der Klimaanlage&lt;/li&gt;
&lt;li&gt;Dunkelblau - die gemessene Temperatur am Lufteinlass der Klimaanlage&lt;/li&gt;
&lt;li&gt;Rot - die gemessene Temperatur an einem Sensor neben dem Bett
(der Sensor war von 11:00 bis 11:30 der Sonne ausgesetzt und hat dort einen Ausreißer)&lt;/li&gt;
&lt;li&gt;hellblaue Balken - Einschaltsignal der Kühlung&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Man sieht, wie die eingestellte gelbe Linie irrlichtert, als ich herausfinde, was ein angenehmer Wert ist,
und wie die dunkelblaue Linie und die rote Linie dieser gelben eingestellten Linie langsam nachfolgen.
Es gelingt der Anlage problemlos, die Raumtemperatur zu kontrollieren.&lt;/p&gt;
&lt;p&gt;Die Solaranlage hat zu diesen Zeiten so viel Energie erzeugt, dass die gezogenen 400 Watt komplett egal sind.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Thermometer</title>
      <link>https://blog.koehntopp.info/2025/04/06/thermometer/</link>
      <pubDate>Fri, 28 Feb 2025 13:05:06 +0000</pubDate><author>oliof@example.com (Harald Wagener)</author>

      <guid>https://blog.koehntopp.info/2025/04/06/thermometer/</guid>
      <description>&lt;h1 id=&#34;thermometer&#34;&gt;
    &lt;a href=&#34;#thermometer&#34;&gt;
	Thermometer
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Eine der wesentlichen Kenngrössen für die Behaglichkeit in den eigenen vier
Wänden ist die Umgebungstemperatur.&lt;/p&gt;
&lt;p&gt;Üblicherweise betrachten wir die Temperatur im Zusammenspiel mit Heizung in der
kalten Jahreszeit. Aufgrund des Klimawandels gewinnt der Aspekt der
Raumtemperaturkühlung aber zunehmend an Bedeutung.&lt;/p&gt;
&lt;p&gt;Thermostate verwenden wir im wesentlichen für drei Dinge: Beobachten, Messen,
und Steuern.&lt;/p&gt;
&lt;h2 id=&#34;beobachten-messen-steuern&#34;&gt;
    &lt;a href=&#34;#beobachten-messen-steuern&#34;&gt;
	Beobachten, Messen, Steuern
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Diese Begriffe sind natürlich beliebig von mir gewählt, mir hat diese Taxonomie
aber geholfen zu verstehen, was ich an verschiedenen Thermometern gut oder
schlecht fand.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Beobachten: Punktuelle Überprüfung von Umweltfaktoren. Thermometer die für
die Beobachtung geeignet sind, haben ein eigenes Display und die Möglichkeit
weitere Referenzwerte wie die Uhrzeit anzuzeigen.&lt;/li&gt;
&lt;li&gt;Messen: Kontinuierliche Erfassung von Umweltfaktoren. Hier ist wichtig, dass
die Messreihe konsistent und regelmässig aktualisiert wird.&lt;/li&gt;
&lt;li&gt;Steuern: Verwendung von Messwerten um andere Geräte (Heizung, Kühlung,
Verschattung) zu steuern.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Für welchen Zweck sich ein bestimmtes Thermometer eignet, hängt im wesentlichen
von zwei Eigenschaften ab:&lt;/p&gt;
&lt;h2 id=&#34;präzision-und-auflösung&#34;&gt;
    &lt;a href=&#34;#pr%c3%a4zision-und-aufl%c3%b6sung&#34;&gt;
	Präzision und Auflösung
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Wir sprechen hier über Digitalthermometer, die in der Regel eine hohe Präzision
haben &amp;ndash; sie geben für eine bestimmte Temperatur am Messpunkt in der Regel den
gleichen Wert wieder. In der Regel sind sie aber nicht &lt;em&gt;genau&lt;/em&gt;: Sie werden im
Vergleich zu anderen Thermometern einen anderen Wert wiedergeben, meistens aber
mit feststehenden Differenzen / Offsets. Ein anderer Punkt in dem sich
Thermometer unterscheiden ist die Auflösung, also in welchen Teilschritten sie
Temperaturwerte messen und anzeigen.&lt;/p&gt;
&lt;p&gt;Einige Beispiele:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Die IKEA Vindstyrka Raum-Messgeräte liefern Informationen zu Temperatur,
Luftfeuchtigkeit, und Feinstaubbelastung. Und obwohl in den Geräten
hochsensitive Sensoren von Sensirion verbaut sind, zeigt das Gerät nur
ganzzahlige Temperaturwerte an (und liefert ohne Veränderungen am Gerät
auch nur ganzzahlige Werte). Diese Ausführung eignet sich meiner Meinung
nach für Beobachtung: Ich schaue aufs Display und habe eine grobe Idee, wie
sich die Umweltwerte in der aufgestellten Umgebung zueinander verhalten.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/04/vindstyrka.jpeg&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;vindstyrka.jpeg&#34; alt=&#34;2025/04/vindstyrka.jpeg&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ein IKEA Vindstyrka in einem Bücherregal&lt;/em&gt;&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Ein Shelly HT G3 liefert mir auf dem ePaper Display und Online
Temperaturwerte mit einer Auflösung von 0.1 Grad Celsius, die angezeigten
und über die Shelly API gelieferten Werte stimmen im wesentlichen überein.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/04/shelly-htg3.jpeg&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;shelly-htg3.jpeg&#34; alt=&#34;2025/04/shelly-htg3.jpeg&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Shelly HT G3 mit externer Stromversorgung&lt;/em&gt;&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;Ein mit freier Alternativfirmware bestücktes Xiaomi MMC MHO-C401(N) zeigt
auf dem ePaper-Display eine Auflösung von 0.1 Grad Celsius an, aber über
die BTHome API liefert es Werte mit einer Auflösung von 0.01 Grad Celsius.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/04/MHO-C401.jpeg&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;MHO-C401.jpeg&#34; alt=&#34;2025/04/MHO-C401.jpeg&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ein MHO-C401(N) mit der &lt;a href=&#34;https://pvvx.github.io/MHO_C401/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;alternativen Firmware für BTHome
Support&lt;/a&gt;

. Es sei angemerkt, dass es für C401
und C401N unterschiedliche Firmware gibt. Wenn man die falsche verwendet hat,
aktualisiert sich das Display nicht; man kann dann aber einfach die andere
flashen.&lt;/em&gt;&lt;/p&gt;
&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;Ein Aqara Zigbee Thermostat liefert Werte mit einer Auflösung von 0.1 Grad
Celsius.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/04/aqara_ths.jpeg&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;aqara_ths.jpeg&#34; alt=&#34;2025/04/aqara_ths.jpeg&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;Ein Sonoff SNZB-02P liefert Werte mit einer Auflösung von 0.1 Grad Celsius.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/04/sonoff-ths.jpeg&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;sonoff-ths.jpeg&#34; alt=&#34;2025/04/sonoff-ths.jpeg&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;ol start=&#34;6&#34;&gt;
&lt;li&gt;Tasmota unterstützt verschiedene Thermostate von DHT22 bis BME820, die
jeweils entsprechend der technischen Kapazitäten Werte liefern.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Ein weiterer Grund warum &lt;em&gt;Präzision&lt;/em&gt; und nicht &lt;em&gt;Genauigkeit&lt;/em&gt; relevant sind:
Wenn es um Hausautomatisierung geht, ist die Frage welche Temperatur angenehm
ist und welche nicht, bereits subjektiv. Insofern sind &amp;ldquo;meine&amp;rdquo; 19.5 Grad
Raumtemperatur vielleicht angenehmer für mich als Kris&amp;rsquo; 21 Grad Raumtemperatur.
(Es sei auch angemerkt, dass die klassischen Raumsteuerungen für
Fussbodenheizungen mit Bimetall-Technik auch nur eine Genauigkeit von +-0,5
Grad haben).&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/04/Raumregler.jpeg&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;Raumregler.jpeg&#34; alt=&#34;2025/04/Raumregler.jpeg&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ein temperaturgeführter Raumregler für Stellventile einer Flächenheizung. Im
Inneren bewährte, unkaputtbare Bimetalltechnik. Leider nutzlos, weil die
Heizung &amp;rsquo;normally open&amp;rsquo; betrieben wird.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Eine hohe Auflösung der Messwerte hat nicht nur Vorteile: Es bedeutet auch,
dass kleinste Veränderungen in der Umwelt (zum Beispiel: Ein Mensch der 100W
Abwärme erzeugt sitzt in der Nähe eines Raumthermometers) zu unmittelbaren
Veränderungen in den Messwerten führen. Wenn dies in der Nähe eines
Schwellwertes geschieht, der zur Steuerung verwendet wird (zum Beispiel:
Heizung an/aus); dann kann es zu Taktung kommen: Das geschaltete Gerät wird
in (zu) schneller Folge ab und wieder angeschaltet. In diesem Fall empfiehlt es
sich, den Messwert zu glätten, bevor man ihn zur Schaltung verwendet. Das
verzögert den Steuerungsvorgang in der Regel, aber die Taktung wird
vermieden.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/04/Heizleistung12Gaeste.png&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;Heizleistung12Gaeste.png&#34; alt=&#34;2025/04/Heizleistung12Gaeste.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Die Heizleistung von 12 Personen auf einer Party.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Es gibt noch zwei weitere Aspekten von Thermometern, die wichtig sind, um das
richtige Thermometer für den richtigen Anwendungszweck auszuwählen:&lt;/p&gt;
&lt;h2 id=&#34;stromverbrauch-und-aktualisierungs-frequenz&#34;&gt;
    &lt;a href=&#34;#stromverbrauch-und-aktualisierungs-frequenz&#34;&gt;
	Stromverbrauch und Aktualisierungs-Frequenz
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Beim Stromverbrauch gehört eigentlich noch die Art der Stromversorgung hinzu.
Die gängigen Spielarten sind: Stromversorgug über USB (Vindstyrka, Shelly HT,
Tasmota), CR2032 (Aqara Zigbee, Xiaomai MHO-C401(N), und Sonderformate wie
CR2450 (Sonoff SNZB-02P). Batteriebetriebene Thermometer haben maximale
Freiheitsgrade bei der Aufstellung, aber je nach Implementierung halten die
Batterien nur wenige Monate. Gerade die Zigbee Thermometer optimieren ihren
Stromverbrauch, indem sie Updates nur schicken, wenn sich die Temperatur um ein
bestimmtes Delta verändert haben, und dann noch alle X Minuten, auch wenn sich
nichts geändert hat. Bei einigen Zigbee Sensoren sind die Schwellwerte über
gewisse API Calls anpassbar &amp;ndash; bei mir hat das aber nie funktioniert.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/04/batterien.png&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;batterien.png&#34; alt=&#34;2025/04/batterien.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;Wer Batterien vermeiden möchte, hat die Wahl zwischen&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IKEA Vindstyrka, aber aufgrund des aktiven Lüfters im Gerät, eignet sich
dieses Gerät nicht für die Aufstellung in Räumen mit hohen Anforderungen an
die Ruhe. Und wegen der niedrigen Auflösung der Werte (ohne massive
Modifikationen), eignet sich dieses Gerät auch nicht für Messen oder
Steuern.&lt;/li&gt;
&lt;li&gt;Shelly HT G3: Hoher Home Aesthetics Adequacy Factor, und mit Stromversorgung
aus der Steckdose auch hohe Aktualisierungs-Frequenz. Aber die Konfiguration
des Shelly HT G3 setzt das Drücken eines Knopf hinter der hinteren Abdeckung
voraus, für die man die externe Stromversorgung abziehen muss. Meiner
Meinung nach ein eklatanter Fehler im Design.&lt;/li&gt;
&lt;li&gt;Tasmota-Selbstbau: Ob das eine bessere oder schlechtere Lösung ist als ein
Vindstyrka zu modifizieren, sei der geneigten Leserschaft als Übung
überlassen. Die selbst konfigurierbare Aktualisierungs-Frequenz und
weitestgehend freie Wahl des Sensors entbehrt aber nicht einer gewissen
Attraktivität, genauso wie die Einbindung über MQTT anstatt Zigbee oder
BTHome &amp;hellip;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Wenn es Batterien sein dürfen:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;sowohl die Aqara THS als auch die MHO-C401(N) verwenden einfache CR2032
Batterien und laufen damit deutlich länger als ein Jahr. Ja, es gibt
aufladbare CR2032 Zellen, aber deren Leistung ist stark eingeschränkt; ob
man hier wirklich gewinnt sei dahin gestellt. Es gibt auch Adapterzellen, um
entweder 2xAAA oder gleich USB anzuschliessen, damit habe ich aber keine
Erfahrung.&lt;/li&gt;
&lt;li&gt;Die Sonoff SNZB-02P verwenden CR2045 Batterien. Diese sind gross, und selten
also teurer, und weil diese Thermometer LCD-Displays verwenden, sind die
Batterien auch eher nach 6-8 Monaten leer als nach 12-15.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id=&#34;aktualisierungsfrequenz&#34;&gt;
    &lt;a href=&#34;#aktualisierungsfrequenz&#34;&gt;
	Aktualisierungsfrequenz
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Wie bereits erwähnt, unterscheiden sich diese Geräte in ihrer
Aktualisierungsfrequenz. Die MHO-C401(N)s aktualisieren sich ca einmal pro
Minute, Shelly HT G3 im Netzbetrieb ebenso (im Batteriebetrieb ca alle drei
Minuten). Aqara THS aktualisieren sich ca einmal alle 3-5 Minuten (oder wenn
die Temperatur sich um 0.1 Grad ändert), die SNZB-02P ca einmal alle 15 Minuten
oder wenn die Temperatur sich um 0.2 Grad ändert.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/04/CheckinsThermometer.png&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;CheckinsThermometer.png&#34; alt=&#34;2025/04/CheckinsThermometer.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Vergleich der Aktualisierung der Werte in HomeAssistant von verschiedenen
Thermometern, die direkt nebeneinander stehen. &amp;lsquo;rettemp&amp;rsquo; ist ein DS18B20 an
meinem EMS-ESP zur Referenz; Aqara, Shelly, und Sonoff sind die im weiteren
Text erwähnten Geräte. Man sieht, dass der Shelly etwa alle drei Minuten ein
Update schickt, und Sonoff und Aqara in den gezeigten 2 Stunden nur eine
handvoll Updates liefert, während der DS18B20 unmittelbare Werte liefert,
sobald sich die Temperatur ändert.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Meiner Erfahrung nach eignen sich Geräte mit einer niedrigen
Aktualisierungsfrequenz im wesentlichen nur für die Beobachtung: Also wenn ich
grob wissen will, was Sache ist und mir Tages- oder Wochen-Trends ausreichen.
Für Werte die ich innerhalb einer Stunde oder schneller mit anderen Dingen
korrelieren möchte, brauche ich eine zügigere Aktualisierung. Und schliesslich,
wenn ich Wärme- oder Kälte-Erzeugung aktiv steuern will, ist es unerlässlich,
einen schnellen Sensor zu haben &amp;ndash; selbst wenn ich die Messwerte zur Vermeidung
von Taktung durch einen Tiefpassfilter schicke oder eine Zweipunktschaltung
implementiere.&lt;/p&gt;
&lt;p&gt;Wir haben als über Genauigkeit, Präzision, Auflösung, Stromverbrauch, und
Aktualisierungs-Frequenzen gesprochen. Für die praktische Anwendung im Home
Assistant Umfeld ist noch ein weiterer Aspekt wichtig:&lt;/p&gt;
&lt;h2 id=&#34;protokoll-konformität&#34;&gt;
    &lt;a href=&#34;#protokoll-konformit%c3%a4t&#34;&gt;
	Protokoll-Konformität
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Ich habe Erfahrung mit Zigbee, BTHome, Shelly, und Tasmota/MQTT &amp;ndash; andere
Protokolle und Implementierungen wie ESPHome, Matter, etc. sind hier nicht
berücksichtigt, weil ich zu ihnen nichts sagen kann. Es soll aber nicht
ausschliessen, dass sie für verschiedenste Anwendungsfälle geeignet sind.&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Zigbee&lt;/dt&gt;
&lt;dd&gt;Meiner Erfahrung nach ist ein Gutteil der als Zigbee-kompatibel
ausgewiesenen Thermometer leider dergestalt, dass die Hersteller ihre
eigenen Protokollvarianten fahren, die es erschweren bis verunmöglichen,
diese Thermostate in einer offenen Umgebung wie Home Assistant zuverlässig
einzubinden oder dauerhaft zu betreiben.
&lt;p&gt;Home Assistant bringt für hunderte
von Zigbee Geräten &amp;ldquo;Quirks&amp;rdquo; Definitionen mit, also gerätespezifische
Anpassungen, damit das Gerät auch funktioniert. Leider sind die
Gerätehersteller nicht in der Lage, ein Gerät mit einer Ausführung von
Hardware und Firmware sauber zu benennen. Deswegen ist die Frage ob ein
bestimmtes Zigbee-Thermometer mit Home Assistant funktioniert, immer mit
&amp;ldquo;möglicherweise&amp;rdquo; zu beantworten. Das ganze ist insofern besonders
verstörend, weil die meisten Thermometer, egal wie sie gebranded sind,
entweder von Xiaomi oder Aqara hergestellt werden. Das ganze Theater ist
also konsumentenfeindliche Marktzersplitterung.&lt;/p&gt;
&lt;p&gt;Bei HomeAssistant kommt noch
dazu, dass es unterschiedliche Implementierungen von Zigbee gibt: ZHA und
Z2M. ZHA kommt von NabuCasa, der Firma hinter HomeAssistant, Z2M bindet den
ganzen Zigbee-Kram über MQTT an HomeAssistant an. Die oben erwähnten Quirks
unterscheiden sich, und so unterscheidet sich auch, ob ein Gerät mit
HomeAssistant gut funktioniert, hin und wieder aufgrund einer Entscheidung
für ZHA oder Z2M. Man kann theoretisch beides parallel fahren, wenn man zwei
Zigbee Coordinators hat, aber ob das eine Lösung ist? Für mich zumindest
nicht.&lt;/p&gt;
&lt;p&gt;Deswegen hier gleich die erste &lt;strong&gt;Nicht-Empfehlung&lt;/strong&gt;: Finger weg von
allem, was Tuya in der Beschreibung hat! Viele der Tuya-Geräte sprechen
nominell Zigbee, haben aber zum Beispiel proprietäre Kopplungsprozesse oder
andere Eigenheiten, die eine Verwendung im HomeAssistant stark
verkomplizieren bis verunmögligen. Das gilt übrigens nicht nur für
Thermometer (OSRAM LEDVANCE, I&amp;rsquo;m looking at you!). Die LocalTuya
Integration, die einen Developer Account bei Tuya voraussetzt und auch
ansonsten wirre Dinge tut, ist für mich Teil des Problems und nicht der
Lösung.&lt;/p&gt;
&lt;/dd&gt;
&lt;dt&gt;BTHome&lt;/dt&gt;
&lt;dd&gt;BTHome ist ein Protokoll aus dem Hause Shellly und Bestandteil der
&lt;a href=&#34;https://www.openhomefoundation.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Open Home Foundation&lt;/a&gt;

. Ich muss gestehen, dass ich wenig Lust hatte, meinem
Home Assistant einen weiteren Dongle für Bluetooth und eine weitere
Integration anzutun, aber am Ende war es die richtige Entscheidung. Was ich
ganz elegant finde: Die Geräte werden über den Webbrowser geflasht, man muss
also weder das Gerät öffnen noch irgendwelche wilden Buildchains
installieren.&lt;/dd&gt;
&lt;dt&gt;Shelly&lt;/dt&gt;
&lt;dd&gt;Shelly hat sein eigenes proprietäres Protokoll, aber die Integration
mit HomeAssistant ist lokal und funktioniert im wesentlichen sehr gut. Als
europäisches Produkt zahlt man für Shelly-Lösungen etwas mehr, aber
insgesamt finde ich die Qualität stimmt. (Wer keine Lust auf einen eigenen
lokalen Home Assistant hat, ist mit der Shelly Cloud Lösung vermutlich auch
ganz gut bedient, ich verwende das nicht).&lt;/dd&gt;
&lt;dt&gt;Tasmota&lt;/dt&gt;
&lt;dd&gt;Tasmota verwendet MQTT und ist lokal, Wifi basiert, und für mich
zum Beispiel im Bereich Smart Plugs bereits das Protokoll meiner Wahl. Wer
Freude am Basteln hat, bekommt hier a) den Sensor in der Ausführung der Wahl
und b) eine Integration die keine weiteren Dongles benötigt.&lt;/dd&gt;
&lt;/dl&gt;
&lt;h1 id=&#34;abschliessende-empfehlung&#34;&gt;
    &lt;a href=&#34;#abschliessende-empfehlung&#34;&gt;
	Abschliessende Empfehlung
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Die bisher besten Erfahrungen mit über einem halben Dutzend Thermometer-Modelle
lässt für mich nur zwei Empfehlungen zu: Aqara Temp and Humidity Sensor für
Anwendung ohne Display und mit nur einfachen Steuerungen, für alle anderen
Anwendungen Xiaomi MMC MHO-C401(N) mit der BTHome Firmware. Der Shelly HT G3
ist aufgrund seiner Größe und der oben genannten Design-Fehler nur abgeschlagen
auf dem Dritten Platz. Tasmota nur für Leute die sinnvoll selbst Geräte bauen
können, dann aber meiner Erfahrung nach am Flexibelsten.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Discords Börsengang</title>
      <link>https://blog.koehntopp.info/2025/03/06/discords-boersengang/</link>
      <pubDate>Thu, 06 Mar 2025 04:05:06 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2025/03/06/discords-boersengang/</guid>
      <description>&lt;p&gt;Heise berichtet:
&lt;a href=&#34;https://www.heise.de/news/Bericht-Discord-strebt-offenbar-Boersengang-noch-2025-an-10306706.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Discord strebt offenbar Börsengang noch 2025 an&lt;/a&gt;

&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Die Verantwortlichen hinter der Chatplattform erwägen laut einem Medienbericht,
ihr Unternehmen an die Börse zu bringen und führen erste Gespräche.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Aus meinem Mastodon-Thread:&lt;/p&gt;
&lt;p&gt;Das ist schade, Discord war eine gute Chatplatform.
Mit dem Börsengang wird es natürlich zwingend, das Unternehmen auf Kosten der User-Experience auf Profit zu trimmen.
Erfahrungsgemäß wird eine Plattform damit binnen drei Jahren unbrauchbar.
Wir haben also Stand heute noch in etwa vier Jahre an Discord gut, bevor wir eine Alternative brauchen.&lt;/p&gt;
&lt;p&gt;Eine Menge Leute lästern über Discord, aber das ist meist entweder Mangel an Erfahrung oder sinnfreier OSS-Fundamentalismus.&lt;/p&gt;
&lt;p&gt;Discord ist von allen Lösungen für synchrone Kommunikation, die ich regelmäßig nutze, die einzig richtig Gute.&lt;/p&gt;
&lt;p&gt;Sie ist praktisch im Handumdrehen einzurichten, hat sinnvolle Defaults,
und kann Communities mit 3 Benutzern genau so abbilden wie solche mit 30k Users.&lt;/p&gt;
&lt;p&gt;Sie kann Umgebungen für Streaming und Audiochat genau so realisieren wie solche,
die lang laufende Text-Unterhaltungen realisieren –
und zwar lineare wie auch solche, die stark strukturiert in Threads oder FAQ/Support-Cases aufgebaut sind.&lt;/p&gt;
&lt;p&gt;Discord beherrscht Markdown-Text mit Syntax-Highlighting,
kann Bilder und Emojis einbetten,
und der Chat kann auch als Filesharing/Dateitransport-Dienst verwendet werden.&lt;/p&gt;
&lt;p&gt;Der Dienst ist auch nicht föderiert, und der Client einigermaßen kontrolliert.
Das heisst, man hat 95 % des Spam-Problems nicht, das zum Beispiel Google Hangouts vor 10 Jahren
durch Förderation mit XMPP Instanzen hatte, die speziell zum Versenden von Spam gebaut wurden.
Google konnte das Probem  am Ende nur durch die Abriegelung von Hangouts lösen.
Außerdem gibt so genau eine offizielle Timeline, und es gibt keinen Lag durch Nachrichten-Ausbreitung zwischen Servern.&lt;/p&gt;
&lt;p&gt;Und während es nicht-offizielle Discord Clients oder Patches für die originale Electron-App gibt,
sind die alle inoffiziell, können also den Dienstleister nicht daran hindern,
den Featureset zentral weiterzuentwickeln.
Bei Systemen ohne bindend offiziellen Client gibt es oft Gejammer von Menschen,
deren Client das neue Feature noch nicht kann, oder nie können wird,
und die deswegen unbedingt wollen, dass wir alle das Feature dann nicht haben.&lt;/p&gt;
&lt;p&gt;Und das alles hosted, für einen Spottpreis (nämlich erst mal frei, oder halt für 120 Euro/Jahr, wenn man Nitro kauft).&lt;/p&gt;
&lt;p&gt;Es wird schade sein, das alles an ungebremste Monetarisierung zu verlieren.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;Ich halte die Abwesenheit von Föderation und E2E-Encryption für einen Vorteil.&lt;/p&gt;
&lt;p&gt;Beides sind Features, die den Server und den Client notlos kompliziert machen,
und die für eine schlechte und verwirrende UX sorgen.
Die meisten Leute wollen halt nicht den antifaschistischen Widerstand abhörsicher in ihrem Chat organisieren,
oder ein Frauenhaus und eine Abtreibungsberatung organisieren,
sondern einen öffentlichen Guild-Server für ihre Gilde haben oder über ihre 3D-Drucker chatten.
Und das tut um mindestens drei Größenordnungen weniger weh,
wenn man sich Föderation und E2EE schenkt,
um sich auf Client-Features zu konzentrieren – und weil der Dienst dann einfach und immer tut.&lt;/p&gt;
&lt;p&gt;Mit Föderation hat man, wie oben schon angedeutet,&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;unterschiedliche Server-Versionsstände und entsprechend nicht einheitlich funktionierende Features.&lt;/li&gt;
&lt;li&gt;Propagation-Delay, und damit einen Chat, der nicht mehr kontrollierbare Lags hat.
Es entsteht eine nicht-einheitliche Sicht auf die Timeline.
Da kann man gegenan arbeiten, indem man pro Channel deförderiert
(es gibt einen führenden Server pro Channel, und alle Clients müssen da hinschreiben,
und da gibt es die authoritative Timeline für den Channel).&lt;/li&gt;
&lt;li&gt;dedizierte Serverimplementierungen, deren einziger Zweck es ist, nicht existende Client-Profile im Server zu simulieren
und Marketing-Nachrichten in echte Server mit echten Usern einzuspielen (also Spam).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Und sobald man E2EE macht, hat man&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;pro Client verschlüsselte Nachrichten mit bekanntem Inhalt (also ein known Plaintext Problem).&lt;/li&gt;
&lt;li&gt;ein Key-Distribution-Problem außerordentlichen Ausmaßes, das man absolut nicht braucht.&lt;/li&gt;
&lt;li&gt;das man durch Föderation und Lag noch verschärfen kann.&lt;/li&gt;
&lt;li&gt;ein unlesbares Backlog für neu hereinkommende Clients.&lt;/li&gt;
&lt;li&gt;ein Problem bei Identitäten (&amp;ldquo;Isotopp&amp;rdquo;) mit mehreren Clients (Desktop, Mobile, Tablet),
das Du in der Key Distribution Infrastruktur abbilden musst,
einschließlich Gerätewechsel (&amp;ldquo;neues Handy&amp;rdquo;) und Backlog-Synchronisation.&lt;/li&gt;
&lt;li&gt;desynchroniserte Clients, die technisch Mitglied im Kanal sind, aber nicht teilnehmen können (&amp;ldquo;Keysplit&amp;rdquo;)&lt;/li&gt;
&lt;li&gt;keine zentrale, indizierte Suche und kein Archiv.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;und das alles notlos, weil für mehr als 99 % aller Anwendungsfälle E2EE ein Antifeature ist.
Der Dienst würde profitieren, wenn er das Feature nicht hätte,
da die Inhalte im virtuellen Server im Grunde öffentlich sind (jedenfalls nicht geheim),
und man nun arbeiten muß, um die oben angedeuteten Eigenschaften bereit zu stellen.&lt;/p&gt;
&lt;p&gt;Ein Dienst, den man sich anschauen sollte, ist das &lt;a href=&#34;https://itsfoss.com/revolt/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;hier reviewte Revolt&lt;/a&gt;

.
Dem fehlen noch eine Reihe von Features für Parity, aber es scheint ein sehr guter Ansatz zu sein.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Drei Winter mit eigener Heizung</title>
      <link>https://blog.koehntopp.info/2025/02/28/3-winter-mit-eigener-heizung/</link>
      <pubDate>Fri, 28 Feb 2025 13:05:06 +0000</pubDate><author>oliof@example.com (Harald Wagener)</author>

      <guid>https://blog.koehntopp.info/2025/02/28/3-winter-mit-eigener-heizung/</guid>
      <description>&lt;h1 id=&#34;2022&#34;&gt;
    &lt;a href=&#34;#2022&#34;&gt;
	2022
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Im November 2022 ziehe ich mit meiner Frau in das Haus ein, dass unser
&amp;ldquo;Alterswohnsitz&amp;rdquo; werden soll. Das Gebäude ist aus dem frühen 15. Jahrhundert,
steht innen wie aussen unter Denkmalschutz, aber wurde von den Vorbesitzern
2017-2019 komplett saniert: Dach, Dämmung, Strom, Wasser und natürlich
Heizung.&lt;/p&gt;
&lt;p&gt;Wie das bei neu gebackenen Hausbesitzern so ist, kollidieren eigene Wünsche zu
Umbaumaßnahmen (&amp;ldquo;Photovoltaik!&amp;rdquo;, &amp;ldquo;Wärmepumpe!&amp;rdquo;) mit den Realitäten vor Ort. Und
man hat erstmal das Gefühl verloren, wieviel bewegliches Kapital noch vorhanden
ist, nachdem eine Immobilie angeschafft wurde. Das setzt dem Investitionswillen
eine mentale Bremse.&lt;/p&gt;
&lt;p&gt;Die Fakten sind:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Das Haus steht in Reihe und hat relative dicke Aussenwände (60-70cm) in den
ersten beiden Stockwerken.&lt;/li&gt;
&lt;li&gt;In der Rückwand ist Dämmung eingeblasen, das Dach ist teilgedämmt und
verfügt über einen Kaltboden. Die Fenster sind doppelt verglast.&lt;/li&gt;
&lt;li&gt;Diese beiden Punkte bedeuten, dass das Haus energetisch große Vorteile
gegenüber einem freistehenden Einfamilienhaus hat.&lt;/li&gt;
&lt;li&gt;Die einzigartige Gestaltung der oberen Front bringt dünnere Wände mit sich.
Beim Schlafzimmer in Kombination mit einer zum Dachfirst geöffneten Decke
geht ein Gutteil der Vorteile aus den ersten beiden Punkten direkt wieder flöten.&lt;/li&gt;
&lt;li&gt;Die im Keller verbaute Gasheizung verantwortet die Warmwasserbereitung über
einen 145l Wassertank und ist Wärmequelle für die Heizung. Die
Warmwasserleitung erstreckt sich aufgrund baulicher Eigenheiten über ca. 15m,
bis sie im Bad ankommt.&lt;/li&gt;
&lt;li&gt;Die Heizung wird über einen Aussentemperaturfühler gesteuert und verfügt über
eine Internet-Anbindung über eine proprietäre App, die einfache Einstellungen
ermöglicht und den Gasverbrauch für Warmwasser und Heizung ausweist.&lt;/li&gt;
&lt;li&gt;Es ist überall (ausser im Keller) Fussbodenheizung in Trockenbauweise verlegt.
Die Raumthermostate zur Steuerung der Stellventile sind einfache Bimetall-Thermometer
(laut Hersteller mit einer Auflösung von ca. 0,5 Grad).&lt;/li&gt;
&lt;li&gt;Das Haus steht dreifach unter Denkmalschutz: Einmal als Teil des
Altstadt-Ensembles der Stadt Wismar, einmal von aussen, und einmal von
innen. Das bedeutet: Das Denkmalschutzamt hat eine innige Beziehung zu dem Haus
und alle nicht rückbaufähigen Baumaßnahmen sind genehmigungspflichtig (bis hin
zur Abgabe von Materialproben der Wandfarbe).&lt;/li&gt;
&lt;li&gt;Die Altstadtlage bedeutet neben baulichen Details wie Verschattung durch die
höheren Nachbarhäuser auch, dass eine Photovoltaikanlage auf dem Dach hohen
bürokratischen Aufwand bei fraglicher Leistung für das Haus mit sich bringen
würde. Der Anbieter für Miet-PV-Anlagen, der alle Werbeplätze in den Bereichen
Energie und Heizungsbau einkauft, hat sich auch entschieden, mich durch Ghosten
darüber in Kenntnis zu setzen, dass sie in einer Beauftragung durch mich eher
ein Risiko als eine Chance sehen.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Aus der Faktenlage ergibt sich: Es ist besonders empfehlenswert, ohne
wesentliche bauliche Maßnahmen und Investitionen erste Einsparungen zu
realisieren, die während der Genehmigungsverfahren und der Wartezeit auf einen
tatsächlichen Umbautermin schon greifen.&lt;/p&gt;
&lt;h1 id=&#34;mein-einstieg-in-die-heizungsoptimierung&#34;&gt;
    &lt;a href=&#34;#mein-einstieg-in-die-heizungsoptimierung&#34;&gt;
	Mein Einstieg in die Heizungsoptimierung
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Die über die App abrufbaren Energieverbrauchswerte gehen um 12 Monate zurück.
Die Werte werden in einfachen Balkendiagrammen dargestellt und sind zunächst
auch nicht exportierbar. Die 12-Monatsgrenze bedeutet auch, dass ich &lt;em&gt;diesen&lt;/em&gt;
Dezember nicht mit dem &lt;em&gt;vorigen&lt;/em&gt; Dezember vergleichen kann. In Wirklichkeit
vergisst die Internetbox die historischen Werte auch gerne mal, zum Beispiel
wenn die Heizungssteuerung abstürzt, oder die Heizung während der Wartung eine
Stunde stromlos geschaltet wird&amp;hellip;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/02/mybuderus-first-look.png&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;mybuderus-first-look.png&#34; alt=&#34;2025/02/mybuderus-first-look.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ein Beispiel-Screenshot der MyBuderus App. In einer Wochenansicht Ende Oktober
werden Tagesverbrauchswerte für die letzten beiden Tage angezeigt, darüber
liegt eine Temperaturkurve. Die Tageswerte liegen bei 6 und 26 kWh, die
Aussentemperatur schwankt im Tagesmittel zwischen 12 und 14 Grad Celsius)&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Da die Heizung von Buderus ist, spricht sie sowohl für die Anbindung von
Erweiterungen wie Funkmodul und Mischer, als auch für die Internetbox, das
Protokoll EMS (genauer EMS+). Genau wie alle anderen Hersteller macht Buderus
um dieses Protokoll ein Geheimnis, aber es gibt zu meinem Glück Leute, die das
Protokoll reverse engineered haben und über ein &lt;a href=&#34;https://emsesp.org&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ESP Modul&lt;/a&gt;


eine Schnittstelle zu Lösungen wie Home Assistant bereitstellen. Weil ich mich
in Sachen Löten und Mikro-Elektronik für &amp;ldquo;zu schlecht für Heizungssachen&amp;rdquo;
halte, kaufe ich eine fertige EMS-ESP Box von
&lt;a href=&#34;https://bbqkees-electronics.nl/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;BBQKees&lt;/a&gt;

.&lt;/p&gt;
&lt;p&gt;Über EMS-ESP bekomme ich anstelle einer ausgewählten Auswahl von Informationen
und Einstellungsmöglichkeiten über einhundert Entities zu meiner Heizung
geliefert, die man teilweise auch schreiben/ändern kann. Ich begnüge mich aber
zunächst damit, den Zustand der Heizung zu beobachten. Änderungen an der Konfiguration
nehme ich weiterhin über die offizielle App vor.&lt;/p&gt;
&lt;p&gt;Der Winter 2022/2023 ist für mich extrem frustrierend. Ich &lt;em&gt;weiss&lt;/em&gt;, dass die
Heizung nicht ideal läuft, und ich kann es wenigstens sehen. Relativ schnell
erkenne ich folgende Unzulänglichkeiten:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Der Aussentemperaturfühler sitzt an einer ungünstigen Stelle. Aus der
denkmalschutzrechtlichen Situation und der Ausrichtung der freistehenden
Hausseiten ergibt sich, dass der Aussentemperaturfühler im Luftschacht zum
Keller sitzt und die gemessenen Temperaturen insbesondere im Winter stark
von den eigentlichen Aussentemperaturen abweichen.&lt;/li&gt;
&lt;li&gt;Das Heizsystem ist auf Auslieferunsgszustand mit Nachtabsenkung auf 16 Grad
und Tagheizung auf 21 Grad gestellt. Das führt mit den naiv auf ca. 20 Grad
eingestellten Raumthermostaten zu kräftigem Temperaturabfall nachts, den die
Heizung am Morgen dann versucht aufzuholen.&lt;/li&gt;
&lt;li&gt;Die Trockenbauweise der Fussbodenheizung hat unter anderem nicht die
Eigenschaft von in Estrich verlegten Heizungen, die Fussbodentemperatur
lange auf hohem Niveau zu halten.&lt;/li&gt;
&lt;li&gt;Die Warmwasserbereitung läuft kontinuierlich und verbraucht ca 12 kWh am Tag.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Ändern kann ich auf Anhieb nur die Punkte 2 und 4:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ich stelle das Heizprogramm auf 19,5 und 19 Grad um. Dadurch sinkt der
Gasverbrauch für das Heizen um ca. 20%, bei deutlich verbessertem
Wärmekomfort.&lt;/li&gt;
&lt;li&gt;Die Warmwassererzeugung beschränke ich auf zwei Zeitfenster morgens und
abends, und senke hier den Verbrauch auf 7-8 kWh am Tag (immer noch viel zu
viel, aber ich nehme erstmal was ich kriegen kann).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/02/taktung.png&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;taktung.png&#34; alt=&#34;2025/02/taktung.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Verlaufskurve der Temperatur im Heizkreislauf über drei Tage. Man erkennt ein
Sägezahnmuster, das auf Taktung hindeutet. Unterstützt wird die Hypothese durch
einen darüberliegenden Balken in dem mit Gelb angezeigt wird, wenn die Heizung
an ist, und mit grau, wenn sie aus ist. In den ersten 60% der Kurve wechselt
dieser Balken regelmässig zwischen grau und gelb. In den letzten 40% ist die
Sägezahnkurve durch eine weitestgehend gerade Linie ersetzt, und der Balken ist
durchgehend gelb&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Mit den neu eingestellten Werten ergibt sich nun ein neues Problem: Die Heizung
fängt an zu &amp;ldquo;takten&amp;rdquo;: Dadurch, dass die Raumthermostate niedrig eingestellt
sind ist die Wärmeanforderung so gering, dass die Heizung sich schnell
abschaltet und dann aber bald wieder einschaltet. Diese hohe Taktung ist einer
der Hauptgründe für vorzeitige Alterung und sollte vermieden werden. Es dauert
einige Zeit bis ich darauf komme, einfach die Raumthermostate weiter
aufzudrehen. Dazu später mehr.&lt;/p&gt;
&lt;p&gt;Und dann ist plötzlich die Heizperiode vorbei. Ich weiß, dass mein
Warmwasserspeicher tagsüber zu viel Temperatur verliert, die Ursache
hierfür ist mir aber noch nicht klar. Auch dazu später mehr.&lt;/p&gt;
&lt;h1 id=&#34;20232024&#34;&gt;
    &lt;a href=&#34;#20232024&#34;&gt;
	2023/2024
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/02/beginn-heizperiode-23.png&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;beginn-heizperiode-23.png&#34; alt=&#34;2025/02/beginn-heizperiode-23.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Im Winter 2023/2024 beginnt die Heizperiode bereits Anfang Oktober. In der
MyBuderus-App sieht man wieder die beginnenden Heiztage, dieses mal bei von 12
auf 9 Grad fallende Aussentemperaturen mit Verbrauchswerten zwischen drei und
15 kWh&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;In diesem Winter versuche ich im Wesentlichen, meine Einstellungen aus dem
vorigen Winter zu validieren. Ich verändere wenig an der Steuerung, aber ich
beginne systematisch, das Haus mit Raumthermometern zu versorgen, um besser zu
verstehen, wann und wo Wärme notwendig ist. Im Januar 2024 kommt dann die
Gasabrechnung für das Jahr 2023 und &amp;hellip; unser Gasverbrauch liegt bei ca. 50%
des angenommenen Durchschnittswertes für ein Haus unserer Größe.
Und die Energiemenge liegt deutlich unter der unserer alten, wesentlich kleineren Mietwohnung in Berlin.&lt;/p&gt;
&lt;p&gt;Ich mache einen ersten Vorstoß hinsichtlich einer Brauchwasserwärmepumpe, da
übers Jahr gesehen die Warmwasserbereitung 20-25% meines Gasverbrauchs
ausmacht. Da aber Heizungsinstallateure sich ihre Projekte aussuchen können,
werde ich bei verschiedenen Anfragen geghostet, weil eine Sonderimmobilie eben
schwieriger ist, als in einer Neubausiedlung Wärmepumpen in Serie zu verbauen.&lt;/p&gt;
&lt;p&gt;Ich lerne aber in Gesprächen mit meinem Schornsteinfeger und dem
Heizungsmenschen, der meine Heizung wartet, dass ich hier in Wismar vermutlich
der einzige bin, der eine historische Datenaufzeichnung über das Verhalten und
den Verbrauch seiner Heizungsanlage hat und auswertet, und daraus bessere
Einstellungen ableitet. Konkret sagt mir ein Heizungsinstallateur etwas
neidisch, dass sie solche Informationen für keine einzige Anlage im Bestand bekommen
können. Ich bin also potentiell ein schwieriger Kunde, weil ich eigene
Vorstellungen und Ideen habe &amp;hellip;&lt;/p&gt;
&lt;p&gt;Im Sommer 2024 versuche ich weiter das Thema Wärmepumpe anzugehen, aber auch
hier verlieren Heizungsinstallateure nach ersten Gesprächen das Interesse und
ghosten mich. Nebenbei erweitere ich meine Home Assistant Views im Versuch,
Zusammenhänge besser zu visualisieren.&lt;/p&gt;
&lt;h1 id=&#34;20242025&#34;&gt;
    &lt;a href=&#34;#20242025&#34;&gt;
	2024/2025
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Nachdem ich zwei Winter lang EMS-ESP und Home Assistant im Wesentlichen zur
Beobachtung des Heizungssystems verwendet habe, mache ich mich nun an weitere
Optimierungen des Heizsystems:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ich schliesse eine Handvoll DS18B20 Temperatursensoren an die (aktualisierte)
EMS-ESP Box an und messe nun Vor- und Rücklauftemperatur an der
hydraulischen Weiche sowie die Trinkwassertemperatur bei Zu- und Abfluss des
Wasserspeichers.&lt;/li&gt;
&lt;li&gt;Da ich sehe, dass das Energie-Reporting der MyBuderus App und von EMS-ESP
weit auseinanderliegen, installiere ich noch einen Hall-Effekt-Zähler am Gaszähler.&lt;/li&gt;
&lt;li&gt;Zunächst korrigiere ich die Einstellung der Zirkulationspumpe, die einfach
auf Maximum steht, anstatt der notwendigen Förderpumpenhöhe entsprechend
eingestellt zu sein. Da die Zirkulationspumpe zusätzlich zur Pumpe im Gasboiler
läuft, kann ich auch die Leistung der internen Pumpe herunterstellen.&lt;/li&gt;
&lt;li&gt;Danach korrigiere ich die Einstellung der Raumthermostate. Da das Haus innen
im Wesentlichen einen offenen Aufbau hat, ist eine raumspezifische Einstellung
der Heizkreisläufe sowieso nicht wirklich möglich. Also stelle ich überall die
Raumthermostate auf Maximum, um einen gleichmässigen Volumenstrom über den
gesamten Heizstrang zu gewährleisten.&lt;/li&gt;
&lt;li&gt;Dann simuliere ich mithilfe von EMS-ESP ein
&lt;a href=&#34;https://docs.emsesp.org/Special-Functions/#remote-thermostats&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Raumthermostat&lt;/a&gt;

,
um die mangelhafte Positionierung des Aussentemperaturfühlers durch
raumtemperaturgeführte Steuerung mit Ausseneinfluss zu kompensieren.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Zum letzten Punkt sei gesagt: Es wäre ein leichtes gewesen, bei der letzten
Sanierung des Hauses ein Raumthermometer mit Anschluss an die Heizung zu
installieren; der EMS Bus funktioniert über ca. 100 Meter Länge. Die
Vorbesitzer haben an dieser Stelle meiner Meinung nach am falschen Ende gespart
und sind vom Heizungsbauer nicht gut beraten worden (das will ich dem
Heizungsbauer nicht vorwerfen, das ist aber eine andere Geschichte).&lt;/p&gt;
&lt;p&gt;Zum Gaszähler eine Anmerkung: Ich habe hier festgestellt, dass die MyBuderus Box
zwischen 10% und 25% zu wenig Verbrauch anzeigt, im Vergleich mit den Werten von
EMS-ESP, die ja aus dem gleichen System kommen. Das begründet sich darin, dass
die MyBuderus Box nur alle 90 Sekunden den Mittelwert des Boilers abfragt, und
EMS-ESP alle 20 Sekunden. Kurze Spitzen glättet die MyBuderus Box also weg. Der
Gaszähler hingegen scheint bis zu 10% &lt;em&gt;zuviel&lt;/em&gt; Kubikmeter zu zählen; vermutlich
weil bei bestimmten Stellgraden des Magneten am Zähler zum Hall-Effect-Sensor
kein Debounce stattfindet. Ich mache also zusätzlich noch jeden Monat ein Foto
vom Zähler &amp;hellip;&lt;/p&gt;
&lt;p&gt;In dieser Zeit beginne ich, meine Heizungserfahrungen im Fediverse zu verbloggen
(zu Finden mit einer Suche nach &lt;code&gt;from:oliof@social.treehouse.systems #heizung&lt;/code&gt;),
was mit einigem Interesse aufgenommen wird. Dieser und folgende Artikel sollen
die Inhalte zur einfacheren Referenzierung nochmal in aufgearbeiteter Form
wiedergeben.&lt;/p&gt;
&lt;p&gt;Ausserdem lese ich einschlägige Foren wie haustechnikdialog und heizungsforum
(keine Links gesetzt, findet ihr selbst) quer, der Ton dort ist mir aber zu
rau, als dass ich mich direkt einbringen wollen würde. Aus diesen Foren und
den Unterhaltungen zu meinen Posts lerne ich unter anderem zu Volumenstrom,
voll geöffneten Heizthermostaten, Heizkurve, alternativen Steuerungsansätzen
wie der Bajorath-Steuerung, und mein Verständnis dessen was ich tue entwickelt
sich von steuern, beobachten, messen, nachsteuern, zu gezielteren Experimenten.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/02/ha-panel.png&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;ha-panel.png&#34; alt=&#34;2025/02/ha-panel.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ein komplexes Panel aus HomeAssistant, das viele verschiedene Heizungswerte
und Diagramme zeigt: Aktuelle Einstellung des Thermostats, Raumtemperaturen,
Raumeinfluss auf die Vorlauftemperatur, Warmwassertemperatur, Betriebszustände
von Boiler, Warmwasserbereitung, Aussentemperaturkurven,
Heizkreislauftemperaturauswertung, und vieles mehr. Dieses Panel braucht seine
eigene Artikelserie &amp;hellip;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Ich schaue mir auch andere Optionen zur Heizungssteuerung an, zum Beispiel
&lt;a href=&#34;https://github.com/Alexwijn/SAT&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Smart Autotune Thermostat&lt;/a&gt;

, das eine bessere
Steuerung für &lt;a href=&#34;https://opentherm.eu&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Opentherm&lt;/a&gt;

 basierte Heizungen insbesondere
bei niedriger Heizlast liefert. Denn das ist bei mir ein Problem: Bei den
mittleren Temperaturen (6-10 Grad) läuft die Heizung zwar auf niedrigster
Modulation, damit wird aber immer noch zuviel Wärme produziert, also zuviel Gas
verbrannt.. Zu dieser Zeit wird SAT Version 4.0 veröffentlicht, dass auch die
Steuerung von EMS basierten Heizungen in einer ersten Fassung unterstützt.
Allerdings müsste ich dafür das RC310 meiner Gasheizung abklemmen, da die
EMS-Boiler anders als OpenTherm-Heizungen nicht so funktionieren, dass man ein
anderes Thermostat als Hauptsteuerung anmelden kann.&lt;/p&gt;
&lt;p&gt;Was ich aber durch die Auseinandersetzung mit SAT lerne: Meine Raumthermometer
sind zu träge für effektive Heizungssteuerung und ich ersetze die stabil
funktionierenden, aber langsam aktualisierenden Sonoff
&lt;a href=&#34;https://www.amazon.de/dp/B0BZCV658S&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;SNZB-02D&lt;/a&gt;

 im Referenzraum durch
&lt;a href=&#34;https://blakadder.com/xiaomi-mho-c401-zigbee/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;MHO-C401&lt;/a&gt;

 &amp;ndash; die sprechen mit
einer &lt;a href=&#34;https://pvvx.github.io/MHO_C401/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;alternativen Firmware&lt;/a&gt;

 BTHome oder
Zigbee und aktualisieren häufiger als einmal pro Minute.&lt;/p&gt;
&lt;p&gt;Als Alternative zu SAT zur Kompensation des hohen Verbrauchs bei Niedriglast
implementiere ich in Home Assistant eine &lt;a href=&#34;https://docs.emsesp.org/tips-and-tricks/#low-load-optimisation-of-a-buderus-gb172-gas-boiler&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;einfache
Zweipunktsteuerung&lt;/a&gt;

,
um die Heizung bei Erreichen der Raumtemperatur abzuschalten, und bei
Unterschreiten der Raumtemperatur wieder einzuschalten. Dadurch spare ich bei
den Mitteltemperaturen zwischen 30 und 50 Prozent Heizenergie, und selbst bei den
Tiefsttemperaturen in diesem Winter kommen noch 10% Abschaltzeiten dazu. Ob
diese allerdings tatsächlich Energie-Einsparungen in entsprechender Höhe
bedeuten, oder die Heizung in anderen Zeiten gegen heizen muss, sei
dahingestellt.&lt;/p&gt;
&lt;p&gt;Mit den niedrigen Energieverbrauchszahlen für die Heizung drängt sich nun das
Thema Warmwasserbereitung in den Vordergrund. Ich beobachte weiterhin 1,2 Grad
Verlust der Wärme im Wasserspeicher pro Stunde. Wenn ich die
Zirkulationsleitung sperre, fällt der Wärmeverlust auf eher den Umständen
entsprechende Wärmeverluste von 0,4 Grad pro Stunde.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2025/02/wwwverlust.png&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;wwwverlust.png&#34; alt=&#34;2025/02/wwwverlust.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ein Temperaturgraph, der einen stetigen Temperaturverlust anzeigt: Erst steil,
dann weniger steil, dann wieder steil. Zum Zeitpunkt des weniger steilen
Temperaturverlusts war die Zirkulationsleitung gesperrt.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Hier offenbart sich der Nachteil der EMS-ESP Lösung &amp;ndash; viele der Werte sind
nicht gut dokumentiert. Ich brauche mehrere Anläufe bis ich wirklich die
Entität finde, mit der ich den Betrieb der Zirkulationspumpe effektiv
unterbinden kann. Um Legionellenbildung in der Zirkulationsleitung zu
vermeiden, läuft die Warmwasserzirkulation nun jedes Mal einmal, wenn die
Warmwasseraufbereitung läuft, sobald die Zieltemperatur erreicht wird. Damit
reduziere ich den Kaltwasservorlauf von ca 10l auf im Mittel 5. Ich tausche
effektiv 10% Gesamtjahresenergieaufwand gegen 3% mehr Wasserverbrauch.&lt;/p&gt;
&lt;h1 id=&#34;vorläufiges-fazit&#34;&gt;
    &lt;a href=&#34;#vorl%c3%a4ufiges-fazit&#34;&gt;
	Vorläufiges Fazit
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Meine Umwege und Lerngeschenke mal aussen vor gelassen, habe ich mit einem
mittelgut gedämmten Haus und einer nicht ganz so alten Bestandsanlage mit Hilfe
von angekoppelter Visualisuerung und ein paar Digitalthermometern eine
Optimierung meiner Heizung hinbekommen, die gegenüber den Einstellungen bei
Übernahme des Gebäudes bei fast gleichbleibendem (teilweise verbessertem)
Komfort ca. 50% des Energieverbrauchs fürs Heizen einspart. Das ist natürlich
gut, aber es legt die Meßlatte für die Zukunft entsprechend hoch.&lt;/p&gt;
&lt;p&gt;Es sei noch angemerkt, dass unterschiedliche bauliche Eigenschaften,
persönliches Behaglichkeitsempfinden, Möglichkeiten baulicher Anpassungen, etc.
absolut dazu führen werden, dass Dritte sich meine Beschreibung durchlesen, und
wenig bis nichts von meinen Maßnahmen direkt anwendbar ist. Wichtig ist aber
die Methodik:&lt;/p&gt;
&lt;p&gt;a) Messen&lt;br&gt;
b) Grösste Verbrauchsmomente identifizieren&lt;br&gt;
c) Diese Verbrauchsmomente eliminieren oder reduzieren&lt;br&gt;
d) Messen&lt;br&gt;
e) Eigenes Verhalten überprüfen und anpassen&lt;br&gt;
f) Messen&lt;/p&gt;
&lt;p&gt;Die Messbarkeit und Vergleichbarkeit mit vorherigen Einstellungen ist bei einem
trägen System wie der Heizung extrem wichtig, um die Wirksamkeit über ein
persönliches Bauchgefühl hinaus nachweisen zu können. Im folgenden Bild zum
Beispiel kann man den Effekt zweier warmer Körper und eines grossen
Flachbildschirms auf die Raumtemperatur sehen &amp;ndash; die Raumtemperatur geht um
0.25 Grad nach oben. Ist ja auch kein Wunder, schliesslich entspricht die
Wärmeentwicklung dieser drei Dinge in etwa 20% des Wärmebedarfs des fraglichen
Raumes &amp;hellip;&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;humanheating.png&#34; alt=&#34;2025/02/humanheating.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ausschnitt aus einer Temperaturkurve, die in kurzer Zeit einen steilen Anstieg
der gemessenen Temperatur verzeichnet.&lt;/em&gt;&lt;/p&gt;
&lt;h1 id=&#34;2025-und-später&#34;&gt;
    &lt;a href=&#34;#2025-und-sp%c3%a4ter&#34;&gt;
	2025 und später
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Ich habe endlich einen Heizungsinstallateur, der das Wärmepumpenprojekt mit mir
ernsthaft vorantreibt. Im Moment ist hier noch die Bauplanung und die
Genehmigung durch das Denkmalschutzamt anhängig, wir werden sehen, was daraus
wird.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Keine Windkraft zu Hause</title>
      <link>https://blog.koehntopp.info/2024/12/20/keine-windkraft-zu-hause/</link>
      <pubDate>Fri, 20 Dec 2024 04:05:06 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2024/12/20/keine-windkraft-zu-hause/</guid>
      <description>&lt;p&gt;Auf Mastodon hieß es als Antwort auf einen Heim-Solar-Artikel:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Es fehlt irgendwie die haushaltstaugliche Windkraftanlage.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Die kann es nicht geben.
Mehrere physikalische Grundlagen sprechen gegen so etwas:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bebaute Flächen und raue Untergründe zerstören den laminaren Flow des Windes.
In Wohngebieten weht der Wind instabil, stoßweise und aus wechselnden Richtungen.&lt;/li&gt;
&lt;li&gt;Generell muss man in mindestens 100 Meter Höhe über dem Boden arbeiten, in der &lt;a href=&#34;https://de.wikipedia.org/wiki/Ekman-Schicht&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Ekman-Schicht&lt;/a&gt;

.
Dies gilt idealerweise für die Untergrenze des Rotorblattes.&lt;/li&gt;
&lt;li&gt;Die Fläche eines Windrades steigt quadratisch mit dem Rotordurchmesser an.
Der Windenergie-Ertrag steigt mit
&lt;a href=&#34;https://energiewende.eu/warum-werden-windraeder-immer-groesser/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;der dritten Potenz der Windgeschwindigkeit&lt;/a&gt;


an (die in der Ekman-Schicht stabil und gleichmäßig hoch ist).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Das heißt, ein sinnvolles Windrad ist groß, steht &amp;ldquo;weit draußen&amp;rdquo; in der Fläche und ragt weit in den Bereich 100 m –
1000 m Höhe störungsfreier laminarer Strömung hinein.
Das wird nie in Wohngebieten sein.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;windkraft-zu-haus-01.png&#34; alt=&#34;2024/12/windkraft-zu-haus-01.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;Es gibt immer mal Ideen für &amp;ldquo;Windräder, die mit Wind aus wechselnden Richtungen&amp;rdquo; klar kommen,
aber die Instabilität bodennaher Winde ist nur der kleinere Teil des Problems.
Die Energie, die man ab-ernten will, ist in bodennahen und verwirbelten Schichten nicht vorhanden.
Man muß nach oben in die stabilen laminaren Schichten, um die Energie da heraus zu holen.&lt;/p&gt;
&lt;p&gt;Die Folge ist:
Zwar ist die Summe von Wind- und Sonnenenergie-Ertrag im Jahr in unseren Breiten im Mittel ungefähr konstant,
aber Du kannst Windstrom nicht autonom daheim erzeugen.&lt;/p&gt;
&lt;p&gt;Das heisst, Du wirst vier Monate im Jahr Strom aus dem Netz beziehen.&lt;/p&gt;
&lt;p&gt;Das heißt auch, dass wir Wind und Sonnenenergie balanciert ausbauen müssen.
Ein einziger Ausbau wird nicht funktionieren.&lt;/p&gt;
&lt;p&gt;Und weil der Ertrag nur ein Teil der Nennleistung ist, werden wir außerdem überbauen müssen, ggf. um den Faktor 2-3.
Das heisst, dass wir an ertragreichen Tagen einen Stromüberschuss haben werden –
und entweder abregeln oder Wasser elektrolysieren werden, auch wenn das ineffizient ist.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Windows abschalten</title>
      <link>https://blog.koehntopp.info/2024/11/26/windows-abschalten/</link>
      <pubDate>Tue, 26 Nov 2024 04:05:06 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2024/11/26/windows-abschalten/</guid>
      <description>&lt;h1 id=&#34;an&#34;&gt;
    &lt;a href=&#34;#an&#34;&gt;
	An
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Ich kann meinen Windows-Rechner anschalten.
Also ohne hin zu gehen:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;$&lt;/span&gt; cat bin/wake-steam
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;#&lt;/span&gt;! /bin/sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;wakeonlan 70:8b:cd:4f:4d:5e
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;und dann geht er an, loggt sich ein, startet Steam und ich kann mich von einem richtigen Computer aus mit Stream verbinden.&lt;/p&gt;
&lt;h1 id=&#34;aus&#34;&gt;
    &lt;a href=&#34;#aus&#34;&gt;
	Aus
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Ich will den Spielerechner auch abschalten.
Ich könnte warten.
Dann geht er nach 30 Minuten idle aus.
Aber das sind 30 Minuten 80 Watt für nix.&lt;/p&gt;
&lt;p&gt;Man kann einem Windows auf der Kommandozeile sagen, daß es ritellen Selbstmord begehen soll:
&lt;a href=&#34;https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/shutdown&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Shutdown Command&lt;/a&gt;

&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;C:\Users\Admin&amp;gt; shutdown /s /f /t 0&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Ich kann also OpenSSH auf dem Windows installieren, mich remote auf der Kiste anmelden und das Kommando ausführen.&lt;/p&gt;
&lt;p&gt;Oder gleich ganz remote:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;$&lt;/span&gt; ssh Admin@rtx.local &lt;span class=&#34;s2&#34;&gt;&amp;#34;shutdown /s /f /t 0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;Password:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Das Paßwort stört.&lt;/p&gt;
&lt;h1 id=&#34;passwordless-ssh-for-admininstrators&#34;&gt;
    &lt;a href=&#34;#passwordless-ssh-for-admininstrators&#34;&gt;
	Passwordless &lt;code&gt;ssh&lt;/code&gt; for &lt;code&gt;Admininstrators&lt;/code&gt;
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;&lt;strong&gt;HINWEIS:&lt;/strong&gt; Die folgenden Instruktionen sind für Windows 11. In Windows 10 ist das nicht so.&lt;/p&gt;
&lt;p&gt;Macht ja nix, ich kann ja meinen Key installieren:
&lt;a href=&#34;https://learn.microsoft.com/en-us/windows-server/administration/openssh/openssh_keymanagement&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Key-based authentication in OpenSSH for Windows&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;Für Standard-User:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The contents of your public key (&lt;code&gt;\.ssh\id_ecdsa.pub&lt;/code&gt;)
needs to be placed on the server into a text file called &lt;code&gt;authorized_keys&lt;/code&gt; in &lt;code&gt;C:\Users\username\.ssh\&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Aber: Das funktioniert nicht, wenn der User Mitglied in der &lt;code&gt;Administrators&lt;/code&gt; Group ist.
Dann ist es so:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The contents of your public key (&lt;code&gt;\.ssh\id_ecdsa.pub&lt;/code&gt;)
needs to be placed on the server into a text file called &lt;code&gt;administrators_authorized_keys&lt;/code&gt; in &lt;code&gt;C:\ProgramData\ssh\&lt;/code&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Beachte, dass das nicht per User ist, sondern Shared für alle User, die in &lt;code&gt;Administrators&lt;/code&gt; sind.&lt;/p&gt;
&lt;p&gt;Nun gut, ist ja eine Personal Workstation, gibt also nur einen User und der ist immer Administrator, also muß das immer nach da und nie nach &lt;code&gt;%HOME%\.ssh&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;#&lt;/span&gt; Get the public key file generated previously on your client
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;authorizedKey&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; Get-Content -Path &lt;span class=&#34;nv&#34;&gt;$env&lt;/span&gt;:USERPROFILE&lt;span class=&#34;se&#34;&gt;\.&lt;/span&gt;ssh&lt;span class=&#34;se&#34;&gt;\i&lt;/span&gt;d_ecdsa.pub
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;#&lt;/span&gt; Generate the PowerShell to be run remote that will copy the public key file generated previously on your client to the authorized_keys file on your server
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;remotePowershell&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;powershell Add-Content -Force -Path &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$env&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;:ProgramData\ssh\administrators_authorized_keys -Value &amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$authorizedKey&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#39;&amp;#39;&amp;#39;;icacls.exe &amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$env&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;:ProgramData\ssh\administrators_authorized_keys&amp;#34;&amp;#34; /inheritance:r /grant &amp;#34;&amp;#34;Administrators:F&amp;#34;&amp;#34; /grant &amp;#34;&amp;#34;SYSTEM:F&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;#&lt;/span&gt; Connect to your server and run the PowerShell using the &lt;span class=&#34;nv&#34;&gt;$remotePowerShell&lt;/span&gt; variable
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;ssh username@domain1@contoso.com $remotePowershell
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;localization&#34;&gt;
    &lt;a href=&#34;#localization&#34;&gt;
	Localization
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Und dann, damit alle, alles zerbricht:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;For non-English localized versions of the operating system, the script will need to be modified to reflect group names accordingly. 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Mein Windows ist English, also geht es, aber die armen Würste, die Windows scripten müssen.&lt;/p&gt;
&lt;p&gt;Aber nein:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;$&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;remotePowershell&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;powershell Add-Content -Force -Path &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$env&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;:ProgramData\ssh\administrators_authorized_keys -Value &amp;#39;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$authorizedKey&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#39;&amp;#39;&amp;#39;;icacls.exe &amp;#34;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$env&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;:ProgramData\ssh\administrators_authorized_keys&amp;#34;&amp;#34; /inheritance:r /grant &amp;#34;&amp;#34;*S-1-5-32-544:F&amp;#34;&amp;#34; /grant &amp;#34;&amp;#34;SYSTEM:F&amp;#34;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Und bei Microsoft wundern sich hochbezahlte Marketingmenschen wieso Linux die Welt erobert hat.&lt;/p&gt;
&lt;h1 id=&#34;andere-methoden&#34;&gt;
    &lt;a href=&#34;#andere-methoden&#34;&gt;
	Andere Methoden
    &lt;/a&gt;
&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://superuser.com/questions/1746456/windows-11-net-rpc-shutdown&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Samba: NET RPC SHUTDOWN -f -I 192.168.0.147 -U user%password&lt;/a&gt;


File and Printer Sharing must be enabled in &lt;code&gt;Settings &amp;gt; Network &amp;amp; Internet &amp;gt; Status &amp;gt; Network and Sharing Centre &amp;gt; Change advanced sharing settings&lt;/code&gt;.
The firewall must allow File and Printer Sharing through in &lt;code&gt;Start &amp;gt; Windows Defender Firewall with Advanced Security &amp;gt; Inbound Rules&lt;/code&gt;. All of them.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/brann0n/SleepOnLan&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;SleepOnLAN&lt;/a&gt;

&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Cloud Cost vs. On-Premises Cost</title>
      <link>https://blog.koehntopp.info/2024/09/30/cloud-cost-vs-on-premises-cost/</link>
      <pubDate>Mon, 30 Sep 2024 04:05:06 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2024/09/30/cloud-cost-vs-on-premises-cost/</guid>
      <description>&lt;p&gt;Ich wurde gefragt:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Hast Du eine Idee, wie ich seriös die Kosten für Cloud, reguläres und selbst Hosting vergleichen kann?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Seriös nicht, weil das ein Problem mit mehreren Schichten ist und keine dieser Schichten irgendwie schön ist.&lt;/p&gt;
&lt;h1 id=&#34;rahmenbedingungen&#34;&gt;
    &lt;a href=&#34;#rahmenbedingungen&#34;&gt;
	Rahmenbedingungen
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Der Haupttreiber bei der ganzen Sache ist die simple Tatsache, dass wir immer mehr Transistoren auf einen Chip bekommen.
Der Chip wird zwar nicht mehr schneller, weil bei circa 3 GHz Takt Dauerleistung Schluss ist,
aber weil die Strukturen immer noch kleiner werden bekommen wir immer mehr Cores und Cache.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;01-cloud-on-prem.png&#34; alt=&#34;2024/09/01-cloud-on-prem.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Fortschritte bei der Chipentwicklung über Zeit.
Die y-Ache ist logarithmisch. Wir sehen, wie die Anzahl der Transistoren pro Chip ungebrochen hoch geht.
Circa 2005 haben wir jedoch ein Taktlimit erreicht – bei 3 GHz Dauertakt ist bei Silizium Schluss.
Die Performance pro Core geht noch durch Verlagerung gewisser Funktionen in Hardware
und effizientere Prozessor-Architekturen langsam weiter hoch.
Stattdessen steigt seit 2005 die Anzahl der Cores pro Chip an – die
Gewinne an Transistoren gehen also an mehr Cores, nicht in schnellere Cores.
Zugleich sinkt der Energieverbrauch pro Core, während der Energieverbrauch pro Chip bei 100-200W stagniert.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Und oft auch Features, die die meiste Zeit gar nicht gebraucht werden,
sodass Teile des Chips die meiste Zeit ausgeschaltet sind, um Energie zu sparen.
Denn Energieverbrauch erzeugt Abwärme, und die Abwärme setzt dem Chip ein (weiches) Leistungslimit.
Wenn wir also Dinge, die viel Energie verbrauchen (die FPU und die Vektoreinheiten) nicht verwenden,
dann können wir den Takt bei dem Teil des Chips, der benutzt wird hochdrehen,
und bekommen so ein wenig mehr Leistung für viel mehr Energieverbrauch und Abwärme.&lt;/p&gt;
&lt;p&gt;Prozessoren von 2024 haben auf einem Chip bis zu 128 oder gar 192 Cores und die doppelte Anzahl von vCores (Threads).&lt;/p&gt;
&lt;h1 id=&#34;hardwarekosten&#34;&gt;
    &lt;a href=&#34;#hardwarekosten&#34;&gt;
	Hardwarekosten
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Gehen wir 5 Jahre zurück, kommen wir zu konkreten Kosten.&lt;/p&gt;
&lt;p&gt;Die kleinsten sinnvoll kaufbaren Intel Xeon CPUs von 2019 wären die
&lt;a href=&#34;https://www.intel.com/content/www/us/en/products/sku/123547/intel-xeon-silver-4110-processor-11m-cache-2-10-ghz/specifications.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Xeon Silver 4110&lt;/a&gt;


gewesen.
Auf einer typischen Blade von Dell oder HP gibt uns das 2 Sockets, 16 Cores mit 32 Hyperthreads,
128 GB RAM (8 GB RAM pro Core), eine lokale Micron 1.92 TB NVME mit 800k IOPS,
und einen dedizierten 10 GBit/s Port direkt zum Top-of-Rack Switch (luxuriöse 625 MBit/s pro Core).&lt;/p&gt;
&lt;p&gt;Was ist das für eine Rechnung?&lt;/p&gt;
&lt;p&gt;Ein System muss, damit es funktioniert, balanciert sein.
Manche Workloads sind selbst unbalanciert und brauchen exzessiv CPU oder exzessiv Speicher oder Netz.
Aber die meisten Enterprise-Anwendungen brauchen pro Core mit 3 GHz 4-8 GB RAM und 100-400 MBit/s Netz.
Wenn wir unsere Hardware so proportionieren, dann können wir recht sicher sein, dass sie vielseitig einsetzbar ist.&lt;/p&gt;
&lt;p&gt;Preislich kommen wir (die Umgebung, in der ich gearbeitet habe – Eure Preise können variieren)
mit solchen schwachbrüstigen Klein-Blades auf Kosten von etwa 120-150 Euro im Monat,
für eine geplante Lebensdauer von fünf Jahren. Das ist der Kaufpreis für die Blade,
Platz im Rechenzentrum und anteilig Strom, Netzwerk und Blade-Chassis.&lt;/p&gt;
&lt;p&gt;Die Blade ist dann noch nicht inventarisiert, noch nicht an,
nichts installiert ein Betriebssystem oder die Anwendung – das ist Arbeit, und die rechnen wir hier nicht mit rein.&lt;/p&gt;
&lt;h1 id=&#34;aws-kosten-im-vergleich&#34;&gt;
    &lt;a href=&#34;#aws-kosten-im-vergleich&#34;&gt;
	AWS Kosten im Vergleich
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Wir können das mit einer AWS &lt;code&gt;m5.8xl&lt;/code&gt; vergleichen: 32 vCPU, 128 GB, 10 GBit/s und kein lokaler Speicher (EBS kostet extra).
Die kostet 1232 USD/Monat, also schmale 10x mehr, plus Netzwerk, plus EBS.&lt;/p&gt;
&lt;p&gt;Alternativ schauen wir auf eine AWS &lt;code&gt;i3.4xl&lt;/code&gt;: 16 vCPU, 122 GB Speicher, und zwei lokale 1.92 TB NVME,
sowie ein 10 GBit/s Link.
Die kostet 990 USD/Monat, plus Netz, aber wir haben zwei lokale Volumes.&lt;/p&gt;
&lt;p&gt;Anders als unsere Blade im Rechenzentrum ist diese VM bereits Teil einer gemanagten Umgebung,
wir können sie also provisionieren, und haben sie im Inventory.&lt;/p&gt;
&lt;p&gt;Anders als unsere Blade im Rechenzentrum ist diese VM auch eine VM, also ein Teil einer anderen, größeren CPU.
Die Silver 4110 ist eine weiche CPU: &lt;a href=&#34;https://en.wikichip.org/wiki/intel/xeon_silver/4110#Frequencies&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Unter Last geht ihr Takt runter&lt;/a&gt;

.
Größere CPUs sind je nach Auswahl auch oft härter,
sie kommen (zumindest bei &lt;code&gt;Normal&lt;/code&gt; Workloads) oft mit viel weniger Taktverlust.
Einige Hyperscaler, speziell AWS, lassen bei Intel besondere Typen nach Maß fertigen,
die nicht im normalen Portfolio für gewöhnliche Endkunden enthalten sind.
Sie haben einen festen Clock, also weder boosten sie, noch gehen sie unter Last runter,
und sie brauchen eine speziell gestaltete und genau spezifizierte Kühlung um das leisten.
Wenn man als einziger Kunde etwa die Hälfte der gesamten Jahresproduktion Xeons abnimmt bekommt man das.&lt;/p&gt;
&lt;h1 id=&#34;cloud-vs-baremetal-on-premises&#34;&gt;
    &lt;a href=&#34;#cloud-vs-baremetal-on-premises&#34;&gt;
	Cloud vs. Baremetal On-Premises
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Ein früherer Arbeitgeber von mir hatte circa 50.000 von solchen Blades.
Die meisten davon waren die kleinen 4110, und einige größere Einheiten mit &lt;a href=&#34;https://ark.intel.com/content/www/us/en/ark/products/123541/intel-xeon-gold-6132-processor-19-25m-cache-2-60-ghz.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Dual Gold 6132&lt;/a&gt;

 an drei Standorten.
In Summe mag das auf etwa 1.000.000 Cores kommen, und dazu passend ausbalanciert Speicher.&lt;/p&gt;
&lt;p&gt;Bei diesem Arbeitgeber hat man um 2010 herum angefangen, Software zu schreiben, um diese Hardware zu verwalten,
automatisch zu provisionieren und Betriebssystem-Images und Anwendungen automatisch zu verteilen.
Ich kann mir also ein Script schreiben, das 200 Blades vom Typ x in RZ y anfordert.
Ich bekomme diese dann binnen 20 Minuten automatisch provisioniert, meiner Team-Abrechnung belastet,
und mit Partitionierung, Betriebssystem und Puppet-Klassen laufend zugewiesen.
Die ssh-Keys meines Teams erlauben mir einen Zugriff.&lt;/p&gt;
&lt;p&gt;In 2019 waren wir soweit, dass kein Rechner eine Uptime von mehr als 90 Tagen hatte.
Das heißt, alle Teams hatten ihre Software so verpackt,
dass sie vollkommen ohne manuelle Eingriffe installiert werden konnte,
keine Single Points of Failures existierten und alle produktiven Maschinen reihum reinstalliert werden konnten.
Dadurch haben wir Betriebssystem-Images und Anwendungen laufend neu deployed und aktuell gehalten.&lt;/p&gt;
&lt;p&gt;Automatisierung hat natürlich auch vorher schon funktioniert,
aber für die Vollautomatisierung war Arbeit und Druck notwendig.
Ich habe in
&lt;a href=&#34;https://blog.koehntopp.info/2023/02/18/this-is-not-a-drill/&#34;&gt;This is not a Drill, this is just Tuesday&lt;/a&gt;


ausführlicher dazu geschreiben.&lt;/p&gt;
&lt;p&gt;Jedenfalls war viel Arbeit und es waren viele Leute notwendig,
denn ein Produkt, das so etwas für die lokale Firma passend auf Bare Metal Hardware macht, kann man nicht kaufen,
und schon gar nicht herstellerunabhängig.
Man muss also auf die Kosten für Hardware noch die Kosten für die Entwicklung dieser Stücke Software drauf rechnen.&lt;/p&gt;
&lt;p&gt;Am Ende hat sich dieser Arbeitgeber dafür entscheiden, seine Installation in die Cloud zu verschieben,
weil Operations dann jemand anderes Problem sind.
Das geht natürlich nicht von heute auf morgen,
Und soweit ich weiß, betreibt man auch jetzt, 5 Jahre später,
noch on-premises und Cloud parallel, und bezahlt beides.&lt;/p&gt;
&lt;p&gt;Würde das Projekt abgeschlossen sein, wäre man theoretisch nicht nur das Core.Infrastructure Team los,
sondern auch das Staffing für dieses Team.
Denn Menschen zu finden,
die mit Hardware umgehen können und einen sinnvollen Operations Mindset haben wird zunehmend schwieriger.
Entsprechend war das für das Management ein totaler No-Brainer, selbst bei einem Kostenfaktor von 10x.&lt;/p&gt;
&lt;p&gt;Der Aufwand, solche Personen zu finden, zu halten und so zu steuern,
dass sie dann sinnvolle Automation bauen, ist groß.
Das sind nicht nur Geldkosten, sondern schlimmer, das ist auch kognitive Load auf der Organisation.&lt;/p&gt;
&lt;h1 id=&#34;es-wird-nicht-einfacher&#34;&gt;
    &lt;a href=&#34;#es-wird-nicht-einfacher&#34;&gt;
	Es wird nicht einfacher
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Allgemeiner gesagt:
Damit Du in 2024 eine Firma haben kannst, die eigene Hardware am Start hat,
muss Deine Firma erst einmal eine Mindestgröße haben.&lt;/p&gt;
&lt;p&gt;Idealerweise kauft man aus Kostengründen immer die zweitgrößte Sorte Rechner, die zu haben ist.
Man kann das genau ausrechnen und dann ist es manchmal die zweitgrößte und manchmal die drittgrößte Sorte CPU,
die hergestellt wird, bei der der Bumms pro Dollar am besten ist.&lt;/p&gt;
&lt;p&gt;Das heißt, man hat dann etwas mit – sagen wir – 128 Cores pro Socket und Single Socket.
Bei 8 GB pro Core und 100-300 MBit/s pro Core landen wir bei
128 * 8 GB = 1024 GB = 1 TB RAM und bei 128 * 200 Mbit/s = 25600 MBit/s = 25 GBit/s.
Bei einer Dual Socket entsprechend das Doppelte,
also 2 TB RAM und 2x 25 GBit/s oder schlicht ein 100 GBit/s Interface (überprovisioniert, aber eventuell einfacher).&lt;/p&gt;
&lt;p&gt;Die typische Java-Anwendung kann man in der Regel so bis 8 Cores und 16 GB RAM skalieren,
danach haucht die JVM ihr Leben aus.
Wir haben also 16-32 Instanzen (Anwendungen) pro Socket.
Die meisten werden nicht am oberen Ende der Skala sein, also rechnen wir eher 50-100 Anwendungen pro Socket.&lt;/p&gt;
&lt;p&gt;Für viele Firmen ist also eine einzige Maschine schon zu groß.
Wir wollen aber aus Gründen der Verfügbarkeit nicht eine Maschine haben, sondern mindestens drei.&lt;/p&gt;
&lt;p&gt;Wenn eine solche Maschine aus welchen Gründen umfällt oder neu starten muss,
dann sind mal eben 100 Anwendungen offline – wir haben also ein Blast Radius Problem.&lt;/p&gt;
&lt;p&gt;Wir können dagegen in der Public Cloud VMs in der passenden Größe kaufen,
und weil der Cloud-Anbieter viele solcher Maschinen hat, wird jede unserer VMs &amp;ldquo;anti-affin&amp;rdquo; scheduled.
Das heißt, der Cloud-Anbieter versucht unsere Anwendungen über so viele Stücke Hardware als möglich zu verteilen,
und uns mit so vielen anderen Kunden als möglich auf einer Kiste zu hosten.
Wenn dann ein Stück Hardware umfällt, verliert jeder Kunde eine Instanz, aber nicht ein Kunde alle.&lt;/p&gt;
&lt;h1 id=&#34;on-premises-ist-auch-nicht-unabhängig&#34;&gt;
    &lt;a href=&#34;#on-premises-ist-auch-nicht-unabh%c3%a4ngig&#34;&gt;
	On-Premises ist auch nicht unabhängig
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Zurück On-Premises: Wir müssen jetzt aus unserer Hardware Stücke in passender Größe schneiden,
um sie in Pods oder virtuelle Maschinen zu verwandeln.
Für virtuelle Maschinen haben wir die Wahl zwischen VMware und Openstack.
Es gibt noch andere Lösungen, aber für die finden wir in der Regel keine Menschen mit Kenntnissen zur Anstellung.
Wir haben also die Wahl zwischen lebenslanger Schuldknechtschaft zu Broadcom,
oder wir müssen 3 oder mehr Spezialisten einstellen, die dem Openstack hinterher wischen,
wenn es mal wieder die Windel voll gemacht hat.&lt;/p&gt;
&lt;p&gt;Nun können wir VMs provisionieren, aber wir müssen aus den VMs noch immer Dienste machen.
Dort wiederholt sich das Spiel von der VM-Ebene.
Am Ende haben wir eine unserer Firmengröße angemesene &amp;ldquo;Core Infra&amp;rdquo; Abteilung, die unsere On-Prem Cloud betreibt.
Das sind dann vielleicht keine 50.000 Maschinen mit zusammen 1.000.000 Cores mehr,
sondern nur noch 8000 Maschinen mit 1.000.000 Cores, aber es sind trotzdem 10-30 Leute, die dafür da sind,
darauf Services zu implementieren.&lt;/p&gt;
&lt;p&gt;Wir haben also die Wahl, erschreckend kostengünstige Hardware, die viel zu groß für alles ist, zu kaufen.
Dann müssen wir Leute finden und anzustellen.
Diese sind dann vielleicht in der Lage (oder vielleicht auch nicht), daraus eine brauchbare Plattform zu bauen.&lt;/p&gt;
&lt;p&gt;Alternativ können wir dem Bezos Kohle in den Rachen schaufeln.&lt;/p&gt;
&lt;p&gt;Die Antwort ist für wirklich jede Firma mit weniger als einer dreistelligen Anzahl von Rechnern absolut offensichtlich,
und besteht nicht darin, Hardware zu kaufen.
Das Staffing, die lokale Betriebs-Entwicklung und alles, was damit einhergeht, will sich niemand ans Bein binden.
Sobald man dann größer ist, ist es teuer, aber zu spät.&lt;/p&gt;
&lt;p&gt;Folgerichtig findet man auch immer weniger Leute, die sich mit solchem lokalen Betrieb auskennen,
und Dir so etwas bauen können.
Dagegen kannst Du Dich mit Leuten tot werfen, die Dir Instanzen bei AWS klicken und für 60k-75k im Jahr zu Dir kommen.&lt;/p&gt;
&lt;h1 id=&#34;die-ganze-logik-kaskade&#34;&gt;
    &lt;a href=&#34;#die-ganze-logik-kaskade&#34;&gt;
	Die ganze Logik-Kaskade
    &lt;/a&gt;
&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Wir haben zu viele Transistoren pro Chip.
Die Hersteller von Chips wissen nicht, was die damit tun sollen.
Du bekommst absurde Features, die nicht auf allen Chips gebraucht werden (KI-Inferenz,
dutzende FPUs und Vektoreinheiten) in den Performance-Cores, oder riesige Mengen Efficiency Cores pro Socket.
Im Consumer Bereich bekommst Du statt eines Computers ein System-on-a-Chip, bei dem Grafikbeschleuniger,
RAM, RAM-Controller und NVME-Controller mit auf der CPU sitzen, zusammen mit 4E+8P Cores oder ähnlich.&lt;/li&gt;
&lt;li&gt;Wir haben daher im Enterprise-Bereich viel zu viele Cores pro Socket (128+ Cores).&lt;/li&gt;
&lt;li&gt;Als Kunde habe ich dadurch das Problem, dass ich kein Bare Metal mehr fahren kann.
Ich brauche also K8s oder einen Hypervisor zum Kleinschneiden der Systeme in brauchbare Stücke.&lt;/li&gt;
&lt;li&gt;Als Kunde habe ich dann auch ein Blast-Radius Problem.
Wenn so ein großer Host umfällt, dann nimmt er die ganze Firma offline.&lt;/li&gt;
&lt;li&gt;Als Kunde will ich also eine VM auf vielen Hosts haben und auf einem Host mit vielen anderen Kunden cohosted werden.
Ich gehe also lieber zu einer Public Cloud und miete mir da die passenden VMs.&lt;/li&gt;
&lt;li&gt;Ich brauche dann auch keine Hardware-Kundigen mehr.&lt;/li&gt;
&lt;li&gt;Als Hoster von so etwas kann ich die Hardware veredeln und Operations übernehmen,
indem ich statt VMs Dienste &amp;ldquo;as-a-Service&amp;rdquo; verkaufe.&lt;/li&gt;
&lt;li&gt;Als Kunde kann ich so nicht nur meine Hardware-Kundigen los werden,
sondern für den Dienst x (jetzt xaaS) auch meine x-Kundigen.&lt;/li&gt;
&lt;li&gt;Als Kunde von so einem Anbieter habe ich nun reine Entwickler,
die in komplett abstrakten Layers Dinge zusammenstecken,
low-code und nahe an Business Problemen.&lt;/li&gt;
&lt;li&gt;Dadurch habe ich niemanden nirgendwo mehr, der auch nur einen Hauch einer Ahnung hat, was das alles bedeutet,
lastmäßig, und ob der getriebene Aufwand dem Problem angemessen ist.&lt;/li&gt;
&lt;li&gt;Ich kann solche Einschätzungen aber als Beratung einkaufen,
entweder von lokalen Drittanbieter-Consultants oder vom Hoster, als &amp;ldquo;Well-Architected&amp;rdquo; Beratung nach Schema F.&lt;/li&gt;
&lt;li&gt;Das Bruttosozialprodukt steigt, weil das ja jetzt alles Transaktionen mit Echtgeld zwischen Firmen sind,
statt Verrechnung mit Spielgeld innerhalb einer Firma.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Und am Ende spielen die Kosten im Vergleich keine Rolle mehr, weil andere, größere Vektoren auf die Firmen einwirken.&lt;/p&gt;
&lt;p&gt;Einer dieser Vektoren sind auch immer größere Regulierungsverpflichtungen,
die den Betrieb eigener Rechner On-Premises unmöglich machen,
weil eine ISO 27k, eine NIS-2 und eine PCI-Zertifizierung ja auch Aufwand und Geld kosten.
Kauft man dagegen eine vorab zertifizierte Cloudlösung hat man mindestens drei Viertel des Schmerzes nicht,
wird einem versprochen.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Werk und AI</title>
      <link>https://blog.koehntopp.info/2024/09/29/werk-und-ai/</link>
      <pubDate>Sun, 29 Sep 2024 04:05:06 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2024/09/29/werk-und-ai/</guid>
      <description>&lt;p&gt;Jemand fragt im Kontext
&lt;a href=&#34;https://www.creativebloq.com/ai/ai-art/controversial-competition-winner-still-hopes-to-copyright-his-ai-art&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;People are &amp;ldquo;blatantly stealing my work,&amp;rdquo; AI artist complains&lt;/a&gt;

:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;What the hell is an &amp;ldquo;AI artist&amp;rdquo;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;und das ist ziemlich kompliziert.&lt;/p&gt;
&lt;h1 id=&#34;werke-und-werkzeuge&#34;&gt;
    &lt;a href=&#34;#werke-und-werkzeuge&#34;&gt;
	Werke und Werkzeuge
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Du kannst ein Bild auf Leinwand malen und dann ist es ein Werk und durch das Urheberrecht geschützt.&lt;/p&gt;
&lt;p&gt;Du kannst Midjourney oder DALL-E bitten, Dir ein Bild nach folgendem Prompt zu malen,
und dann ist es kein Werk und auch nicht durch das Urheberrecht geschützt, denn das Gesetz verlangt &amp;ldquo;human authorship&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Der Prompt, den der Künstler geschaffen hat, wäre geschützt,
denn das Urheberrecht schützt ausdrücklich auch &lt;a href=&#34;https://medien-wiki.de/kleine-muenze&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Kleine Münze&lt;/a&gt;

.&lt;/p&gt;
&lt;p&gt;Du kannst ein Bild in Photoshop malen oder ein Foto von Dir in Photoshop bearbeiten,
und das wäre durch das Urheberrecht geschützt.&lt;/p&gt;
&lt;p&gt;Du kannst dann Teile des Bildes manuell in Photoshop retuschieren,
und auch das wäre durch das Urheberrecht geschützt.&lt;/p&gt;
&lt;p&gt;Du kannst Teile des Bildes durch Photoshop mit AI Inpainting retuschieren lassen und das… ist unklar.&lt;/p&gt;
&lt;p&gt;Ab irgendeinem Punkt ist es kein Werk von einem Menschen mehr,
oder nur noch Ausschnitte des Werkes sind von einem Menschen gemacht.&lt;/p&gt;
&lt;p&gt;Es ist offen, und darum geht es in diesem Prozeß, ab wieviel menschlichem Anteil etwas ein Werk ist.
Und ob dann das Gesamtbild ein Werk ist, oder nur die Teile, die von einem Menschen gemacht sind.&lt;/p&gt;
&lt;h1 id=&#34;bildgebende-werkzeuge&#34;&gt;
    &lt;a href=&#34;#bildgebende-werkzeuge&#34;&gt;
	Bildgebende Werkzeuge
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Es ist damit im Grunde auch offen, welche bildgebenden Werkzeuge, die durch einen Menschen benutzt werden,
ein menschliches Werk erzeugen und welche nicht.&lt;/p&gt;
&lt;p&gt;Fotos, also Bilder, die durch einen physikalischen Prozeß erzeugt werden, sind urheberrechtlich geschützt.&lt;/p&gt;
&lt;p&gt;Aber nur dann, wenn das Werkzeug durch einen Menschen bedient wird.
Ein
&lt;a href=&#34;https://www.stern.de/panorama/weltgeschehen/wie-das-beruehmte-affen-selfie-einen-fotografen-ruinierte--7561910.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;nichtmenschliches Foto&lt;/a&gt;


ist nicht geschützt.&lt;/p&gt;
&lt;p&gt;Also, es ist bisher unstrittig,
dass ein digitaler Pinsel oder ein digitaler Mustergenerator den Werkscharacter nicht in Frage stellen.&lt;/p&gt;
&lt;p&gt;Es ist zur Zeit aber auch unstrittig, dass DALL-E keine Werke produzieren kann.&lt;/p&gt;
&lt;p&gt;Es ist unstrittig,
dass ein Blur-Filter oder ein Solarisations-Filter auf einem Bild oder Teilen eines Bildes den Werkscharacter nicht in Frage stellt.&lt;/p&gt;
&lt;p&gt;Es ist vollkommen unklar, was ein Photoshop Inpainting,
das man prompted &amp;ldquo;Entferne den Menschen im markierten Gebiet&amp;rdquo; mit dem Werkscharacter eines Bildes macht.
Oder &amp;ldquo;Ersetze den Himmel in diesem Bild durch dramatische Sturmwolken&amp;rdquo; auf das ganze Bild
mit dem Werkscharacter eines Bildes macht.&lt;/p&gt;
&lt;p&gt;Offenbar ist das Recht derzeit der Ansicht, dass es irgendwo eine Grenze zwischen Werk und Nichtwerk gibt,
aber es ist absolut unklar, in Gesetz und Anwendung, wo diese liegt.&lt;/p&gt;
&lt;h1 id=&#34;auch-für-texte&#34;&gt;
    &lt;a href=&#34;#auch-f%c3%bcr-texte&#34;&gt;
	Auch für Texte
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Dasselbe gilt auch für Texte:&lt;/p&gt;
&lt;p&gt;Du kannst ChatGPT bitten, &amp;ldquo;erzeuge mir eine Kurzgeschichte mit &amp;hellip;&amp;rdquo; und ChatGPT macht eine solche Kurzgeschichte.
Abgesehen davon, dass die langweilig ist, ist es auch nach aktuellem Recht kein Werk.&lt;/p&gt;
&lt;p&gt;Du kannst aber auch eine Reihe von Prompts schreiben, in denen Du mit ChatGPT eine Geschichte entwickelst,
indem Du interaktiv Szenario, Figuren, Konflikte und Arc generierst.
Du kannst nach diesen automatisch generierten Ideen eine Story schreiben – ein menschliches Werk?&lt;/p&gt;
&lt;p&gt;Du kannst aber auch in einer neuen Session mit ChatGPT eine Reihe von Prompts entlang des Arc einwerfen,
und den resultierenden Text in eine zusammenhängende Geschichte umbauen.
Kein menschliches Werk.&lt;/p&gt;
&lt;p&gt;Dann nimmst Du sowohl diesen Text als auch den ersten, selbst geschriebenen, kapitelweise,
bearbeitest jeden von denen ein wenig und pastest ihn wieder nach ChatGPT.
Der Prompt ist dabei die Bitte, die Rechtschreibung und Grammatik zu korrigieren,
sprachlich die folgenden Redewendungen zu vermeiden und den Text aggressiv im Stil von &amp;hellip; umzuformulieren.
Was davon ist ein Werk?&lt;/p&gt;
&lt;p&gt;Das Resultat ist etwas, das ChatGPT alleine nicht hätte erzeugen können,
es hat definitiv eine menschliche Komponente und eine große Menge menschliche Führung.
Selbst dann, wenn jedes Wort im sichtbaren Text von ChatGPT generiert ist.&lt;/p&gt;
&lt;p&gt;Die genaue Formulierung und der Stil der Sprache sind aber autogeneriert.
Ist das ein Werk?&lt;/p&gt;
&lt;p&gt;Wir wissen es nicht.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Details in Hugo</title>
      <link>https://blog.koehntopp.info/2024/09/28/details-in-hugo/</link>
      <pubDate>Sat, 28 Sep 2024 04:05:06 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2024/09/28/details-in-hugo/</guid>
      <description>&lt;p&gt;Ich habe ja seit circa 2000 kein Frontend mehr gemacht.&lt;/p&gt;
&lt;h1 id=&#34;details-&#34;&gt;
    &lt;a href=&#34;#details-&#34;&gt;
	&lt;code&gt;&amp;lt;details /&amp;gt;&lt;/code&gt;
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Heute habe ich also gelernt,
dass es ein &lt;a href=&#34;https://wiki.selfhtml.org/wiki/HTML/Elemente/details&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;code&gt;&amp;lt;details&amp;gt;&lt;/code&gt;&lt;/a&gt;

-Element gibt.
Das ist ein Element, das zusammengeklappt gerendert wird, und das man Aufklappen kann, um den Inhalt zu enthüllen.&lt;/p&gt;
&lt;p&gt;Der Teil von &lt;code&gt;&amp;lt;details&amp;gt;&lt;/code&gt;, der zusammengeklappt sichtbar ist, heißt &lt;a href=&#34;https://wiki.selfhtml.org/wiki/HTML/Elemente/summary&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;code&gt;&amp;lt;summary&amp;gt;&lt;/code&gt;&lt;/a&gt;

.&lt;/p&gt;
&lt;p&gt;Nach der Summary kann dann beliebig viel &amp;ldquo;flow-content&amp;rdquo; kommen, also ein oder mehr &lt;code&gt;&amp;lt;div&amp;gt;&lt;/code&gt; zum Beispiel.&lt;/p&gt;
&lt;h1 id=&#34;shortcodes&#34;&gt;
    &lt;a href=&#34;#shortcodes&#34;&gt;
	Shortcodes
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Ich will das nun in Hugo nutzen können, ohne daß ich HTML tippen muss.
Dazu kann ich in Hugo einen Shortcode &lt;code&gt;reveal&lt;/code&gt; definieren, den ich dann als &lt;code&gt;{{&amp;lt; reveal &amp;gt;}}&lt;/code&gt; aufrufen kann.
Ein vordefinierter Shortcode, der hier im Blog laufend verwendet wird, ist zum Beispiel &lt;code&gt;{{&amp;lt; relref &amp;gt;}}&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Dazu lege ich &lt;code&gt;./layouts/shortcodes/reveal.html&lt;/code&gt; mit folgendem Inhalt an:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;details&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;reveal&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;summary&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;reveal&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;{{ .Get &amp;#34;question&amp;#34; }}&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;summary&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;	&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;class&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;reveal&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;{{ .Inner | markdownify }}&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;details&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;und verwende das in der Form&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-html&#34; data-lang=&#34;html&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{{&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;nt&#34;&gt;reveal&lt;/span&gt; &lt;span class=&#34;na&#34;&gt;question&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s&#34;&gt;&amp;#34;Was ist los?&amp;#34;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;}}
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Nix.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;{{&lt;span class=&#34;p&#34;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;reveal&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;&amp;gt;&lt;/span&gt;}}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;mit dem Ergebnis:&lt;/p&gt;
&lt;details class=&#34;reveal&#34;&gt;
	&lt;summary class=&#34;reveal&#34;&gt;Was ist los?&lt;/summary&gt;
	&lt;div class=&#34;reveal&#34;&gt;Nix.&lt;/div&gt;
&lt;/details&gt;

&lt;p&gt;Dazu kommt noch Styling:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-css&#34; data-lang=&#34;css&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;nc&#34;&gt;reveal&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;k&#34;&gt;margin-bottom&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;em&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;err&#34;&gt;summary&lt;/span&gt; &lt;span class=&#34;err&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;cursor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;pointer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;color&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mh&#34;&gt;#3d80bb&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.5&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;em&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;background-color&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mh&#34;&gt;#f5f5f5&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;div&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;margin-top&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.5&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;em&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;padding&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.5&lt;/span&gt;&lt;span class=&#34;kt&#34;&gt;em&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;background-color&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mh&#34;&gt;#fafafa&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nt&#34;&gt;summary&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;nd&#34;&gt;hover&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;background-color&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;mh&#34;&gt;#e0e0e0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Auf diese Weise lassen sich lange optionale Inhalte rendern ohne den Artikel zu unübersichtlich zu machen.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Sonos S2 Analysis</title>
      <link>https://blog.koehntopp.info/2024/07/12/sonos-s2-analysis/</link>
      <pubDate>Fri, 12 Jul 2024 05:06:07 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2024/07/12/sonos-s2-analysis/</guid>
      <description>&lt;p&gt;Auf LinkedIn gibt es einen
&lt;a href=&#34;https://www.linkedin.com/pulse/what-happened-sonos-app-technical-analysis-andy-pennell-wigwc/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Artikel von Andrew Pennell&lt;/a&gt;


zum Thema &amp;quot; What happened to the Sonos app? A technical analysis.&amp;quot;&lt;/p&gt;
&lt;h1 id=&#34;die-neue-app&#34;&gt;
    &lt;a href=&#34;#die-neue-app&#34;&gt;
	Die neue App
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Am 7. Mai dieses Jahres hat Sonos die S2 App grundlegend umgestellt.
Dazu gehörte jedoch nicht nur eine neue UI, sondern auch die interne Kommunikation wurde umgestellt –
auf andere Protokolle und auf andere Datenflüsse.&lt;/p&gt;
&lt;p&gt;Der Launch der neuen App war ein ziemlicher Fehlschlag.
Die App war Mobile only, hat wichtige Features der alten App nicht implementiert und war bei vielen Usern langsam und unzuverlässig.&lt;/p&gt;
&lt;p&gt;Die alte App, so Pennell, hat intern UPNP verwendet, um zu kommunizieren.
Das ist eine Form von SOAP, XML über TCP,
und SSDP – UDP Broadcast – um Geräte zu identifizieren und zu finden.
Sonos hat SMAPI verwendet, um mit Musik-Streamingdiensten zu kommunizieren,
und um intern Musik zwischen den Endgeräten zu verteilen.&lt;/p&gt;
&lt;p&gt;Die alte S1 App war für die nativen UI-Systeme geschrieben,
die von den verschiedenen Plattformen verwendet werden und verwendete C++.
Das war anstrengend, um neue Features zu realisieren,
weil es effektiv viermal gemacht werden mußte (Windows Desktop, Mac Desktop, Android und Mac Phone),
aber es war sehr performant.&lt;/p&gt;
&lt;p&gt;Die neue App verwendet ein Multiplattform-Framework für die Implementierung (angeblich Flutter).
Sie ist Mobile only und verwendet mDNS, um Geräte zu finden.
Das scheint weitaus weniger zuverlässig zu funktionieren, als SSDP.&lt;/p&gt;
&lt;p&gt;Der Netzwerkverkehr ist jetzt verschlüsselt,
was insbesondere die CPUs der älteren Lautsprecher sehr zu belasten scheint.
Statt UPNP wird von jedem Lautsprecher eine lokale Version der Sonos Cloud API verwendet,
und diese scheint extrem gesprächig zu sein, und sehr viele Paketumläufe für jede Aktion zu brauchen.&lt;/p&gt;
&lt;p&gt;Ein Problem, das besonders stark zuschlägt, ist die Änderung von Lautstärken bei gruppierten Lautsprechern,
weil sich hier die hohe Paketfrequenz mit dem Fehlen von Gruppenkommunikation zu schlagen scheint.
Gruppiert man ein Dutzend Lautsprecher und zieht dann an den Reglern, gibt es einen Paketsturm im Netz.
Sonos &lt;a href=&#34;https://docs.sonos.com/docs/volume&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;erklärt&lt;/a&gt;

 wie man das vermeiden kann, aber hält sich nicht daran.&lt;/p&gt;
&lt;p&gt;Dazu kommt, daß alle Kommunikation jetzt über die Sonos Cloud läuft,
statt zwischen der App ud den Streamingdiensten direkt zu laufen.
Sonos positioniert sich so nicht nur als Intermediär und Datensammelpunkt,
sondern auch als Performance-Bottleneck.
Zudem kann die App so nur noch Dienste nutzen, die der Sonos Cloud bekannt sind und von ihr unterstützt werden.
Lokales Abspielen von Fileservern, ein lokaler Airsonic Abspielpunkt
und andere lokale Dienste sind aus der Sonos Cloud nicht erreichbar und können daher nicht mehr funktionieren.&lt;/p&gt;
&lt;p&gt;Neu ist die Bereitstellung einer Sonos WebApp,
&lt;a href=&#34;https://play.sonos.com&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;https://play.sonos.com&lt;/a&gt;

.
Mit der kann man sinnloserweise daheim Krach machen, während man nicht daheim ist.
Dafür unterstützt diese Anwendung kein 2FA und auch keine Methoden zur De-Authentisierung von Anwendungen und Diensten.&lt;/p&gt;
&lt;h1 id=&#34;was-sagt-sonos-und-beabsichtigt-die-firma-strategisch&#34;&gt;
    &lt;a href=&#34;#was-sagt-sonos-und-beabsichtigt-die-firma-strategisch&#34;&gt;
	Was sagt Sonos und beabsichtigt die Firma, strategisch?
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Sonos selbst hat den Switch zu der neuen App als &amp;ldquo;mutigen Schritt&amp;rdquo; bezeichnet.
Ein Haufen User sind extrem genervt, und das kann man gewiss als &amp;ldquo;mutig&amp;rdquo; bezeichnen,
insbesondere nach den
&lt;a href=&#34;https://blog.koehntopp.info/2019/12/30/sonos-recycle-mode/&#34;&gt;Geschehnissen&lt;/a&gt;


von vor
&lt;a href=&#34;https://blog.koehntopp.info/2020/03/06/sonos-recycled-their-recycle-mode/&#34;&gt;vier&lt;/a&gt;


&lt;a href=&#34;https://blog.koehntopp.info/2020/06/09/sonos-just-got-complicated/&#34;&gt;Jahren&lt;/a&gt;

.
Die App wird in den diversen App-Stores unterirdisch bewertet.
Das wird sich auch nicht ändern, solange Performance und Geschwindigkeit so schlecht bleiben.&lt;/p&gt;
&lt;p&gt;Noch gibt es Anwendungen von Drittanbietern, und die scheinen weitaus besser zu funktionieren.
Sie basieren jedoch auf der alten UPNP API, die deprecated ist und irgendwann abgeschaltet wird.&lt;/p&gt;
&lt;p&gt;Danach ist der lokale Verkehr verschlüsselt und aller abgespielte Sound ist für Sonos in deren Cloud sichtbar.
Das macht eine ganze Menge Sinn, wenn man Quatsch mit Benutzerdaten, AI und Marketing plant.
Sonst eher nicht.&lt;/p&gt;
&lt;p&gt;Die Lehre und Zusammenfassung aus diesem ganzen Desaster ist:
Lauf! Raus aus Sonos, jetzt.&lt;/p&gt;
&lt;p&gt;Die Frage ist, was man kaufen kann, das funktioniert.&lt;/p&gt;
&lt;p&gt;Ich suche nach fertigen Geräten in der Art der Play:3 oder IKEA Bookshelf, die brauchbar klingen,
sich im Haus verteilen lassen, eine offene und dokumentierte cloud-freie API haben und Multiroom können.
Zu ersetzen sind 11 Geräte, darunter eine Playbar – aber das ist am Ende fast egal.&lt;/p&gt;
&lt;p&gt;Als Dienste verwenden wir Spotify, Pocket Casts, ein lokales Airsonic Advanced,
und die Tonausgänge diverser Mac und Windows-Rechner.&lt;/p&gt;
&lt;h1 id=&#34;mögliche-antworten&#34;&gt;
    &lt;a href=&#34;#m%c3%b6gliche-antworten&#34;&gt;
	Mögliche Antworten
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Als ich das im Netz fragte, nannte man mir die folgenden Dinge zum Ansehen:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Yamaha Musiccast, &lt;a href=&#34;https://nl.yamaha.com/nl/products/audio_visual/desktop_audio/musiccast_20/index.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;z.B. WX-021&lt;/a&gt;

&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://bluesound-deutschland.de/kabellose-lautsprecher/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Bluesound&lt;/a&gt;

.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://roon.app/en/pricing&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Roon&lt;/a&gt;

 – unklar, was das genau ist, und eine Subscription?&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://teufelaudio.nl/wifi-speakers/raumfeld-multiroom&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Teufel Raumfeld&lt;/a&gt;

, aber das ist &lt;a href=&#34;https://support.teufel.de/hc/de/articles/16194516593042-Teufel-Raumfeld-Wird-die-Technologie-weiterentwickelt&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;abgekündigt&lt;/a&gt;

.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.russound.com/products/audio-systems/multi-room-controllers/caa66-system-and-kits/caa66-controller-amplifier&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Russsound&lt;/a&gt;

 – fernsteuerbare Verstärker für Boxen, mit langen Analog-Kabeln?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Von diesen Vorschlägen scheint das Yamaha Musiccast-Zeugs noch am ehesten dort zu sein, wo ich es brauchen kann.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>No LLM for you, come back one year</title>
      <link>https://blog.koehntopp.info/2024/06/22/no-llm-for-you-come-back-one-year/</link>
      <pubDate>Sat, 22 Jun 2024 05:06:07 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2024/06/22/no-llm-for-you-come-back-one-year/</guid>
      <description>&lt;p&gt;Es war Samstag, ich las die Nachrichten und ich mußte dazu was im Fedi sagen.
Hier ist der Aufschrieb davon:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=RqlQYBcsq54&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;No Soup for you!&lt;/a&gt;

 ist, was Apple der EU sagt:
&lt;a href=&#34;https://www.heise.de/news/Apple-verweist-auf-neue-Regeln-vorerst-keine-Apple-Intelligence-fuer-EU-iPhones-9774039.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Apple vs. EU: Apple Intelligence soll vorerst nicht nach Deutschland kommen&lt;/a&gt;

&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Aufgrund &amp;ldquo;regulatorischer Unsicherheiten&amp;rdquo; durch den Digital Markets Act (DMA) gehe das Unternehmen davon aus,
bestimmte Funktionen in diesem Jahr nicht mehr für Kunden in Deutschland
und anderen EU-Mitgliedsstaaten einführen zu können,
wie Apple am Freitagabend überraschend in einer Stellungnahme mitteilte.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Dieser Seitenhieb auf den Marktregulator ist amüsant,
aber Apple könnte &amp;ldquo;Apple Intelligence&amp;rdquo; nicht weltweit zeitgleich einführen, selbst wenn Apple das wollte.&lt;/p&gt;
&lt;h1 id=&#34;keine-apple-intelligence-in-der-eu&#34;&gt;
    &lt;a href=&#34;#keine-apple-intelligence-in-der-eu&#34;&gt;
	Keine Apple Intelligence in der EU
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Der wahre Grund ist: Die Features sind unfertig.
Normalerweise liefern iOS Betaversionen relativ vollständige Blicke auf das Release,
alle Features sind vorhanden und funktionieren modulo noch existierende Fehler auf eine Weise,
wie man sie im Produkt-Release später erwarten können wird.
&lt;a href=&#34;https://www.lifewire.com/apple-betas-missing-cool-features-8662016&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;In der iOS 18 Beta ist das nicht der Fall.&lt;/a&gt;

&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;But this year, there&amp;rsquo;s less incentive to hop on early because none of the AI tools are there,
and those are surely the features people most want to try out.
The Apple Intelligence features, like better Siri, won&amp;rsquo;t be arriving until later,
perhaps not until after the OS updates have actually launched in the fall.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Das ist einerseits so, weil diese Features nicht auf eine Weise funktionieren können,
dass sie Apples Ansprüchen an Qualität genügen.
&lt;a href=&#34;https://techinformed.com/mcdonalds-ditches-ai-order-system-after-bacon-ice-cream-mix-up/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;McDonalds hat das schon mal ausprobiert.&lt;/a&gt;

&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In one TikTok video –
posted with the caption “Fighting with McDonald’s robot” –
a woman is seen struggling to order vanilla ice cream and a bottle of water,
and instead ends up with multiple sundaes, ketchup sachets, and two portions of butter.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Nun war das keine Apple-KI, aber diese Sorte Problem ist systematisch die Sorte Fehler, die LLMs machen,
und es gibt keinen Grund, warum es bei Apple besser sein sollte.&lt;/p&gt;
&lt;p&gt;Und das ist nur die oberste Lage Probleme.
Ein wichtiger Werbepunkt von Apple ist, dass die KI-Features &amp;ldquo;on device&amp;rdquo; laufen, statt Daten in eine Cloud zu pumpen.
Das geht auch nicht, jedenfalls nicht so, wie der Kunde es erwartet.&lt;/p&gt;
&lt;p&gt;Der aktuelle KI-Hype basiert auf LLMs,
einer besonderen Art neuronaler Netze, die unter anderem Milliarden von &amp;ldquo;Parametern&amp;rdquo; brauchen.
Das sind Haufen von Zahlen, die als Vektoren mit tausenden Dimensionen angeordnet &amp;ldquo;Wissen codieren&amp;rdquo;
und in der Berechnung von Antworten auf Benutzeranfragen verwendet werden.&lt;/p&gt;
&lt;p&gt;Nun, jeder dieser Vektoren braucht eine gewisse Menge Speicherplatz und wenn man &amp;ldquo;Milliarden von Parametern&amp;rdquo; haben will,
dann braucht man schnell auch einmal zweistellige Mengen an Gigabyte RAM zum Ausrechnen der Antwort.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;apple-01.png&#34; alt=&#34;2024/06/apple-01.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Eine Auswahl von Größenangaben beliebter öffentlicher LLMs.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;apple-02.png&#34; alt=&#34;2024/06/apple-02.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Standardversion von Metas llama3 mit 70 Milliarden Parametern und 40 GB Größe.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Ein Modell mit 8 Milliarden Parametern braucht ca. 5 GB RAM, ein Modell mit 14 Milliarden Parametern ca. 8 GB,
und ein Modell mit 70 Milliarden Parametern je nach Quantisierung zwischen 26 GB und 40 GB.&lt;/p&gt;
&lt;p&gt;Dazu kommt noch einmal Speicher für den Kontext,
der bei großen Kontext-Definitionen schnell noch einmal die Größenordnung des Modells erreicht.&lt;/p&gt;
&lt;p&gt;Apple selbst dokumentiert in
&lt;a href=&#34;https://machinelearning.apple.com/research/introducing-apple-foundation-models&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Introducing Apple’s On-Device and Server Foundation Models&lt;/a&gt;


wann sie Modelle lokal rechnen:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In the following overview, we will detail how two of these models — a ~3 billion parameter on-device language model,
and a larger server-based language model available with Private Cloud Compute and running on Apple Silicon servers —
have been built and adapted to perform specialized tasks efficiently, accurately, and responsibly.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Ein Modell mit 3 Milliarden Parametern wie &lt;a href=&#34;https://ollama.com/library/phi3&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Phi3&lt;/a&gt;

 belegt circa 2.5 GB Speicher und
das ist in der Tat eine Größe, die auf einem iPhone mit 6 GB RAM ausgeführt werden kann.
Größere Modelle passen schlicht nicht in den Speicher und werden daher in der Cloud berechnet.&lt;/p&gt;
&lt;p&gt;Die Qualität und Komplexität der Antworten eines LLM ist aber sehr stark von der Anzahl der Parameter des Modells abhängig.
Ein 3b-Modell kann schlicht nicht mit einem 70b- oder gar noch größeren Modellen mithalten.
Das ist aber das, was Benutzer von Online-GPTs wie ChatGPT gewohnt sind.&lt;/p&gt;
&lt;p&gt;Es ist also eher davon auszugehen,
dass wenig Inferenz (das Ausrechnen von Antworten mit einem austrainierten LLM) &amp;ldquo;on device&amp;rdquo; geht,
und viel in die Cloud ausgelagert wird.
Die Rechenzentren dazu gibt es noch nicht, und das Bauen von Rechenzentren dauert in der Regel einige Zeit.
Wir können davon ausgehen, dass die Vorlaufzeit circa 2 Jahre beträgt:
Das Rechenzentrum wird vermutlich sehr uniform bestückt sein, was die Planung vereinfacht.
Die Energiedichte wird sehr hoch sein, und die Hardware wird schwer zu beschaffen sein, was die Planung verkompliziert.&lt;/p&gt;
&lt;p&gt;Die Hardware, die in dieses Rechenzentrum herein kann, wird derzeit meist von Nvidia hergestellt.
Wer Apple kennt, der weiß, wie sehr es die Firma schmerzt, einer Firma wie Nvidia Geld zu geben.
Viel lieber würde Apple den Kram auf eigenen, selbst entworfenen, auf Inferenz spezialisierten Chip laufen lassen.
Auch diese existieren nicht und es würde jedermann überraschen,
wenn es solche Chips vor 2026 gäbe (oder nach 2028 noch nicht gäbe).&lt;/p&gt;
&lt;p&gt;Wir können an dieser Stelle vermutlich glaubhaft herleiten,
dass &amp;ldquo;Apple Intelligence&amp;rdquo; zu diesem Zeitpunkt lediglich lanciert wird, um den Kurs von AAPL zu stabilisieren.
Aber natürlich ist es billig, da noch einmal FOMO gegenüber Kunden in Europa zu pflegen und die EU zu dissen.&lt;/p&gt;
&lt;h1 id=&#34;warum-die-hardware-und-warum-so-viel-speicher&#34;&gt;
    &lt;a href=&#34;#warum-die-hardware-und-warum-so-viel-speicher&#34;&gt;
	Warum die Hardware und warum so viel Speicher?
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Die lineare Algebra in Computerspielen und die Mathematik in LLMs sind zum Großteil Matrix-Multiplikationen.
Daher werden Grafikkarten, superschnelle Matrix-Multiplizierer, vielfach für LLMs &amp;ldquo;mißbraucht&amp;rdquo;.
Sie implementieren die benötigte Operation sehr flink, in Hardware und parallel ausführbar.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=-P28LKWTzrI&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;apple-03.jpg&#34; alt=&#34;2024/06/apple-03.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=-P28LKWTzrI&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Nvidia Werbevideo mit den Mythbusters&lt;/a&gt;

,
das die Parallelität von Grafikkarten korrekt veranschaulicht.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Die Mythbusters haben die Wirkmächtigkeit der parallelen Ausführung für ein Nvidia Werbevideo einmal korrekt visualisiert.&lt;/p&gt;
&lt;p&gt;Zur Geschichte und dem Aufbau von Grafikkarten habe ich vor sieben Jahren einen Link-Artikel geschrieben:
&lt;a href=&#34;https://blog.koehntopp.info/2017/11/25/d-abc-at-scale/&#34;&gt;d = a*b+c at scale&lt;/a&gt;

,
der die Entwicklung von Grafik-Hardware in den 20 Jahren vor 2017 beschreibt,
weil ich beruflich Anlass hatte, das herauszufinden.
Es ist ein Link-Artikel, ihr müßt die blauen Dinger auch anklicken.&lt;/p&gt;
&lt;p&gt;Wikipedia erklärt
&lt;a href=&#34;https://de.wikipedia.org/wiki/Matrizenmultiplikation#Beispiel&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Matrix-Multiplikation als superlange Summe von Produkten&lt;/a&gt;

.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;apple-04.png&#34; alt=&#34;2024/06/apple-04.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Relevanter Auszug aus der Wikipedia, der Matrix-Multiplikation erläutert.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Wir berechnen die Position Zeile 1, Spalte 2 der Ergebnis-Matrix
also durch Multiplikation des Zeilenvektors 1 der Matrix A
mit dem Spaltenvektor 2 der Matrix B,
sodass sich im Beispiel&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;(3, 2, 1) * (2, 1, 0) = (3*2 + 2*1 + 1*0) = 8
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ergibt. In &lt;code&gt;d = a*b + c&lt;/code&gt; ist die Zwischensumme &lt;code&gt;c&lt;/code&gt; zunächst 0, und es wird &lt;code&gt;3*2&lt;/code&gt; berechnet.
Das Ergebnis, &lt;code&gt;d = 6&lt;/code&gt; wird im nächsten Schritt als &lt;code&gt;c&lt;/code&gt; verwendet, sodass wir &lt;code&gt;d = 2*1 + 6&lt;/code&gt; erhalten.
Im letzten Schritt wird dies wieder als &lt;code&gt;c&lt;/code&gt; verwendet, sodass wir das Endergebnis &lt;code&gt;d = 1*0 + 8&lt;/code&gt; bekommen.&lt;/p&gt;
&lt;p&gt;Grafikkarten haben spezielle Hardware, die mit einer bestimmten Hardware-Darstellung von Zahlen solche Berechnungen
auf rechteckigen Zahlenfeldern beliebige Größe parallel durchführen können.
&amp;ldquo;NPUs&amp;rdquo;, Neuralprozessoren, tun genau dasselbe.&lt;/p&gt;
&lt;p&gt;In dem Unterrichtsabschnitt &amp;ldquo;Vektor- und Matrizenrechnung&amp;rdquo; in der Schule,
oder gar in &amp;ldquo;Lineare Algebra und Vektorräume&amp;rdquo; an der Uni aufgepasst zu haben zahlt sich also jetzt,
30 Jahre später, groß aus.
Aber keine Angst, es hat sich nichts getan, die Mathematik ist immer noch dieselbe wie damals in der Schule,
und es ist nichts Fieseres dabei als Summen von Produkten: Plus und Malnehmen, komplizierter wird&amp;rsquo;s nicht.&lt;/p&gt;
&lt;h1 id=&#34;ki-und-grafikkarten-laufen-auseinander&#34;&gt;
    &lt;a href=&#34;#ki-und-grafikkarten-laufen-auseinander&#34;&gt;
	KI und Grafikkarten laufen auseinander
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Aber die Matrix-Multiplikation in einer NPU und in einer Grafikkarte laufen langsam auseinander.
Das hat aber nichts mit der Mathematik zu tun, sondern mit der Darstellung von Zahlen.&lt;/p&gt;
&lt;p&gt;Wir können uns einmal Fließkommazahlen im Computer angucken:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://float.exposed/0x400921fb4d12d84a&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;3.1415926 als Double (64 Bit)&lt;/a&gt;

:
Stellt man eine beliebte Näherung der Zahl Pi als &lt;code&gt;double&lt;/code&gt; dar, bekommt man dies:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1 Bit Vorzeichen&lt;/li&gt;
&lt;li&gt;10 Bit Exponenten&lt;/li&gt;
&lt;li&gt;53 Bit &amp;ldquo;Mantisse&amp;rdquo; oder &amp;ldquo;Significand&amp;rdquo;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;und die Zahl ist nicht der gewünschte Wert, sondern der dichteste Wert, der dargestellt werden kann:
3.14159260000000006841.&lt;/p&gt;
&lt;p&gt;Das ist einen Tick zu groß.
Klickt man den &amp;ldquo;Significand&amp;rdquo; jetzt ein Bit kleiner, bekommt man
&lt;a href=&#34;https://float.exposed/0x400921fb4d12d849&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;3.14159259999999962432&lt;/a&gt;

.&lt;/p&gt;
&lt;p&gt;Das ist das Kreuz mit &lt;em&gt;diskreter Mathematik&lt;/em&gt;: Zwischen den Zahlen,
die wir darstellen können liegen unendlich viele Zahlen, die existieren,
aber nicht diskret in der gewählten Auflösung darstellbar sind.&lt;/p&gt;
&lt;p&gt;In der diskreten Mathematik gibt es eine Schrittweite zwischen zwei darstellbaren Fließkommazahlen.
Diese nennt man &amp;ldquo;eps&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;&amp;ldquo;epsilon&amp;rdquo; ist in der Analysis (eine Disziplin der Mathematik) ein unendlich kleiner Schritt.
In der diskreten Mathematik, also der Mathematik, die sich mit Zahlen in Computern befasst,
gibt es keine unendlich kleinen Schritte.&lt;/p&gt;
&lt;p&gt;&amp;ldquo;eps&amp;rdquo; ist der Schritt, den ein Bit macht.
Bei Fließkommazahlen ist &amp;ldquo;eps&amp;rdquo; variabel, denn es wird mit dem anderen Teil der Fließkommazahl, dem Exponenten skaliert.
Zahlen um 0 herum können sehr genau dargestellt werden,
aber je weiter man von 0 weg kommt, umso größer wird der Exponent und umso größer wird eps.&lt;/p&gt;
&lt;p&gt;In KI-Mathematik normalisieren wir Zahlen oft auf das Intervall von 0 bis 1
oder von -1 bis 1.
Wir brauchen also nicht so große Exponenten und können mit weniger Bits auskommen.&lt;/p&gt;
&lt;p&gt;Das ist wichtig, denn wenn wir von &lt;code&gt;double&lt;/code&gt; auf &lt;code&gt;float&lt;/code&gt; heruntergehen,
dann gehen wir von 64 Bit pro Zahl auf 32 Bit runter – doppelt so viel Modell im selben Speicher!
Ein 32-Bit &lt;code&gt;float&lt;/code&gt; hat bei Werten um Zehntausend herum schon ein eps von 0.01 (bei 10k Euro ein eps von 1 cent).&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://float.exposed/0x461c400a&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;10000.009765625&lt;/a&gt;

 als &lt;code&gt;float&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Aber für Werte zwischen 0 und 1 sieht es gut aus:
&lt;a href=&#34;https://float.exposed/0x3f000000&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;0.5&lt;/a&gt;

 und am Significand spielen.&lt;/p&gt;
&lt;p&gt;Wir können auch noch weiter heruntergehen:
&lt;a href=&#34;https://float.exposed/b0x3f00&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;0.5&lt;/a&gt;

 als &lt;code&gt;bfloat16&lt;/code&gt;.
Das belegt noch einmal halb so viel Speicher, 16 Bit, verbrennt aber zu viele Bits auf den Exponenten:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1 Bit Vorzeichen&lt;/li&gt;
&lt;li&gt;8 Bit Exponent&lt;/li&gt;
&lt;li&gt;7 Bit auf die &amp;ldquo;Mantisse&amp;rdquo;, den &amp;ldquo;Significand&amp;rdquo;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Wir können auch das 16-Bit &lt;code&gt;half&lt;/code&gt; nehmen:
&lt;a href=&#34;https://float.exposed/0x3800&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;0.5&lt;/a&gt;

.&lt;/p&gt;
&lt;p&gt;Hier werden&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1 Bit Vorzeichen&lt;/li&gt;
&lt;li&gt;5 Bit Exponent&lt;/li&gt;
&lt;li&gt;10 Bit Significand&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;verwendet. Je nach Anwendungsfall kann das vorteilhaft sein.&lt;/p&gt;
&lt;p&gt;Ist es schlimm, ein LLM mit weniger Auflösung zu trainieren oder zu benutzen?
Artikel über &amp;ldquo;Quantisierung&amp;rdquo; von LLMs diskutieren das, und auch &lt;em&gt;wann&lt;/em&gt; im Herstellungsprozeß das Modell eingekürzt wird.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://medium.com/@techresearchspace/what-is-quantization-in-llm-01ba61968a51&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;What is Quantization in LLM&lt;/a&gt;


diskutiert ganz allgemein was Quantisierung bei LLMs ist – also mit welchen Zahlen beim Training gerechnet wird
und wann auf Auslieferungs-Zahlenformat umgerechnet wird.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://symbl.ai/developers/blog/a-guide-to-quantization-in-llms/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;A Guide to Quanitization in LLMs&lt;/a&gt;


erklärt dasselbe, aber mit mehr Details betreffend die Integer-Formate, also &lt;code&gt;Qx_y&lt;/code&gt;, die man oft sieht.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Quantisierung hat mitunter Auswirkungen auf die Qualität der Antworten, die das LLM generiert,
aber sie spart Speicher und ermöglicht oft erst die Ausführung von LLMs auf Rechnern,
die man im Haus oder gar in der Hand hat.&lt;/p&gt;
&lt;p&gt;Wenn man zig Milliarden Parameter in den verfügbaren Speicher einer Nvidia 4070 Ti quetschen will,
dann braucht man nun einmal kürzere Zahlendarstellungen.
Und wenn es im iPhone passieren soll, dann noch kürzer.&lt;/p&gt;
&lt;p&gt;Damit man von der Beschleunigung einer Nvidia profitiert kann man aber nur Darstellungen nehmen,
die die Nvidia kennt, also in Hardware beschleunigt parallel rechnen kann.
Sonst kann man auch &amp;ldquo;zu Fuß&amp;rdquo;, also mit der CPU, rechnen.&lt;/p&gt;
&lt;p&gt;Das ist das Problem mit dem M1 Apple Silicon, das &lt;code&gt;bfloat16&lt;/code&gt; nicht in Hardware kann, und das ab M2 korrigiert ist.
Ich würde erwarten, dass neuere Apple CPUs auch andere, noch härtere Quantisierungen parallel in Hardware rechnen können,
aber ich habe nicht nachgesehen, was ab wann das wie realisiert wird.&lt;/p&gt;
&lt;h1 id=&#34;qualität-von-kleinen-llms&#34;&gt;
    &lt;a href=&#34;#qualit%c3%a4t-von-kleinen-llms&#34;&gt;
	Qualität von kleinen LLMs
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Apple behauptet, dass ihre 3B Modelle in Benchmarks besser sind als die Konkurrenz:
&lt;a href=&#34;https://machinelearning.apple.com/research/introducing-apple-foundation-models&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Introducing Apple’s On-Device and Server Foundation Models&lt;/a&gt;

,
die Benchmarks am Ende.&lt;/p&gt;
&lt;p&gt;Aber 3 Milliarden Parameter sind sehr klein.
Das ist jedoch das, was Apple lokal rechnen kann.
Größere Modelle werden &amp;ldquo;in der Cloud&amp;rdquo; ausgeführt, wo mehr Speicher verfügbar ist.&lt;/p&gt;
&lt;p&gt;Benchmarks bei KI-Anwendungen sind jedoch wenig aussagekräftig, damit ein Endkunde Qualität beurteilen kann.
Sie vergleichen Antworten verschiedener Modelle miteinander, aber die Ergebnisse sind nicht so,
wie ein Mensch Qualität erfahren würde.
Das liegt daran, dass Menschen Antworten von Computern nehmen, um ihre eigenen Entscheidungen zu treffen,
oder um sie mit ihren eigenen Entscheidungen zu vergleichen.&lt;/p&gt;
&lt;p&gt;Menschen haben aber ein Weltmodell.&lt;/p&gt;
&lt;p&gt;Das heißt im Wesentlichen, dass an jeder Entscheidung eine Gewichtung für Fehlschlag und Erfolg hängt,
eine Risikobewertung.
Eine falsche Antwort und eine andere, ebenfalls falsche Antwort sind für einen Menschen also nicht gleich:
Bei einer würde er eine kleine Summe Geld verlieren, bei der anderen sterben.
Im Benchmark aber sind beide gleich &amp;ldquo;falsch&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Der Effekt ist, dass ein schlechtes Modell im Benchmark in der Realität eventuell als besser empfunden werden kann,
weil es nie mörderische Antworten liefert.&lt;/p&gt;
&lt;h1 id=&#34;apple-mit-mehr-ram&#34;&gt;
    &lt;a href=&#34;#apple-mit-mehr-ram&#34;&gt;
	Apple mit mehr RAM
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Wenig überraschend beginnt Apple nun Rechner mit mehr RAM zu bauen,
oder für LLM-Features Geräte mit mehr RAM zu verlangen:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.golem.de/news/apple-8-gbyte-ram-im-macbook-reichen-nicht-mehr-2406-186433.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Golem: 8 GByte RAM im Macbook reichen nicht mehr&lt;/a&gt;

&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Das Unternehmen stellte die Beta der Entwicklungsumgebung XCode 16 vor.
In ihr enthalten ist ein neues Feature: Predictive Code Completion:
Diese nutzt KI, um Codeschnipsel zu analysieren und passende Vorschläge in Echtzeit auszugeben.
Allerdings wird dafür laut Apple ein Mac mit mindestens 16 GByte Arbeitsspeicher benötigt.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;apple-mit-ohne-intelligenz&#34;&gt;
    &lt;a href=&#34;#apple-mit-ohne-intelligenz&#34;&gt;
	Apple mit ohne Intelligenz
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Stellt sich raus, auch der Rest der Welt bekommt zunächst einmal keine Apple Intelligence:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.heise.de/news/Apple-Intelligence-Kommt-die-KI-Siri-erst-mit-iOS-18-4-9793852.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Apple Intelligence: Kommt die KI-Siri erst mit iOS 18.4?&lt;/a&gt;

&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Neuen Informationen zufolge soll etwa der mit Künstlicher Intelligenz runderneuerte Sprachassistent Siri
deshalb erst im nächsten Frühjahr in den USA sein Debüt feiern.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1 id=&#34;nicht-nvidia-sondern-google&#34;&gt;
    &lt;a href=&#34;#nicht-nvidia-sondern-google&#34;&gt;
	Nicht Nvidia, sondern Google
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Sierk Bornemann weist mich darauf hin, daß Apple in der Tat nicht sehr an Nvidia interessiert ist,
aber augenscheinlich sehr eng mit Google verbandelt ist:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Business Insider: &lt;a href=&#34;https://www.businessinsider.com/apple-ai-google-data-centers-2024-6?international=true&amp;amp;r=US&amp;amp;IR=T&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Apple&amp;rsquo;s new AI is made in Google data centers&lt;/a&gt;

.
Der Artikel behauptet, daß Apple Google&amp;rsquo;s Rechenzentrum-Hardware und TPUs nutzt, um Modelle zu trainieren.
Dabei scheint der Konsum von TPU-Kapazität Google vor einige technische Probleme gestellt zu haben.&lt;/li&gt;
&lt;li&gt;Ein &lt;a href=&#34;https://x.com/WholeMarsBlog/status/1800317499222921235&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Tweet&lt;/a&gt;

 benennt dabei das &amp;ldquo;axlearn&amp;rdquo; Framework,
und zitiert dabei &lt;a href=&#34;https://machinelearning.apple.com/research/introducing-apple-foundation-models&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Apple&amp;rsquo;s eigene Dokumentation&lt;/a&gt;

.&lt;/li&gt;
&lt;li&gt;Und &lt;a href=&#34;https://github.com/apple/axlearn/blob/main/docs/04-infrastructure.md&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;axlearn&lt;/a&gt;

 ist Open Source
und scheint sehr auf Google TPUs hin optimiert zu sein.&lt;/li&gt;
&lt;li&gt;Auch &lt;a href=&#34;https://blog.trailofbits.com/2024/06/14/understanding-apples-on-device-and-server-foundations-model-release/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Trail of Bits&lt;/a&gt;


stellt heraus, daß Apple ohne &amp;ldquo;Nvidia/CUDA Tax&amp;rdquo; käme, weil das Training mit axlearn auf Google TPUs liefe.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Inferenz ist einfacher und verwendet Apple Silicon (also M1-M4).&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Die Welt Deiner Kindheit existiert nicht mehr</title>
      <link>https://blog.koehntopp.info/2024/06/10/die-welt-deiner-kindheit-existiert-nicht-mehr/</link>
      <pubDate>Mon, 10 Jun 2024 05:06:07 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2024/06/10/die-welt-deiner-kindheit-existiert-nicht-mehr/</guid>
      <description>&lt;p&gt;Ich schrieb einige Dinge im Fedi, und wurde gebeten, die hier in einen Blogpost zu kippen.
Dies ist größtenteils eine unbearbeitete Kopie der Postings, und nicht die übliche Form Fließtext für das Blog.
Das tut mir leid.&lt;/p&gt;
&lt;p&gt;Veränderung nicht verstehen ist leicht.
Wenn man 16 Jahre Kohl, 7 Jahre Schröder und 16 Jahre Merkel gesehen hat, dann sind das fast 40 Jahre Stagnation,
die Abwesenheit von Veränderung in der Politik.&lt;/p&gt;
&lt;p&gt;Aber die Welt hat sich verändert. Sehr.&lt;/p&gt;
&lt;p&gt;Zum Beispiel:
Die Anzahl der PKW in Deutschland hat sich seit 1985 von 25 Millionen auf 50 Millionen verdoppelt.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://de.statista.com/statistik/daten/studie/12131/umfrage/pkw-bestand-in-deutschland/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;welt-01.png&#34; alt=&#34;2024/06/welt-01.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;


&lt;em&gt;&lt;a href=&#34;https://de.statista.com/statistik/daten/studie/12131/umfrage/pkw-bestand-in-deutschland/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quelle&lt;/a&gt;

&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Und die Autos selbst haben sich auch verdoppelt.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;700 kg Mini vs. 1200 kg Mini,&lt;/li&gt;
&lt;li&gt;800 kg Golf vs. 1700 kg ID.3&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;https://www.carsized.com/en/cars/compare/volkswagen-golf-1983-5-door-hatchback-vs-volkswagen-id3-2019-5-door-hatchback/rear/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;welt-02.png&#34; alt=&#34;2024/06/welt-02.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;a href=&#34;https://www.carsized.com/en/cars/compare/volkswagen-golf-1983-5-door-hatchback-vs-volkswagen-id3-2019-5-door-hatchback/rear/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quelle&lt;/a&gt;

 Golf vs. ID.3&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.carsized.com/en/cars/compare/mini-cooper-1990-3-door-hatchback-vs-mini-cooper-2013-3-door-hatchback/rear/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;welt-03.png&#34; alt=&#34;2024/06/welt-03.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;a href=&#34;https://www.carsized.com/en/cars/compare/mini-cooper-1990-3-door-hatchback-vs-mini-cooper-2013-3-door-hatchback/rear/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quelle&lt;/a&gt;

 Mini vs. Mini&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;CO₂-Level haben sich von einer vorindustriellen Baseline von 285 ppm auf 420 ppm in 2024 erhöht.
Das ist eine Veränderung von 135 ppm, und eine Verdoppelung des menschlichen CO₂-Eintrages seit 1985,
von 352 ppm auf 420 ppm.&lt;/p&gt;
&lt;p&gt;Das mit der Klimakatastrophe waren wir, nicht unsere Eltern oder Großeltern.
Wir haben das menschengemachte CO₂ in der Atmosphäre seit 1985 verdoppelt.
Im vollen Wissen um die Folgen.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://ourworldindata.org/grapher/co2-long-term-concentration?time=1800..latest&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;welt-04.png&#34; alt=&#34;2024/06/welt-04.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;a href=&#34;https://ourworldindata.org/grapher/co2-long-term-concentration?time=1800..latest&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quelle&lt;/a&gt;

 285 ppm vorindustriell,
352 ppm in 1965, 420 ppm jetzt.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Die Bevölkerung der Welt hat sich von 1974 bis heute verdoppelt,
von 4 Milliarden auf 8 Milliarden Menschen.
Sie wächst nicht mehr und wird laut Modell in 2086 oder so einen Spitzenwert von 10 Milliarden erreichen,
aber das Modell berücksichtigt keine Klimakatastrophe oder andere Einwirkungen,
die Mortalität erhöhen oder die Geburtenrate senken.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://ourworldindata.org/grapher/population?time=1800..latest&amp;amp;country=~OWID_WRL&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;welt-05.png&#34; alt=&#34;2024/06/welt-05.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;a href=&#34;https://ourworldindata.org/grapher/population?time=1800..latest&amp;amp;country=~OWID_WRL&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quelle&lt;/a&gt;

,
die Weltbevölkerung war 4 Milliarden in 1974, und liegt jetzt bei 8 Milliarden.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Die Welt, in der ihr groß geworden seid, bzw. die Welt mit der Struktur der Arbeit und den Methoden,
die mal funktioniert haben, existiert nicht mehr.
Die Politik, die ihr kennt, könnt Ihr nicht fortsetzen, weil ihre Methoden nicht mehr adäquat sind.
Wenn man sich hinstellt, mit dem Fuß aufstampft und &amp;ldquo;Ich will aber&amp;rdquo; wählt,
dann wird das nicht funktionieren, weil die Methode nicht mehr zum Problem paßt.&lt;/p&gt;
&lt;p&gt;Aber das werden wir jetzt im Detail ausprobieren.&lt;/p&gt;
&lt;h1 id=&#34;es-ist-nicht-alles-schlimm&#34;&gt;
    &lt;a href=&#34;#es-ist-nicht-alles-schlimm&#34;&gt;
	Es ist nicht alles schlimm
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Teile der Welt verändern sich übrigens noch schneller.&lt;/p&gt;
&lt;p&gt;So hat sich die installierte Solarleistung zwischen 2019 und 2022 einfach mal eben so verdoppelt
&lt;em&gt;und der Trend beschleunigt sich&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://ourworldindata.org/grapher/installed-solar-pv-capacity&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;welt-06.png&#34; alt=&#34;2024/06/welt-06.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;a href=&#34;https://ourworldindata.org/grapher/installed-solar-pv-capacity&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quelle&lt;/a&gt;

. PV Installation in der Welt, Summe über Zeit.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Die Kosten haben sich seit 2012 geviertelt, und seit 2017 halbiert.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://ourworldindata.org/grapher/solar-pv-prices&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;welt-07.png&#34; alt=&#34;2024/06/welt-07.png&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;a href=&#34;https://ourworldindata.org/grapher/solar-pv-prices&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quelle&lt;/a&gt;

.
Die PV Kosten sinken exponentiell (gerade Linie in einem Log-Y Graphen) seit 1975, und bisher ist das Ende noch nicht in Sicht.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Für Batterien sieht es genauso aus:
Die Kosten für LiIon Batterien sind in 30 Jahren um 97 % auf 3 % gefallen,
aber wir brauchen inzwischen kein Lithium mehr in Batterien, sondern können Natrium verwenden.
Das ist aber genau überhaupt kein kritischer Rohstoff, sondern in Massen verfügbar.&lt;/p&gt;
&lt;p&gt;Genau wird auch Kobalt nicht mehr gebraucht und viele andere seltene oder schwierige Rohstoffe sind ersetzbar geworden.
&lt;a href=&#34;https://www.weltderphysik.de/gebiet/technik/nachrichten/2023/energiespeicher-lithium-ionen-batterie-ohne-kobalt/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quelle&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;Entsprechend hat sich die Anzahl der installierten PV Batteriesysteme in einem Jahr, in 2023, mehr als verdoppelt,
&lt;em&gt;und der Trend beschleunigt sich.&lt;/em&gt; &lt;a href=&#34;https://renewablesnow.com/news/germanys-solar-battery-capacity-doubles-in-2023-846621/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Quelle&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;Alles, was ihr über die Probleme und die Kosten einer Energietransition wißt oder an Artikeln lest,
das älter als 12 Monate ist, ist wahrscheinlich falsch und basiert auf veralteten Annahmen.
Der Wandel passiert schneller, ist einfacher und gefahrloser und sehr, sehr viel billiger als ihr denkt.&lt;/p&gt;
&lt;h1 id=&#34;das-ist-nicht-das-erste-mal-so&#34;&gt;
    &lt;a href=&#34;#das-ist-nicht-das-erste-mal-so&#34;&gt;
	Das ist nicht das erste Mal so
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Das ist übrigens nicht spezifisch für unsere Zeit.&lt;/p&gt;
&lt;p&gt;Auch zur Zeit der industriellen Revolution kam es zu gravierenden Veränderungen, einer Landflucht und Verstädterung,
und damit einhergehenden echten und eingebildeten Problemen.&lt;/p&gt;
&lt;p&gt;Die Stadt Kiel, meine Heimatstadt, ist damals zum Beispiel in 30 Jahren um den Faktor 10 gewachsen.&lt;/p&gt;
&lt;p&gt;Berlin ebenso.
Ich habe in Berlin in einer Wohnung nahe der U6 Kaiserin-Augusta-Straße gewohnt.
Die Wohnung war von 1908, und man kann dort durch die Straßen gehen stadtauswärts bis Mariendorf,
und die Querstraßen sind wie Jahresringe:
Vom Tempelhofer Feld bis Mariendorf wird die Bausubstanz mit dem Ausbau der U6
bis zur Endstation wie Jahresringe Querstraße um Querstraße immer jünger.&lt;/p&gt;
&lt;p&gt;Auch damals hatte man eine Menge &amp;ldquo;Probleme&amp;rdquo;:&lt;/p&gt;
&lt;p&gt;Die Dienstbotenfrage zum Beispiel ist eine Folge dieser Landflucht–Haushaltsführung war weitgehend manuell,
und auf das Vorhandensein großer Mengen abhängiger und niedrig ausgebildeter Arbeitskräfte angewiesen.
Die waren dann aber schlagartig nicht zu kriegen.&lt;/p&gt;
&lt;p&gt;Während die Politik das Problem noch diskutierte,
hatte man den Haushalt automatisiert–Waschmaschinen und Staubsauger,
basierend auf dem Siemens-Elektromotor,
haben sehr große Teile der anfallenden Arbeiten mechanisiert.&lt;/p&gt;
&lt;p&gt;Genau dasselbe Problem hatte man in der Landwirtschaft:
Durch die Landflucht hatte man ein Personalproblem.
Aber auf einmal gab es Traktoren und eine mechanisierte Landwirtschaft.&lt;/p&gt;
&lt;p&gt;Um 1900 herum schien es,
als ob dieselbe Landwirtschaft auf der vorhandenen Fläche die wachsende Bevölkerung nicht ernähren würde können.
Aber auf einmal gab es chemische Düngemittel und das Haber-Bosch-Verfahren (1913), und etwa um dieselbe Zeit
entwickelte Bayer Pestizide und Herbizide (Dinitrol und andere),
sodass Ernteausfälle und Hungersnöte aus anderen Gründen als Krieg in Europa der Vergangenheit angehörten.&lt;/p&gt;
&lt;p&gt;Die Politik hat dennoch bis in den 2. Weltkrieg rein von notwendigem Lebensraum für das Volk geschwafelt.
Das ist auch ein Fall von Leuten,
die ihr Gehirn mit den Problemen ihrer Jugend belasten und ihr Weltbild nicht aktualisiert haben.&lt;/p&gt;
&lt;h1 id=&#34;wir-können-das-nicht&#34;&gt;
    &lt;a href=&#34;#wir-k%c3%b6nnen-das-nicht&#34;&gt;
	Wir können das nicht
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Vermutlich sind Menschen nicht gut gemacht für Veränderungen, die schneller als in 30 Jahren ablaufen.
Oder wir haben noch keine funktional wirksamen Kulturtechniken entwickelt und Prozesse etabliert,
mit denen wir solche Veränderungen zuverlässig kommunizieren und managen können.&lt;/p&gt;
&lt;p&gt;Wie gesagt, gegenwärtig sind wir bei 3 Jahren Zykluszeit mit Leuten,
deren Weltbild 30 Jahre und länger in Bernstein konserviert worden ist.
Das ist ein Problem.&lt;/p&gt;
&lt;p&gt;Man muss sich selbst da aktiv einbringen und aktualisieren.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;welt-08.jpg&#34; alt=&#34;2024/06/welt-08.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ich hatte, wie viele Kinder meiner Generation,
in meinem Regal hier gut 50 Was-ist-Was-Bücher aus den 1980er Jahren stehen.
Hier sind die überlebenden Bände zu sehen.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Man kann sich diese Was-ist-Was Bände nehmen und mit einem großen orangen Textmarker durchgehen.
Markiert man veraltete, falsche oder überholte Informationen, kommt da schon eine ganze Menge zusammen.
Markiert man auch inzwischen gelöste Probleme, noch weitaus mehr.
Die Teile sind nicht falsch per se, aber sie sind 40 oder 50 Jahre alt, und wir haben seit damals viel gelernt.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.youtube.com/watch?v=UwLjK9LFpeo&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Reality has a well-known liberal bias&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;Das Problem ist: Es handelt sich um lebendige Geschichte.
Die Leute, die mit diesen Informationen groß geworden sind, leben noch und sind heute in Entscheidungspositionen.
Und machen da gefährlichen Quatsch, der auf falschen oder veralteten Daten beruht.
Das ist schlecht.&lt;/p&gt;
&lt;p&gt;Wenn Stephen Colbert scherzhaft sagt &amp;ldquo;Reality has a well-known liberal bias&amp;rdquo;, dann bezeichnet das auch genau das:
Leute mit konservativem, veraltetem Weltbild scheitern an einer sich ändernden, progressiven Realität.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>LLMs daheim mit Ollama</title>
      <link>https://blog.koehntopp.info/2024/05/31/llms-daheim-mit-ollama/</link>
      <pubDate>Fri, 31 May 2024 05:06:07 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2024/05/31/llms-daheim-mit-ollama/</guid>
      <description>&lt;p&gt;Dieser Text ist eine Art Follow-up für &lt;a href=&#34;https://blog.koehntopp.info/2024/02/06/wie-chatgpt-funktioniert/&#34;&gt;Wie ChatGPT funktioniert&lt;/a&gt;

.
Es geht darum, ein LLM lokal auszuführen und damit zu experimentieren.&lt;/p&gt;
&lt;p&gt;Wer mit LLMs daheim experimentieren möchte, der steht vor dem Problem,
einen Haufen furchtbar empfindlicher und schlecht zu aktualisierender Abhängigkeiten in Python zu installieren,
monströse Downloads zu verwalten und die Ausführung für die eigene Maschine zu optimieren.
Das wird ein bisschen verbessert mit &lt;a href=&#34;https://github.com/ggerganov/llama.cpp&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;llama.cpp&lt;/a&gt;

,
einer C++/C Bibliothek, die einem einen Teil der Arbeit abnimmt,
aber man hat immer noch kein Paket, mit dem man einfach Ergebnisse bekommt.&lt;/p&gt;
&lt;p&gt;Abhilfe schafft hier &lt;a href=&#34;https://github.com/ollama/ollama&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Ollama&lt;/a&gt;

,
eine in Golang geschriebene Anwendung,
die llama.cpp integriert und den Download, die Verwaltung und die Ausführung von LLMs automatisiert.
Die &lt;a href=&#34;https://ollama.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Website&lt;/a&gt;

 verweist auf das Blog,
den Discord und das Github von Ollama, und hat eine Suche,
mit der man auf Ollama angepasste LLms finden und herunterladen kann.&lt;/p&gt;
&lt;h1 id=&#34;installation&#34;&gt;
    &lt;a href=&#34;#installation&#34;&gt;
	Installation
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;LLMs sind rechenintensive Monster, die eine große Maschine zur Ausführung brauchen.
Aber eingedampfte Spezialversionen kann man schon auf einem großen Raspi ausführen.
Größe ist jedoch ein qualitativer Unterschied:
Ein LLM mit 0.3 Mrd. Parameters verhält sich ganz anders als eines mit 8 Mrd. Parametern,
und dieses wiederum wird von einem LLM mit 70 Mrd. Parameters vollkommen deklassiert.
Ersteres kann man auf einem Raspi ausführen,
die 8 Mrd. Parameter-Modelle oft auf einem Mac oder Windows-Rechner mit 32 GB RAM oder 12 GB VRAM in der Grafikkarte,
und die 70 Mrd. Parameter-Modelle brauchen in der Regel Spezialrechner mit 128 GB RAM und zwei 24 GB Nvidia-Karten kombiniert.&lt;/p&gt;
&lt;p&gt;In meinem Fall steht mir&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ein Mac mini M2pro mit 32 GB RAM und 8+4 Cores&lt;/li&gt;
&lt;li&gt;ein Windows 11 Rechner mit 64 GB RAM und Nvidia 4070Ti (12 GB VRAM)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;zur Verfügung. Beide Maschinen haben ausreichend Plattenplatz auf NVME.&lt;/p&gt;
&lt;p&gt;Man kann sich Ollama von der Website herunterladen und installieren,
oder das Golang Projekt selbst clonen und compilieren,
aber die einfachste Weise der Installation sind Paketmanager für MacOS und Windows.&lt;/p&gt;
&lt;p&gt;Auf dem Mac habe ich Homebrew, und &lt;code&gt;brew install ollama&lt;/code&gt; ist die schnellste und einfachste Methode,
Ollama zu installieren und aktuell zu halten.
Auf Windows geht dasselbe mit &lt;a href=&#34;https://scoop.sh/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Scoop&lt;/a&gt;

, &lt;code&gt;scoop install ollama&lt;/code&gt; regelt die Details.&lt;/p&gt;
&lt;h1 id=&#34;ollama-serve-ausführen&#34;&gt;
    &lt;a href=&#34;#ollama-serve-ausf%c3%bchren&#34;&gt;
	&lt;code&gt;ollama serve&lt;/code&gt; ausführen
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Ollama wird als Server ausgeführt.
Dazu muss man &lt;code&gt;ollama serve&lt;/code&gt; starten.&lt;/p&gt;
&lt;p&gt;Alle weiteren Operationen setzen voraus, daß in einem Fenster irgendwo &lt;code&gt;ollama serve&lt;/code&gt; aktiv ist,
denn alle weiteren Operationen tun nichts anderes als REST-Requests an &lt;code&gt;ollama serve&lt;/code&gt; zu senden.
Dies kann mit der &lt;code&gt;ollama&lt;/code&gt;-Kommandozeile passieren, oder man schreibt sich eigene Python-Programme, die das tun&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;$&lt;/span&gt; ollama serve
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;kk:~ kris$ ollama serve
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;2024/05/31 09:52:25 routes.go:1008: INFO server config 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;  env=&amp;#34;map[OLLAMA_DEBUG:false OLLAMA_LLM_LIBRARY: OLLAMA_MAX_LOADED_MODELS:1 OLLAMA_MAX_QUEUE:512
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;   OLLAMA_MAX_VRAM:0 OLLAMA_NOPRUNE:false OLLAMA_NUM_PARALLEL:1 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;   OLLAMA_ORIGINS:[http://localhost ... https://0.0.0.0:*] 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;   OLLAMA_RUNNERS_DIR: OLLAMA_TMPDIR:]&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;time=2024-05-31T09:52:25.124+02:00 level=INFO source=images.go:704 msg=&amp;#34;total blobs: 28&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;time=2024-05-31T09:52:25.131+02:00 level=INFO source=images.go:711 msg=&amp;#34;total unused blobs removed: 0&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;[GIN-debug] [WARNING] Creating an Engine instance with the Logger and Recovery middleware already attached.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;time=2024-05-31T10:02:15.032+02:00 level=INFO source=payload.go:44 msg=&amp;#34;Dynamic LLM libraries [metal]&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;time=2024-05-31T10:02:15.090+02:00 level=INFO source=types.go:71 msg=&amp;#34;inference compute&amp;#34; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;  id=0 library=metal compute=&amp;#34;&amp;#34; driver=0.0 name=&amp;#34;&amp;#34; total=&amp;#34;21.3 GiB&amp;#34; available=&amp;#34;21.3 GiB&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ollama lädt später Parameterdaten für die LLMs herunter. Diese nehmen einige Gigabyte Plattenplatz ein.
Per Default legt das MacOS Ollama dies im Home des Benutzers ab, in &lt;code&gt;$HOME/.ollama/models&lt;/code&gt;.
Man kann dies mit einer Umgebungsvariable umstellen.&lt;/p&gt;
&lt;p&gt;In diesem Fall muss man &lt;code&gt;OLLAMA_MODELS&lt;/code&gt; setzen:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;kk:~ kris$ ollama serve --help
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;Start ollama
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;Usage:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;  ollama serve [flags]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;Aliases:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;  serve, start
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;Flags:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;  -h, --help   help for serve
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;Environment Variables:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;    OLLAMA_HOST         The host:port to bind to (default &amp;#34;127.0.0.1:11434&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;    OLLAMA_ORIGINS      A comma separated list of allowed origins
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;    OLLAMA_MODELS       The path to the models directory (default &amp;#34;~/.ollama/models&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;    OLLAMA_KEEP_ALIVE   The duration that models stay loaded in memory (default &amp;#34;5m&amp;#34;)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;    OLLAMA_DEBUG        Set to 1 to enable additional debug logging
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;$&lt;/span&gt; kk:~ kris$ mkdir /Volumes/Ablage/Torch/ollama-models/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;$&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;OLLAMA_MODELS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/Volumes/Ablage/Torch/ollama-models/ ollama serve
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Der Speicher dort sollte schnell sein und ausreichend Raum bereitstellen:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;kk:~ kris$ df -h /Volumes/Ablage
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;Filesystem      Size    Used   Avail Capacity iused ifree %iused  Mounted on
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;/dev/disk9s1   3.6Ti   804Gi   2.9Ti    22%    360k   31G    0%   /Volumes/Ablage
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;kk:~ kris$ du -sh /Volumes/Ablage/Torch/ollama-models
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt; 54G	/Volumes/Ablage/Torch/ollama-models
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;kk:~ kris$ ollama list
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;NAME                    	ID          	SIZE  	MODIFIED
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;llama3:70b-instruct-q2_K	693db6efd8f9	26 GB 	6 days ago
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;llama3:instruct         	365c0bd3c000	4.7 GB	6 days ago
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;mistral:instruct        	2ae6f6dd7a3d	4.1 GB	6 days ago
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;gemma:instruct          	a72c7f4d0a15	5.0 GB	6 days ago
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;llama3-gradient:instruct	5d1398df5b8b	4.7 GB	6 days ago
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;phi3:14b                	1e67dff39209	7.9 GB	7 days ago
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;llava-llama3:latest     	44c161b1f465	5.5 GB	7 days ago
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;llama3-gradient:latest  	5d1398df5b8b	4.7 GB	7 days ago
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;phi3:14b-instruct       	1e67dff39209	7.9 GB	7 days ago
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Der Ollama-Server bindet sich an localhost, Port 11434 und lauscht nun auf eingehende REST-Requests.
Diese können dazu führen, daß ein Model geladen und ausgeführt wird.
Das kann beim ersten Mal einige Zeit dauern, da viele Gigabyte Daten geladen werden müssen.&lt;/p&gt;
&lt;p&gt;Der Server hält das Model einige Zeit im Speicher, &lt;code&gt;OLLAMA_KEEP_ALIVE&lt;/code&gt; viele Minuten.
Der Default ist 5 m.
Danach wird der Speicher wieder freigegeben.&lt;/p&gt;
&lt;h1 id=&#34;modelle-aus-dem-internet-laden&#34;&gt;
    &lt;a href=&#34;#modelle-aus-dem-internet-laden&#34;&gt;
	Modelle aus dem Internet laden
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;LLMs sind recht komplizierte Konstrukte mit der eigentlichen Parameter-Datei, die den Großteil der Daten aus macht,
einem Systemprompt und weiteren Layers, die meist eher nicht so groß sind.
Auf einem handelsüblichen Desktop-Rechner kann man erwarten, ein &amp;ldquo;7B&amp;rdquo; oder &amp;ldquo;8B&amp;rdquo;-Modell auszuführen.
Dies belegt zwischen 5 GB und 9 GB an Speicher, im RAM oder auf der Grafikkarte.&lt;/p&gt;
&lt;p&gt;Richtig große Modelle, 70B-Modelle, brauchen wesentlich mehr Speicher und eine Hardware,
die für die Ausführung von LLMs auf mehreren Grafikkarten vorbereitet ist.&lt;/p&gt;
&lt;p&gt;Ein guter Startpunkt ist das Mistral AI-Model &lt;a href=&#34;https://ollama.com/library/mistral&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Mistral&lt;/a&gt;

.
Man lädt es mit &lt;code&gt;ollama pull mistral:instruct&lt;/code&gt; herunter.
Das wird Zeit lang dauern und das Model-Directory entsprechend voll machen.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;HINWEIS:&lt;/strong&gt; Noch einmal die Erklärung, daß alle Arbeit von &lt;code&gt;ollama serve&lt;/code&gt; erledigt wird.
Wenn dieses Kommando nicht aktiv ist, funktioniert keines der anderen Kommandos.
&lt;code&gt;ollama pull&lt;/code&gt;, &lt;code&gt;ollama run&lt;/code&gt; und auch &lt;code&gt;ollama rm&lt;/code&gt; senden lediglich REST-Requests an den Server,
der dann die Arbeit macht.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;kk:~ kris$ ollama pull mistral:instruct
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;pulling manifest
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;pulling ff82381e2bea... 100% ▕████████████████▏ 4.1 GB
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;pulling 43070e2d4e53... 100% ▕████████████████▏  11 KB
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;pulling c43332387573... 100% ▕████████████████▏   67 B
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;pulling ed11eda7790d... 100% ▕████████████████▏   30 B
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;pulling 42347cd80dc8... 100% ▕████████████████▏  485 B
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;verifying sha256 digest
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;writing manifest
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;removing any unused layers
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;success
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;modelle-ausführen&#34;&gt;
    &lt;a href=&#34;#modelle-ausf%c3%bchren&#34;&gt;
	Modelle ausführen
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Das Modell kann man mit &lt;code&gt;ollama run mistral:instruct&lt;/code&gt; testen.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&lt;/span&gt;&amp;gt;&amp;gt; /set verbose
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;Set &amp;#39;verbose&amp;#39; mode.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&lt;/span&gt;&amp;gt;&amp;gt; Explain in a single sentence &lt;span class=&#34;s2&#34;&gt;&amp;#34;Why is the sky blue?&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt; The sky appears blue because molecules in the Earth&amp;#39;s atmosphere scatter
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;sunlight in all directions, and blue light is scattered more because it
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;travels in shorter, smaller waves.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;err&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;total duration:       1.559908875s
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;load duration:        2.719417ms
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;prompt eval count:    23 token(s)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;prompt eval duration: 303.421ms
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;prompt eval rate:     75.80 tokens/s
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;eval count:           41 token(s)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;eval duration:        1.245361s
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;eval rate:            32.92 tokens/s
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Wir sehen hier, daß mein M2 pro mini 32 GB 1.56 Sekunden gebraucht hat, um diese Antwort zu generieren.
Die Frage hat &amp;ldquo;23 Token&amp;rdquo; belegt, die mit 75 Token/s analysiert worden sind.&lt;/p&gt;
&lt;p&gt;Die Generierung der Ausgabe hat 41 Token erzeugt, 1.25s gedauert und ist mit 33 Token/s gelaufen.
Der Rechner hat dabei ca. 50 Watt gezogen. Normal verbraucht er circa 7 Watt, also werden 43 Watt mehr verbraucht.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;ollama-3.png&#34; alt=&#34;2024/05/ollama-3.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ausgabe der MacOS App Stats (&lt;code&gt;brew install stats&lt;/code&gt;), der Rechner verbraucht normal ca. 7 Watt, mit dem LLM aktiv 50 Watt.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;ollama-1.png&#34; alt=&#34;2024/05/ollama-1.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ausgabe der MacOS App Stats, hier: GPU Auslastung. Dies ist die einzige Anwendung, die die Mac mini GPU an den Anschlag bringt.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Die Nvidia 4070Ti kommt auf mehr als 70 Token/s, zieht aber über 400 W.&lt;/p&gt;
&lt;p&gt;Der &lt;code&gt;ollama run&lt;/code&gt;-Prompt kann mit &lt;code&gt;/bye&lt;/code&gt; verlassen werden.&lt;/p&gt;
&lt;p&gt;Die vorhandenen Modelle können mit &lt;code&gt;ollama list&lt;/code&gt; aufgelistet werden.
Mit &lt;code&gt;ollama rm&lt;/code&gt; löscht man ein lokales Modell und gibt den Plattenplatz frei.
Es muss dann neu heruntergeladen werden.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;kk:~ kris$ ollama rm llama3:instruct
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;deleted &amp;#39;llama3:instruct&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;arbeiten-mit-ollama-run-texte-zusammenfassen&#34;&gt;
    &lt;a href=&#34;#arbeiten-mit-ollama-run-texte-zusammenfassen&#34;&gt;
	Arbeiten mit &lt;code&gt;ollama run&lt;/code&gt;: Texte zusammenfassen
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Für das folgende Beispiel ist ein laufender Server &lt;code&gt;ollama serve&lt;/code&gt; erforderlich,
das Modell &lt;code&gt;mistral:instruct&lt;/code&gt; muss bereitstehen (d.h. &lt;code&gt;ollama list&lt;/code&gt; zeigt es an),
und wir verwenden den Text &lt;a href=&#34;https://www.gutenberg.org/files/61213/61213.txt&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;The 64-Square Madhouse&lt;/a&gt;

 von Fritz Leiber.&lt;/p&gt;
&lt;p&gt;Das Ziel ist es, Ollama diesen Text mithilfe von Llama 3 zusammenfassen zu lassen.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Den Text von Fritz Leiber vom Projekt Gutenberg herunterladen.
Es ist hilfreich, allen Copyright-Text am Anfang und am Ende wegzuschneiden,
um dem Modell nur die Story selbst zu füttern.&lt;/li&gt;
&lt;li&gt;Server starten: &lt;code&gt;ollama serve&lt;/code&gt;.
Dabei sind ggf. die notwendigen Parameter als Umgebungsvariablen zu setzen, damit die Modelle gefunden werden.&lt;/li&gt;
&lt;li&gt;Modell prüfen: &lt;code&gt;ollama list&lt;/code&gt; zeigt das Modell &lt;code&gt;mistral:instruct&lt;/code&gt; als vorhanden an.
Ansonsten muss es mit &lt;code&gt;ollama pull mistral:instruct&lt;/code&gt; heruntergeladen werden.&lt;/li&gt;
&lt;li&gt;Den Prompt mit &lt;code&gt;ollama run mistral:instruct&lt;/code&gt; starten.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Wir verwenden hier das Modell &lt;code&gt;mistral:instruct&lt;/code&gt; von &lt;a href=&#34;https://en.wikipedia.org/wiki/Mistral_AI&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Mistral AI&lt;/a&gt;

.
Das ist eine Firma von ehemaligen Google und Meta/Facebook Mitarbeitern, die vor einem Jahr in Paris gegründet wurde.&lt;/p&gt;
&lt;p&gt;Auf dem Prompt erfolgt die Kommunikation mit dem Modell in Englisch.
Manche Modelle sind ausdrücklich mehrsprachig trainiert (zum Beispiel &lt;a href=&#34;https://ollama.com/library/mixtral&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Mixtral&lt;/a&gt;

),
aber wenn dies in der Anleitung zum Modell nicht angegeben ist, ist Englisch zu verwenden.&lt;/p&gt;
&lt;p&gt;Wir können dem Modell eine Anfrage in einer Zeile stellen.
Mehrzeilige Anweisungen werden mit &lt;code&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/code&gt; eingeleitet und genau so beendet.&lt;/p&gt;
&lt;p&gt;Es ist ein &lt;code&gt;instruct&lt;/code&gt;-Modell, es wird also keine Annahmen machen, sondern wir müssen Arbeitsanwendungen geben.&lt;/p&gt;
&lt;p&gt;Wir können dem Client Parameter setzen.
Dies erfolgt mit &lt;code&gt;/&lt;/code&gt;-Kommandos, &lt;code&gt;/help&lt;/code&gt; für eine Übersicht.&lt;/p&gt;
&lt;p&gt;Modelle haben Parameter.
Ein wichtiger Parameter ist &lt;code&gt;num_ctx&lt;/code&gt; (manchmal auch n_ctx).
Er bestimmt die Anzahl der Token, die das Modell als Kontextspeicher für die Antwortgenerierung verwendet.&lt;/p&gt;
&lt;p&gt;Ein Embedding ist ein vieldimensionaler Vektor, der Bedeutung von Worten codiert.
Es belegt etwa 1 Kilobyte an Speicher.
Ein Token ist ein Zeiger auf ein Embedding, aber im Kontext der Antwortgenerierung wird das Token kopiert.
Ein Kontext von 65536 belegt also in etwa 64 MB Speicher.
In englischer Sprache entspricht ein Wort in etwa 1.3 Tokens.&lt;/p&gt;
&lt;p&gt;Unser Beispieltext hat, nachdem wir vorne und hinten alles das wegschneiden,
was Projekt Gutenberg als Disclaimer hinzugefügt hat,
eine Größe von circa 14.000 Worten:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;kk:~ kris$ wc leiber-64-square.txt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;    1824   13853   84236 leiber-64-square.txt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Wenn wir dem Modell einen Kontext von 65536 Token geben, dann sollte es mit der Geschichte gut zurechtkommen.
&lt;strong&gt;HINWEIS:&lt;/strong&gt;* Es heißt &lt;code&gt;/set parameter num_ctx 65536&lt;/code&gt;, nicht &lt;code&gt;/set num_ctx 65536&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;kk:~ kris$ ollama run mistral:instruct
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&lt;/span&gt;&amp;gt;&amp;gt; /set verbose
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;Set &amp;#39;verbose&amp;#39; mode.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&lt;/span&gt;&amp;gt;&amp;gt; /set parameter num_ctx &lt;span class=&#34;m&#34;&gt;65536&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;Set parameter &amp;#39;num_ctx&amp;#39; to &amp;#39;65536&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;&amp;gt;&lt;/span&gt;&amp;gt;&amp;gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;... You are an english teacher.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;... Summarize the following story,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;... providing an overview over the main characters of the story,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;... and a paragraph for each scene or major event that happens in the course of
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;... the story.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;... As a conclusion, provide context: What is the story about?
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;... 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;... The story:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Wir setzen also &lt;code&gt;/set verbose&lt;/code&gt;, um Statistiken zu bekommen.
Wir setzen dann den Parameter &lt;code&gt;/set parameter num_ctx 65536&lt;/code&gt;, um dem Modell genug Arbeitskontext zu geben.
Danach leiten wir mit &lt;code&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/code&gt; einen mehrzeiligen Input ein.
Dieser wird durch &lt;code&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/code&gt; auf einer neuen Zeile genau so abgeschlossen.&lt;/p&gt;
&lt;p&gt;In einem anderen Fenster laden wir nun die Story in den Paste-Buffer:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;(venv) kk:keks kris$ cat leiber-64-square.txt | pbcopy
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;(venv) kk:keks kris$
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Diese kann nun in den Ollama-Prompt gepasted werden.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;... Sandra said, &amp;#34;Well, there&amp;#39;s something you can&amp;#39;t build into a
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;... machine--ego.&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;... &amp;#34;Oh, I don&amp;#39;t know about that,&amp;#34; said Simon Great.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;... &amp;#34;&amp;#34;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Die generierte Antwort des Modells lautet:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This story is about a chess tournament featuring an electronic computing
machine named the Machine. The Machine is entering its first international
grandmaster chess tournament, and the large hall where the event takes
place is filled with energetic dark-suited men who are either playing
chess or discussing it. There are signs featuring various combinations of
letters such as FIDE, WBM, USCF, USSF, USSR, and UNESCO, and many clocks
bedside table size with red flags and wheels on their faces are present to
keep track of each player&amp;rsquo;s moves. The Machine is programmed by a
psychologist named Simon Great, who has been out of tournament chess for
twenty years but is now making a comeback.&lt;/p&gt;
&lt;p&gt;The main characters in the story are Sandra Lea Grayling, a journalist for
the &lt;em&gt;Chicago Space Mirror&lt;/em&gt;, and Dr. Krakatower, a former grandmaster of
chess who is also a special correspondent for the London Times. The
Machine is also a character, as it plays against various human opponents
throughout the tournament.&lt;/p&gt;
&lt;p&gt;The story unfolds over the course of several days, with each scene or
major event taking place during one of the nine rounds of the tournament.
In the first round, the Machine plays against Bela Grabo and wins the
game. This causes a stir among the players and spectators, as many believe
that the Machine is too good to be true. In the second round, the Machine
faces off against Votbinnik and again emerges victorious. This pattern
continues throughout the tournament, with the Machine consistently
outplaying its human opponents.&lt;/p&gt;
&lt;p&gt;Dr. Krakatower struggles throughout the tournament, losing several games
and finding himself in last place. However, he manages to draw his game
against Sherevsky in the next to last round, which gives him a small
glimmer of hope. In the final round, the Machine plays against Willie
Angler, who has been consistently strong throughout the tournament. The
outcome of this match will determine the winner of the tournament.&lt;/p&gt;
&lt;p&gt;As the story reaches its conclusion, it is revealed that Angler had
intentionally played a flawed move in his game against the Machine, as he
had discovered an error in the programming of the Machine&amp;rsquo;s opening moves.
This tactic pays off, and Angler wins the game and the tournament. The
final standing shows that Angler and Votbinnik are tied for first place,
with the Machine in second.&lt;/p&gt;
&lt;p&gt;The story concludes with a discussion between Simon Great, Willie Angler,
and Dr. Krakatower about the future of chess and computer programming. It
is suggested that grandmaster chess without computers will become less
popular, as players will increasingly rely on computers to aid them in
their games. The story also touches on the idea of man-machine symbiosis,
with the implication that future grandmasters may be a combination of
human and machine. The story serves as a commentary on the changing nature
of chess and the role of technology in society.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;und&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;total duration:       3m33.240299458s
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;load duration:        20.467748958s
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;prompt eval count:    22580 token(s)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;prompt eval duration: 1m58.450477s
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;prompt eval rate:     190.63 tokens/s
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;eval count:           634 token(s)
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;eval duration:        1m14.263155s
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;eval rate:            8.54 tokens/s
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Wir haben eine recht gute Evaluation Rate: 190 Token/s.
Die Generierung der Antwort ist langsamer, auch wegen des großen Kontexts, den wir gesetzt haben: 8.5 Token/s.&lt;/p&gt;
&lt;p&gt;Eine Laufzeit von 3 Minuten bei einem Mehrverbrauch von 43 Watt entspricht einem Energieaufwand von 2.15 Wh.
Bei einem Preis von 32 Cent pro 1000 Wh (1 kWh) sind das 2.15/1000 * 32 = .0672 Cent zur Generierung der Ausgabe.&lt;/p&gt;
&lt;h1 id=&#34;selbst-coden&#34;&gt;
    &lt;a href=&#34;#selbst-coden&#34;&gt;
	Selbst coden
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Es gibt eine Ollama Python Bibliothek.
Diese tut nicht mehr, als Requests an &lt;code&gt;ollama serve&lt;/code&gt; zu senden:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/ollama/ollama-python&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ollama-python&lt;/a&gt;

&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/ollama/ollama/tree/main/docs&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;ollama API Dokumentation&lt;/a&gt;

, api.md&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://docs.mistral.ai/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Mistral Model Documentation&lt;/a&gt;

, die Code-Beispiele dort gehen davon aus,
daß man deren Server verwendet. Das tun wir nicht, wir verwenden Ollama und eine lokale Instanz.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Die REST API ist in &lt;code&gt;api.md&lt;/code&gt; im Ollama Quelltext-Tree auf Github dokumentiert.&lt;/p&gt;
&lt;p&gt;Die &lt;code&gt;ollama.chat()&lt;/code&gt;-Funktion (und auch die gleichnamige Funktion der Mistral API, die gegen deren Instanz arbeitet),
hat einen Parameter &lt;code&gt;messages&lt;/code&gt; (Plural, eine Liste).
Das LLM ist stateless.
Es kann sich nicht an vorhergehende Nachrichten erinnern.
Daher muss man dem Modell bei jedem Request alle vorhergehenden Fragen und Antworten und auch den Systemprompt mitsenden.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;o&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;ollama&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Client&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;host&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;127.0.0.1&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;response&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;o&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;chat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;model&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;mistral:instruct&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;n&#34;&gt;messages&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;role&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;system&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;instructions&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;role&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;user&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;old_message&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;p&#34;&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;role&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;assistant&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;old_answer&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;p&#34;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;role&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;user&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                &lt;span class=&#34;s2&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;message&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;p&#34;&gt;},&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;p&#34;&gt;],&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Genauso muss man &lt;code&gt;options={}&lt;/code&gt; mitsenden, wenn man zum Beispiel mehr Kontext braucht.&lt;/p&gt;
&lt;p&gt;Die Anleitung zu Mistral gibt bessere
&lt;a href=&#34;https://docs.mistral.ai/guides/prompting_capabilities/#summarization&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Summarization Prompts&lt;/a&gt;


als Beispiel und erklärt im hinteren Teil mehr zu Tokens, Tokenization und zum direkten Umgang mit dem LLM.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Operations Review Meeting (deutsch)</title>
      <link>https://blog.koehntopp.info/2024/04/18/operations-review-meeting-deutsch/</link>
      <pubDate>Thu, 18 Apr 2024 05:06:07 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2024/04/18/operations-review-meeting-deutsch/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/2024/04/18/operations-review-meeting/&#34;&gt;In English&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;Montagnachmittag, &amp;ldquo;Operations Review Meeting&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Der perfekte Zeitpunkt, um sich während des Zoom Meetings ein Nickerchen zu gönnen,
während eine Gruppe von Management-Personen ohne technischen Hintergrund
sich für 90 Minuten einschläfernde PowerPoint-Folien vorführen wird.&lt;/p&gt;
&lt;p&gt;Fred Irgendwas, zuständig für den Wasauchimmer-Service,
berichtet stolz, dass die Anzahl der Prio 1-Vorfälle in diesem Quartal zwar um 17 Prozent gestiegen ist,
aber die TTR deutlich gesunken ist.
Das ist doch was Gutes, oder?&lt;/p&gt;
&lt;p&gt;Wie bitte?
Ein Blick ins Unternehmens-Jargon-Lexikon: TTR (Time To Resolution) ist die Zeit bis zur Lösungn des Incidents.&lt;/p&gt;
&lt;p&gt;Okay, Fred.
Zeit für eine Intervention.&lt;/p&gt;
&lt;p&gt;Siebzehn Prozent ist eine vertraute Zahl. Also hattet ihr im Q4 sechs P1s und jetzt habt ihr sieben?&lt;/p&gt;
&lt;p&gt;Fred bestätigt das.&lt;/p&gt;
&lt;p&gt;Gut. Wenn es 100 im Q4 und 117 im Q1 gewesen wären, dann würdest du jetzt Burger braten.&lt;/p&gt;
&lt;p&gt;Also Fred, das ist eine kleine, ganze Zahl.
Warum schaltest du nicht mal das Screen-Sharing aus,
und erzählst uns, was diese sieben Mal im Detail passiert ist,
als wir einen Produktionsausfall wegen des Wasauchimmer-Dienstes hatten?&lt;/p&gt;
&lt;p&gt;Fred weiß es nicht.
Er ist nicht technisch.
Er holt Jane in die Konferenz.&lt;/p&gt;
&lt;p&gt;Jane weiß Bescheid.
Jane ist ebenfalls nicht technisch, sie hat denselben MBA wie Fred,
aber der entscheidende Unterschied ist, dass Jane einen Pager trägt, weil Jane sich kümmert.&lt;/p&gt;
&lt;p&gt;Wenn ihr Team aufwacht, wacht sie auch auf, und so weiß sie wie es ist.
Sie &lt;strong&gt;versteht&lt;/strong&gt; es auf eine sehr greifbare und persönlich schmerzhafte Weise.
(Ich habe Joe zu Jane geändert, weil es zu 80 % eine Jane ist, die sich kümmert.)&lt;/p&gt;
&lt;p&gt;Jane berichtet,
dass drei der Q4-Vorfälle und vier der Q1-Vorfälle auf ein Problem mit der Passwortbereitstellung
zwischen Vault und den Datenbanken zurückzuführen sind.
Es kommt regelmäßig vor, dass einige Authentifizierungstoken nach einem Redeploy ablaufen,
obwohl der Redeploy diese mit aktualisieren sollte.&lt;/p&gt;
&lt;p&gt;Das ist interessant, viel interessanter als das Zahlen-Hokuspokus von Fred.&lt;/p&gt;
&lt;p&gt;Jane berichtet weiter,
dass die TTR gesunken ist, weil sie das Problem jetzt kennen
und es Teil der Deployment-Checkliste und der Incident-Resolution-Dokumentation ist.&lt;/p&gt;
&lt;p&gt;Auf die Frage, warum das Problem nicht an der Wurzel behoben wird,
erklärt Jane, dass dies ein Operations-Problem ist und nicht Teil des Feature-Entwicklungs-Backlogs,
und daher eine niedrige Priorität hat.
Backlog-Items mit niedriger Priorität schaffen es nie in den eigentlichen Sprint.&lt;/p&gt;
&lt;p&gt;Also, Jane,
was du uns damit sagen willst, ist,
dass wir Ausfallzeiten haben, die uns Geld durch verlorene Umsätze kosten,
weil wir Operations unterpriorisieren und nicht ernst nehmen.
Und weil wir das Feedback von Operations nicht in den Backlog-Priorisierungsprozess einfließen lassen?&lt;/p&gt;
&lt;p&gt;Jane stimmt dem zu, in diesem nervigen, unverbindlichen Unternehmenssprech, das wir alle hassen.
Sie erwähnt auch, dass die Operations unterbesetzt sind,
weil drei von den zusätzlichen benötigten Stellen abgelehnt wurden,
und die anderen beiden von Senior auf einen Regular und einen Junior herabgestuft wurden.
Operations wird das Problem also auch nicht selbst lösen können,
sondern ist auf eine Lösung aus dem Sprint des Feature-Teams angewiesen.&lt;/p&gt;
&lt;p&gt;Das Unternehmen zieht es vor, Geld für Entwickler auszugeben, denn Operations sind nur ein Kostenfaktor.&lt;/p&gt;
&lt;p&gt;Das Unternehmen erwägt den Umzug zu AWS, weil Operations ein schwieriges Thema ist,
und sie sich auf das Geschäft konzentrieren wollen.&lt;/p&gt;
&lt;p&gt;Die Wahrheit ist, dass sie keine Ahnung haben, wie ihre Geschäftsprozesse tatsächlich vor Ort ablaufen.
Und es ihnen im Grunde egal ist.
Und bald werden sie noch weniger davon verstehen, weil es von hier aus genau so weitergeht.
Die ganze Zeit.&lt;/p&gt;
&lt;p&gt;Das passiert in Unternehmen auf der ganzen Welt, und so häuft sich der Schlamassel an.
So, oder auf eine von einer Milliarde andere Arten, die tatsächlich isomorph zu dieser sind.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Die Sache mit den Kreisen</title>
      <link>https://blog.koehntopp.info/2024/04/03/die-sache-mit-den-kreisen/</link>
      <pubDate>Wed, 03 Apr 2024 05:06:07 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2024/04/03/die-sache-mit-den-kreisen/</guid>
      <description>&lt;p&gt;Der Sohn brauchte Kreisfunktionen für Dinge in Minecraft.
Ich habe ihm ein paar Notizen gemacht.&lt;/p&gt;
&lt;h1 id=&#34;anatomie-eines-kreises&#34;&gt;
    &lt;a href=&#34;#anatomie-eines-kreises&#34;&gt;
	Anatomie eines Kreises
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;kreis-01.png&#34; alt=&#34;2024/04/kreis-01.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;Der Kreis hat einen Radius 1, einen Durchmesser von 2, das heißt, er belegt das Quadrat von &lt;code&gt;(-1, -1)&lt;/code&gt; bis &lt;code&gt;(1, 1)&lt;/code&gt;.
Der Mittelpunkt &lt;strong&gt;M&lt;/strong&gt; ist in der Mitte vom Koordinatensystem, bei &lt;code&gt;(0,0)&lt;/code&gt;.
Das nennt man einen Einheitskreis.&lt;/p&gt;
&lt;p&gt;Aus dem Einheitskreis kann man durch Verschieben und durch Verkleinern oder Vergrößern jeden anderen Kreis erzeugen.
Man sagt, alle Kreise sind zueinander isomorph - von gleicher (iso) Form (morph).&lt;/p&gt;
&lt;p&gt;Der Radius &lt;strong&gt;r&lt;/strong&gt; ist die Linie vom Mittelpunkt &lt;strong&gt;M&lt;/strong&gt; zum Rand des Kreises.
Diese Linie ist im Einheitskreis immer genau 1 lang.&lt;/p&gt;
&lt;p&gt;Der Durchmesser &lt;strong&gt;d&lt;/strong&gt; ist die Linie vom einen Rand des Kreises durch die Mitte &lt;strong&gt;M&lt;/strong&gt; zum gegenüberliegenden Punkt auf dem Rand des Kreises.
Bei einem Radius von 1 ist der Durchmesser natürlich 2, und generell ist &lt;code&gt;d = 2 * r&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Bei Winkeln ist es so, daß in der Mathematik und Geometrie Null Grad immer rechts,
bei der Position &lt;code&gt;(1, 0)&lt;/code&gt; ist (auf der positiven X Achse) und dann links herum (gegen den Uhrzeigersinn) gedreht wird.
Bei Computergrafiken kann alles Mögliche passieren, wie es der jeweiligen Hardware angenehm ist.
Dann muss man die übliche Umrechnung von Weltkoordinaten in Anzeigekoordinaten vornehmen.&lt;/p&gt;
&lt;h1 id=&#34;pi-grad-und-rad&#34;&gt;
    &lt;a href=&#34;#pi-grad-und-rad&#34;&gt;
	Pi, Grad und rad
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Das Verhältnis von Umfang u des Kreises zu Durchmesser d ist immer genau gleich,
und es ist π (Pi).
Das heißt, ein Kreis mit dem Durchmesser &lt;code&gt;d=2&lt;/code&gt; (dem Radius &lt;code&gt;r=1&lt;/code&gt;) hat den Umfang von &lt;code&gt;u/d = math.Pi&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;math&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;mf&#34;&gt;3.141592653589793&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;22&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;7&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;mf&#34;&gt;3.142857142857143&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Pi ist eine irrationale Zahl.
Das heißt, sie ist nicht als Ratio, als Verhältnis zweier ganzer Zahlen, als Bruch darstellbar.
Der Bruch 22/7 kommt einigermaßen nahe, aber Pi ist kein Bruch.&lt;/p&gt;
&lt;p&gt;Pi ist auch Nicht-Abbrechend (sonst wäre Pi ja als Bruch von Zehnteln, Hundersteln, Tausensteln, &amp;hellip; darstellbar)
und nicht periodisch (also nix mit 3.1415926 1415926 1415926 &amp;hellip;),
sondern unendlich und nicht-periodisch.&lt;/p&gt;
&lt;p&gt;Für das Rechnen im täglichen Gebrauch reicht es &amp;ldquo;22/7&amp;rdquo; und 3.1415926 auswendig zu lernen.&lt;/p&gt;
&lt;p&gt;Der Umfang eines Kreises ist also &lt;code&gt;u = π*d = 2*π*r&lt;/code&gt;.
Das (&lt;code&gt;u = 2πr&lt;/code&gt;) muss man auswendig wissen.&lt;/p&gt;
&lt;p&gt;Wenn wir also eine kreisförmige Bahnstrecke mit dem Radius 1 m (Durchmesser 2 m) bauen,
und die Bahn von links aus linksrum im Kreis fahren lassen,
dann hat sie, nachdem sie einmal im Kreis gefahren ist,
eine Entfernung von genau 2π Meter zurückgelegt.
Sie hat ja den Umfang des Kreises abgefahren,
und der ist ja genau 2π Meter = 6.283 m = 6 Meter 28 cm und 3 mm.&lt;/p&gt;
&lt;p&gt;In diesem Sinn kann man Winkel in Grad angeben (0 Grad, 90 Grad, 180 Grad, 270 Grad, 360 Grad)
oder in Fahrstrecke auf dem Umfang (0π, 0.5π, 1π, 1.5π, 2π).
Das nennt man Radians oder rad.
In der Geometrie verwendet man beides, Grad und rad,
und die Mathematikfunktionen in Python und jeder anderen Programmiersprache arbeiten per Default immer mit rad.
Darum ist das wichtig, das zu verstehen.&lt;/p&gt;
&lt;p&gt;Wir können das leicht ineinander umrechnen.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;to_grad&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;rad&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;float&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;float&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;   &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;rad&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;180.0&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;/&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;to_grad&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pi&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;mf&#34;&gt;90.0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;to_rad&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;grad&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;float&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;float&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;   &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;grad&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pi&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;180.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;...&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;to_rad&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;360&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;mf&#34;&gt;6.283185307179586&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;kreisfunktionen&#34;&gt;
    &lt;a href=&#34;#kreisfunktionen&#34;&gt;
	Kreisfunktionen
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;kreis-02.png&#34; alt=&#34;2024/04/kreis-02.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;Wenn wir jetzt eine Linie vom Mittelpunkt des Kreises M zum Rand zeichnen,
dann ist die Länge dieser Linie immer genau r,
und der Winkel von der Startposition ist 𝛂 (alpha).&lt;/p&gt;
&lt;p&gt;Die Koordinaten des Punktes auf dem Rand des Kreises sind definiert als &lt;code&gt;x = cos(𝛂)&lt;/code&gt; und &lt;code&gt;y = sin(𝛂)&lt;/code&gt;.
Das heißt, die Mathematiker sagen:
&amp;ldquo;Wir wollen zwei Funktionen haben, die zusammen die Punkte des Randes eines Kreises mit dem Radius 1 beschreiben,
sodaß&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;points&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;list&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cos&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;alpha&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;alpha&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;alpha&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;range&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pi&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pi&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;180&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;genau die Koordinaten dieser Punkte sind.&lt;/p&gt;
&lt;p&gt;Die Mathematiker haben sich dann ziemlich lange damit beschäftigt, wie diese Funktionen aussehen.
Also, wie man &lt;code&gt;sin()&lt;/code&gt; und &lt;code&gt;cos()&lt;/code&gt; ausrechnen kann.
Das wollen wir heute nicht besprechen, weil es &amp;ldquo;unendliche Annäherungen&amp;rdquo; (Taylor-Reihen) sind,
also beliebig genaue Schätzungen.
Die Mathematik dazu ist spannend, aber für uns heute nicht notwendig.&lt;/p&gt;
&lt;p&gt;Wir haben in Computern inzwischen Hardware-Sin und -Cos Funktionen, die recht schnell sind,
und für bestimmte Winkel kann man außerdem die Ergebnisse mit Ganzzahl-Rechnung abschätzen.
In Spielen auf kleiner Hardware kann man auch mit Nachschlagetabellen arbeiten.
Das ist genau genug, sodass man das auf dem Bildschirm nicht sieht.&lt;/p&gt;
&lt;h1 id=&#34;kreis-zeichnen-pygame&#34;&gt;
    &lt;a href=&#34;#kreis-zeichnen-pygame&#34;&gt;
	Kreis zeichnen (Pygame)
    &lt;/a&gt;
&lt;/h1&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;math&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;sys&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;time&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;pygame&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;pygame&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;init&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;height&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;800&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;600&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;screen&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pygame&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;display&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;set_mode&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;width&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;height&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;black&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;white&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;255&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;255&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;255&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;center&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;width&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;//&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;height&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;//&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;radius&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;250&lt;/span&gt;  &lt;span class=&#34;c1&#34;&gt;# Durchmesser = 500&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;points&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;angle&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;range&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;360&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;10&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;c1&#34;&gt;# Das Pygame Koordinatensystem ist x nach Rechts, aber y nach Unten.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;x&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cos&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;radians&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;angle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;radius&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;center&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;y&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;nb&#34;&gt;int&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;radians&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;angle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;radius&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;center&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;points&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;append&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;y&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;i&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;range&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;len&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;points&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;event&lt;/span&gt; &lt;span class=&#34;ow&#34;&gt;in&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pygame&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;event&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;get&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;():&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;k&#34;&gt;if&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;event&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;type&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;==&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;pygame&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;QUIT&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;pygame&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;quit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;            &lt;span class=&#34;n&#34;&gt;sys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;screen&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;fill&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;black&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;pygame&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;draw&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;lines&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;screen&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;white&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;points&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;i&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;pygame&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;display&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;flip&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;time&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sleep&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;pygame&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;quit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Das Resultat mit der Schrittweite 45:&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;kreis-03.png&#34; alt=&#34;2024/04/kreis-03.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;Das Resultat mit der Schrittweite 10 sieht schon recht rund aus:&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;kreis-04.png&#34; alt=&#34;2024/04/kreis-04.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;h1 id=&#34;öffnungsweite-für-einen-winkel-alpha&#34;&gt;
    &lt;a href=&#34;#%c3%b6ffnungsweite-f%c3%bcr-einen-winkel-alpha&#34;&gt;
	Öffnungsweite für einen Winkel alpha
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;kreis-05.png&#34; alt=&#34;2024/04/kreis-05.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;Gegeben die Position der Punkte bei 0 Grad (1,0) (die Startposition) und bei 𝛂 Grad &lt;code&gt;(cos(𝛂),sin(𝛂))&lt;/code&gt;,
können wir nun die Linie zwischen diesen beiden Punkten zeichnen &lt;code&gt;line(start=(0,1), end=(cos(𝛂), sin(𝛂))&lt;/code&gt;
und ihre Länge ausrechnen.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;math&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;def&lt;/span&gt; &lt;span class=&#34;nf&#34;&gt;linelength&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;1.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)):&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;x1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;y1&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;x2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;y2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;n&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sqrt&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;x2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;x1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;+&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;y2&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;-&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;y1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;**&lt;/span&gt; &lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    &lt;span class=&#34;k&#34;&gt;return&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;length&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;alpha&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.3&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;length&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;linelength&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cos&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;alpha&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;alpha&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)))&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;print&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;Die Länge der Linie beträgt: &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;length&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;und das ergibt:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;$&lt;/span&gt; python3 kreis.py
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;Die Länge der Linie beträgt: 0.6180339887498948
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Als Zeichnung:&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;kreis-06.png&#34; alt=&#34;2024/04/kreis-06.png&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-python&#34; data-lang=&#34;python&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;sys&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;numpy&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;np&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class=&#34;k&#34;&gt;as&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;plt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;kn&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;nn&#34;&gt;math&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;alpha&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.3&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;*&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;pi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;np&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;1.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;mf&#34;&gt;0.0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;startstr&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;(&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;.2f&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;, &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;.2f&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;np&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;sin&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;alpha&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;),&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;math&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;cos&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;alpha&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;endstr&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;(&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;.2f&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;, &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;.2f&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;right_angle&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;np&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;array&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]])&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;plot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]],&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]],&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;k-&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;label&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Hypotenuse: d&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;plot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right_angle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]],&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;right_angle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]],&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;r--&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;label&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Gegenkathete: Δy&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;plot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;([&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right_angle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]],&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right_angle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]],&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;b--&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;label&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Ankathete: Δx&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;plot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;go&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;label&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Start &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;startstr&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;plot&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;*&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;ro&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;label&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Ende &lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;endstr&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;startstr&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;horizontalalignment&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;center&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;],&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;sa&#34;&gt;f&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;{&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;endstr&lt;/span&gt;&lt;span class=&#34;si&#34;&gt;}&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;horizontalalignment&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;center&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;right_angle&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.05&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Δx&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;horizontalalignment&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;center&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;-&lt;/span&gt;&lt;span class=&#34;mf&#34;&gt;0.05&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;Δy&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;verticalalignment&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;center&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;text&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;((&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;]&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;+&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;end&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;[&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;1&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;])&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;s1&#34;&gt;&amp;#39;d&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;verticalalignment&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;center&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;,&lt;/span&gt; &lt;span class=&#34;n&#34;&gt;horizontalalignment&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;left&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;axis&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;equal&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;grid&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;kc&#34;&gt;True&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;xlabel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;X&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ylabel&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Y&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;legend&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;title&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;s1&#34;&gt;&amp;#39;Illustration des Satzes von Pythagoras&amp;#39;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;plt&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;show&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;()&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;sys&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;exit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;mi&#34;&gt;0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Damit kannst Du für einen Kameraöffnungswinkel und eine Entfernung ausrechnen,
wie viele Blöcke eine Textur groß sein muss,
ohne dass man die Ränder sehen kann.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Schlangenöl</title>
      <link>https://blog.koehntopp.info/2024/02/09/schlangenoel/</link>
      <pubDate>Fri, 09 Feb 2024 01:02:03 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2024/02/09/schlangenoel/</guid>
      <description>&lt;p&gt;This text also has a version in
&lt;a href=&#34;https://blog.koehntopp.info/2024/02/10/snake-oil/&#34;&gt;english language&lt;/a&gt;

.&lt;/p&gt;
&lt;p&gt;Diese Woche war &amp;ldquo;Kaputte Security Software Werbewoche&amp;rdquo;.&lt;/p&gt;
&lt;h1 id=&#34;fortigate-und-ivanti&#34;&gt;
    &lt;a href=&#34;#fortigate-und-ivanti&#34;&gt;
	Fortigate und Ivanti
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Zunächst einmal war &lt;strong&gt;heute&lt;/strong&gt; Fortigate Patchday:&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;schlangenoel-01.jpg&#34; alt=&#34;2024/02/schlangenoel-01.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;CVE-2024-23113, CVSSV3 Score 9.8, Unauthorized Code Execution, &amp;ldquo;Format String Bug&amp;rdquo;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&amp;ldquo;A use of &lt;a href=&#34;https://cwe.mitre.org/data/definitions/134.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;externally-controlled format string&lt;/a&gt;

 vulnerability
in FortiOS &lt;code&gt;fgfmd&lt;/code&gt; daemon may allow a remote unauthenticated attacker to execute arbitrary code or
commands via specially crafted requests.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Das ist ein Fall, wo eine C-Funktion einen Formatstring mit &lt;code&gt;&amp;quot;Bla %s Fasel&amp;quot;&lt;/code&gt; annimmt,
um etwa eine Log-Nachricht oder ein Kommando für einen &lt;code&gt;system()&lt;/code&gt; Aufruf zusammenzubauen.
Der Entwickler hat jedoch den Format-Parameter des Kommandos nicht statisch auf einen Formatstring gesetzt
(&lt;code&gt;snprintf(buffer, length, &amp;quot;Bla %s Fasel&amp;quot;, benutzereingabe)&lt;/code&gt;),
sondern stattdessen die Benutzereingabe als Format genommen
(&lt;code&gt;snprintf(buffer, length, benutzereingabe)&lt;/code&gt;).
Die Benutzereingabe kann so verwendet werden, um alles Mögliche zu tun.&lt;/p&gt;
&lt;p&gt;Das ist ein Fehler, der von den üblichen Sourcecodescannern automatisch erkannt wird,
und wenn man in einer modernen Entwicklungsumgebung versucht, so etwas zu comitten oder zu mergen,
dann wird man vom Scanner ganz furchtbar erniedrigt, der Commit zurückgewiesen und man bekommt ein Security-Training zugewiesen.&lt;/p&gt;
&lt;p&gt;Will sagen, dieser Fehler tritt in einer zeitgemäßen Development-Umgebung nicht mehr auf.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Auch gestern&lt;/strong&gt; war Fortigate Patchday:&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;schlangenoel-02.jpg&#34; alt=&#34;2024/02/schlangenoel-02.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;CVE-2024-21762, CVSSV3 Score 9.6, Unauthorized Code Execution, &amp;ldquo;Out of Bounds Write&amp;rdquo;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&amp;ldquo;A &lt;a href=&#34;https://cwe.mitre.org/data/definitions/787.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;out-of-bounds write&lt;/a&gt;

 vulnerability
in FortiOS may allow a remote unauthenticated attacker to execute arbitrary code or command via specially crafted HTTP requests.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Das ist ein Fehler, der in C oder anderen Sprachen ohne Indexprüfung beim Zugriff auf Arrays gerne gemacht wird.
In C kann man zum Beispiel mit negativen Indices auf Speicher vor dem Array zugreifen, und
wenn ein Error-Code &lt;code&gt;-1&lt;/code&gt; ist, aber nach einem Funktionsaufruf der Error-Code nicht geprüft wird,
dann brennt alles nieder.&lt;/p&gt;
&lt;p&gt;Diese Sorte Fehler wird von Source Code Scannern mit statischem Analyzer nicht immer gefunden,
aber meistens und alle Fälle, wo das nicht passiert, sollten von dem Ding eigentlich als Code Smell angemerkt werden.&lt;/p&gt;
&lt;p&gt;Nun. Leider war &lt;strong&gt;auch vorgestern&lt;/strong&gt; Fortigate Patchday.
&lt;a href=&#34;https://www.bleepingcomputer.com/news/security/fortinet-warns-of-new-fortisiem-rce-bugs-in-confusing-disclosure/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;BleepingComputer schreibt&lt;/a&gt;

:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;In this instance, due to an issue with the API which we are currently investigating,
rather than an edit, this resulted in two new CVEs being created, duplicates of the original CVE-2023-34992,
FortiNet told BleepingComputer.&lt;/p&gt;
&lt;p&gt;However, it turns out that CVE-2024-23108 and CVE-2024-23109 are actually patch bypasses for the CVE-2023-34992
flaw discovered by Horizon3 vulnerability expert Zach Hanley.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Das war also ein Patch für einen Patch, weil die Mitigation nicht funktioniert hat und
Fortinet kam mit den CVE-Nummern durcheinander, weil gerade so viele davon offen sind.&lt;/p&gt;
&lt;p&gt;Unterdessen fordert die US CISA (Cybersecurity and Infrastructure Security Agency) von allen US-Institutionen das
Abschalten von Ivanti VPN (vormals Juniper Pulse Secure):&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;schlangenoel-03.jpg&#34; alt=&#34;2024/02/schlangenoel-03.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&amp;ldquo;CISA is requiring all Federal agencies to disconnect Ivanti products by Friday at midnight
(Ivanti Connect Secure &amp;amp; Ivanti Policy Secure).
This is roughly 48-hours notice, to not patch, but rip it out!
Ivanti is an American company.
This is unprecedented.&amp;rdquo;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Während man
&lt;a href=&#34;https://www.cisa.gov/news-events/directives/supplemental-direction-v1-ed-24-01-mitigate-ivanti-connect-secure-and-ivanti-policy-secure&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;die Originaldirektive&lt;/a&gt;


ursprünglich noch als Update und Reinstallation sowie Neukonfiguration lesen konnte
hat sich diese Hoffnung mittlerweile zerschlagen.&lt;/p&gt;
&lt;p&gt;Die Patches, von denen dort die Rede ist, sind nicht geeignet, den Fehler zu beheben.
&lt;a href=&#34;https://infosec.exchange/@briankrebs/111863433959430768&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Brian Krebs hat das zusammengefasst&lt;/a&gt;

.&lt;/p&gt;
&lt;p&gt;Unterdessen hat jemand das Ivanti Image mal aufgemacht und reingesehen.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;schlangenoel-04.jpg&#34; alt=&#34;2024/02/schlangenoel-04.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Versionen von Software, die routinemäßig seit mehr als einer Dekade veraltet sind in einem aktuellen Image.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Das sind, wie curl-Entwickler Stefan Eissing formuliert &amp;ldquo;Leichenteile und Zombie Software&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Und, es kommt, wie es kommen muss:
Einige Tage nach der von CISA vorgeschriebenen Patchorgie
&lt;a href=&#34;https://www.bleepingcomputer.com/news/security/ivanti-patch-new-connect-secure-auth-bypass-bug-immediately/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;titelt BleepingComputer erneut&lt;/a&gt;

:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Ivanti: Patch new Connect Secure auth bypass bug immediately&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;The flaw (CVE-2024-22024) is due to an XXE
(&lt;a href=&#34;https://cwe.mitre.org/data/definitions/611.html&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;XML eXternal Entities&lt;/a&gt;

) weakness in the gateways&amp;rsquo; SAML component
that lets remote attackers gain access to restricted resources on unpatched appliances in low-complexity
attacks without requiring user interaction or authentication.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;SAML, Security Assertion Markup Language, ist eine XML-Notation für Zugriffsrechte in Single-Sign-On Systemen.
Weil es eine XML-Notation ist, kann es dort diese &lt;code&gt;&amp;amp;blablub;&lt;/code&gt;-Dinger geben – Entities – die durch anderen Text ersetzt werden.
Bei External Entities liegt der Ersetzungstext nicht lokal fest, sondern wird aus dem Netz nachgeladen.&lt;/p&gt;
&lt;p&gt;Was heißt das im Kontext von SAML? Es bedeutet, die Zugriffsrechte sind im Dokument also nicht zwingend festgenagelt,
sondern ein Angreifer kann Entity Definitionen aus dem Netz nachladen.
Je nachdem, wo die Entity verwendet wird, kann man damit die SAML-Datei in Teilen oder ganz umschreiben und sich andere Rechte geben.&lt;/p&gt;
&lt;p&gt;XML-Parser sind gut verstanden und XEE sind ein Ding, auf das man mit einem Sourcecode-Scanner zuverlässig automatisch scannen kann.
Diese Sorte Fehler ist in modernen Entwicklungsumgebungen gut auszuschließen.&lt;/p&gt;
&lt;h1 id=&#34;antivirus-und-endpoint-security&#34;&gt;
    &lt;a href=&#34;#antivirus-und-endpoint-security&#34;&gt;
	Antivirus und Endpoint Security
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Das ist alles keine Ausnahme und auch nicht auf VPN-Gateways beschränkt,
sondern Hersteller von Security Software setzen fröhlich auf
&amp;ldquo;Security-Relevante Software mit Privilegien, und Programmiermethoden aus den 90er Jahren des letzten Jahrtausends&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Beispiele aus diesem Blog:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.koehntopp.info/2017/10/20/aslr/&#34;&gt;ASLR&lt;/a&gt;

: MacOS Trend Micro Binary mit ohne ASLR, jeder Exploit
(ja, es gibt welche) ist automatisch stabil über die ganze Flotte.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://blog.koehntopp.info/2018/06/18/websense-dlp-gives-instant-root/&#34;&gt;Websense DLP gives instant root&lt;/a&gt;

:
WebSense DLP veraltete Softwareversionen und exploitbares Kernelmodul, vermutlich fehlende QA und defekter Shipping Prozess.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Das ist bei Endpoint Security so verbreitet, daß zum Beispiel
&lt;a href=&#34;https://mastodon.social/@joxean&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;@joxean&lt;/a&gt;

 ein ganzes Buch darüber geschrieben hat:
&lt;a href=&#34;https://www.amazon.de/Antivirus-Hackers-Handbook-English-ebook/dp/B014MJ6AKS&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;The Antivirus Hacker&amp;rsquo;s Handbook&lt;/a&gt;

.
beschreibt, wie man Sicherheitslücken dieser Art in jeder, wirklich jeder AV Software findet.&lt;/p&gt;
&lt;p&gt;Das ist systematisch:
Es liegt an der der Art und Weise, wie diese Software designt und entwickelt wird,
und es ist auch mit Patchs nicht zu beheben.&lt;/p&gt;
&lt;p&gt;Ich weiß das, weil ich dieses Spiel einige Jahre mit einem Firmen-Mac gespielt habe:
Ich habe die sogenannten &amp;ldquo;Security Tools&amp;rdquo; verwendet, die Corp auf meinem Mac installiert, um auf meinem Mac Privilegien zu bekommen.&lt;/p&gt;
&lt;p&gt;Der ganze Prozess ist zuverlässig wiederholbar,
und ich habe in keinem Fall mehr als einen langsamen Freitagnachmittag dafür investieren müssen.
Dabei bin ich noch nicht einmal &amp;ldquo;Security-Researcher&amp;rdquo;,
sondern nur ein Amateur mit Reverse-Engineering Erfahrung aus dem C64-Zeitalter.&lt;/p&gt;
&lt;p&gt;Es ist diese Software, die angeblich schützen soll, die am Ende dazu führt, daß der Rechner angreifbar wird.
Wenn jemand wie Fefe von &lt;a href=&#34;https://blog.fefe.de/?q=Schlangen&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Schlangenöl&lt;/a&gt;

 redet, dann ist das wortwörtlich zu verstehen.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;schlangenoel-05.jpg&#34; alt=&#34;2024/02/schlangenoel-05.jpg&#34;  /&gt;
&lt;/p&gt;


&lt;em&gt;&lt;a href=&#34;https://en.wikipedia.org/wiki/Snake_oil&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Snake-Oil&lt;/a&gt;

 is a term used to describe deceptive marketing,
health care fraud, or a scam.
Similarly, snake oil salesman is a common label used to describe someone who sells, promotes,
or is a general proponent of some valueless or fraudulent cure, remedy, or solution.&lt;/em&gt;&lt;/p&gt;
&lt;h1 id=&#34;eine-problemliste-und-veraltete-prozesse&#34;&gt;
    &lt;a href=&#34;#eine-problemliste-und-veraltete-prozesse&#34;&gt;
	Eine Problemliste und veraltete Prozesse
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Wir reden hier von kritisch security-relevanter Software,
die das Eindringen von Schadsoftware und Angreifern auf Rechnern verhindern soll,
oder die solche Angriffe erkennen soll,
oder die Authentisierung oder sonst eine Form von sicherheitsrelevanter Funktion hat.&lt;/p&gt;
&lt;p&gt;Sie läuft an kritischer Stelle, oft mit Privilegien und wenn sie versagt, ist meist nicht nur eine Maschine,
sondern eine ganze Firma kritisch exponiert.&lt;/p&gt;
&lt;p&gt;Solche Software sollte eigentlich mit Werkzeugen und Methoden, die Stand der Technik sind, entwickelt werden
und besonderer Beobachtung hinsichtlich Korrektheit, Fehlerfreiheit und Aktualität von Dependencies unterliegen.&lt;/p&gt;
&lt;p&gt;Wir sehen jedoch Fehler, die auf Defizite im Entwicklungsprozeß an allen Stellen schließen lassen.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Wir sehen kritische Fehler, die keine groß problematischen Auswirkungen haben müßten,
wenn die Software von vorher herein rechteminimal geschrieben worden wäre.
Aber Parser für komplexe, unbekannte Datenformate, die potenziell bösartige Payloads enthalten,
mit Privilegien laufen zu lassen?
Und dann noch elementare Sicherheitsmechanismen des Betriebssystems abschalten?
Das bedeutet, sich für Maximalschaden aufzustellen.
Es ist keine gewinnbare Position.&lt;/li&gt;
&lt;li&gt;Das alles in 2024 in C zu tun, wenn man Go oder Rust zur Verfügung hätte?
Auch nicht sonderlich schlau.&lt;/li&gt;
&lt;li&gt;Seine Deliverables mit Software vollzupacken, die im Fall von Ivanti bis zu zwei Dekaden
ohne Patches auf dem Buckel hat, anstatt einen automatisierten Release-Prozess zu haben, der ein neues
Release aus den neusten Versionen von allem zusammenschraubt und automatisch testet?
Das ist nicht nur &amp;ldquo;nicht Stand der Technik&amp;rdquo;, sondern es ist grob fahrlässig.&lt;/li&gt;
&lt;li&gt;Das alles dann in einem verschlüsselten Image auszuliefern, statt mit einer &amp;ldquo;SBOM of Shame&amp;rdquo;
(Software Bill Of Materials, eine Liste der verwendeten Dependencies und ihrer Versionen)
ist bald schon ein Federal Crime in den USA, und auch die EU ist auf diesem Weg.
Gut so.&lt;/li&gt;
&lt;li&gt;Ein &amp;ldquo;Format String Bug&amp;rdquo; oder eine &amp;ldquo;XML External Entities Vulnerability&amp;rdquo; sind triviale Fehler,
die Source Code Scanner erkennen können, wie sie von diesen Securityfirmen selbst beworben
oder gar im eigenen Haus entwickelt werden.
Aber offensichtlich sind diese Werkzeuge im Hause nicht im Einsatz, denn sonst hätte solcher Code niemals in
ein Produkt gelangen können.
Dazu braucht es keine KI, teilweise sind das bessere Regular Expressions, manchmal ein bisschen statische Analyse.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Wir beobachten hier als Außenstehende auf der Grundlage der gezeigten Fehlerbilder ein
Versagen entlang der gesamten Software Development Chain:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Auf der Architektur-Ebene (nicht rechteminimal),&lt;/li&gt;
&lt;li&gt;auf der Tool-Ebene (keine Scanner für triviale Fehler, veraltete Dependencies, keine Automation beim Build und Release)&lt;/li&gt;
&lt;li&gt;auf der Packaging-Ebene (die defekten Permissions bei Websense zum Beispiel)&lt;/li&gt;
&lt;li&gt;und an jeder anderen Stelle, bei der man von außen durch die Fehler auf den Prozess rückschließen kann.
&lt;ul&gt;
&lt;li&gt;Zum Beispiel &amp;ldquo;kein funktionierender Code-Review und Audit&amp;rdquo;
(&amp;ldquo;statisch einkompilierte Backdoor-Passworte&amp;rdquo;, wie sie bei Cisco das Dauer-Fehlerbild sind, fallen darunter).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Es sind mithin Managementfehler bei der Führung von Software-Häusern, die sicherheitskritische Software herstellen.
Es ist Aufgabe des Managements Prozesse einzurichten und zu steuern, die ein Mindestmaß an Qualität sicherstellen.&lt;/p&gt;
&lt;p&gt;&amp;ldquo;Softwarefehler, kann man nichts machen&amp;rdquo; stimmt so nicht – es gibt ganze Klassen von Fehlern,
die man durch Architektur,
durch automatisches Scannen,
durch Ausbildung,
durch Review,
und durch Testen sicher ausschließen kann,
und es ist die Aufgabe des Managements, solche Prozesse einzurichten und zu steuern.&lt;/p&gt;
&lt;p&gt;Alles in allem kann man nur zu dem Ergebnis kommen,
daß hier verantwortungslose Hackerbuden ohne elementare Software-Entwicklungsprozesse als &amp;ldquo;Security&amp;rdquo;-Firmen auftreten
und radioaktiven Giftmüll in Hochglanzpackungen abfüllen,
um so eine Autobahn für Nation State Actors ins Herz von kritischen Infrastrukturen zu bauen.&lt;/p&gt;
&lt;p&gt;Teilweise grenzt die Art der Fehler an mutwillige Sabotage,
beziehungsweise könnte man es auch mit mutwilliger Sabotage kaum schlimmer machen.&lt;/p&gt;
&lt;h1 id=&#34;1010-no-notes&#34;&gt;
    &lt;a href=&#34;#1010-no-notes&#34;&gt;
	10/10, no notes
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Im Chat witzeln Freunde von mir:
&amp;ldquo;Are you a 10/10 company?&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Security-Lücken wird nicht nur eine eindeutige Nummer zugewiesen, die CVE-Nummer, sondern
sie bekommen auch einen Schweregrad, den &lt;a href=&#34;https://en.wikipedia.org/wiki/Common_Vulnerability_Scoring_System&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;CVSS-Score&lt;/a&gt;

.
Eine 10/10 ist der Maximalgrad, aber im Grunde ist alles über 8
ein &lt;a href=&#34;https://nvd.nist.gov/vuln-metrics/cvss/v3-calculator&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Totalschaden und komplettes Prozessversagen&lt;/a&gt;

.&lt;/p&gt;
&lt;p&gt;Es gibt nun eine historische CVE-Datenbank, die man
&lt;a href=&#34;https://www.cvedetails.com/vulnerability-list/cvssscoremin-9/cvssscoremax-10/vulnerabilities.html?page=1&amp;amp;cvssscoremin=9&amp;amp;cvssscoremax=10&amp;amp;order=3&amp;amp;trc=40515&amp;amp;sha=2721cbf47ba1e57d8b65ae1c3cf8883295fd04d7&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;nach CVSS sortieren kann&lt;/a&gt;

,
und auch auf Firmen wie
&lt;a href=&#34;https://www.cvedetails.com/vulnerability-list/vendor_id-3080/Fortinet.html?page=1&amp;amp;cvssscoremin=9&amp;amp;order=3&amp;amp;trc=103&amp;amp;sha=0ba96ce0b5ea0195196988ef1d381bdd33622c49&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Fortinet einschränken&lt;/a&gt;

.&lt;/p&gt;
&lt;p&gt;Wir sehen dann für Fortinet eine Reihe von 12 Fehlern mit 10/10, und zwar
2x in 2024, 1x in 2021, 1x in 2019, 3x in 2017, 4x in 2016 und einmal in 2005.
Das kann man auch mit &amp;ldquo;Besserung ist nicht erkennbar&amp;rdquo; zusammenfassen.&lt;/p&gt;
&lt;p&gt;&amp;ldquo;Security ist ein Prozess&amp;rdquo; heißt es.
Für Business Continuity Management habe ich einmal aufgeschrieben, was das bedeutet:
&lt;a href=&#34;https://blog.koehntopp.info/2023/02/18/this-is-not-a-drill/&#34;&gt;This is not a Drill. This is just Tuesday&lt;/a&gt;

.&lt;/p&gt;
&lt;p&gt;Analoge Überlegungen kann man auch für sichere Software-Entwicklungsprozesse anstellen,
und es gibt sogar fertige Prozess-Blueprints dafür.
Weiterhin kann man, wie ich gezeigt habe, an den Fehlerbildern erkennen, welche Schwächen der interne Entwicklungsprozess
hinsichtlich Security Best-Practices hat,
und an den CVE-Anzahlen und CVSS-Scores erkennen, ob eine Firma ihre Posture verbessert hat.&lt;/p&gt;
&lt;p&gt;Wenn das erkennbar über Jahre nicht der Fall ist, wie kann dann eine Kaufentscheidung positiv beschieden werden?
Denkt mal darüber nach.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;meerschweinchen-anne.jpg&#34; alt=&#34;2024/02/meerschweinchen-anne.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Manche Dinge sind nur durch niedliche Meerschweinchenfotos erträglich zu machen.&lt;/em&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Wie ChatGPT funktioniert</title>
      <link>https://blog.koehntopp.info/2024/02/06/wie-chatgpt-funktioniert/</link>
      <pubDate>Tue, 06 Feb 2024 01:02:03 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2024/02/06/wie-chatgpt-funktioniert/</guid>
      <description>&lt;p&gt;Es gibt einen wunderbaren Artikel von Stephen Wolfram,
&lt;a href=&#34;https://writings.stephenwolfram.com/2023/02/what-is-chatgpt-doing-and-why-does-it-work/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;What Is ChatGPT Doing … and Why Does It Work?&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;Dies ist ein etwa ein Jahr alter und langer Text, und man muss dran bleiben, wenn man ihn verstehen möchte.
Er erklärt wie ChatGPT intern funktioniert, warum das so viel Ressourcen kostet,
und er erklärt auch, daß wir keine Ahnung haben, wieso das &amp;ldquo;funktioniert&amp;rdquo;.
Er zeigt aber auch, was ChatGPT alles prinzipbedingt niemals erreichen kann, und auch nicht lernen wird.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://writings.stephenwolfram.com/2023/02/what-is-chatgpt-doing-and-why-does-it-work/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-01.jpg&#34; alt=&#34;2024/02/chatgpt-01.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;a href=&#34;https://writings.stephenwolfram.com/2023/02/what-is-chatgpt-doing-and-why-does-it-work/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;What is ChatGPT doing…&lt;/a&gt;


von Stephen Wolfram vom 14. Februar 2023.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Stephen Wolfram ist ein Informatiker und Physiker,
der einen recht guten Prolog-Interpreter mit Regeln zur Termumformung und Fakten gefüttert hat,
und dies unter dem Namen Mathematica vertreibt.&lt;/p&gt;
&lt;p&gt;Prolog ist eine deklarative Sprache, die vor 30 Jahren die Grundlage regelbasierter künstlicher Intelligenz-Forschung war.
Deklarative Sprachen wie SQL oder Prolog schreiben keine Programme, die dem Computer sagen, was zu tun ist,
sondern sie beschreiben das gewünschte Ergebnis.
Ein Programmgenerator, der Planer, versucht dann einen Ausführungspfad zu finden,
der das beschriebene Ergebnis auf eine effiziente Weise findet.&lt;/p&gt;
&lt;p&gt;Die Idee hinter diesem Ansatz in der KI-Forschung war, daß man die Welt regelbasiert beschreiben könnte,
ein Welt-Wissensmodell bauen und daß so &amp;ldquo;Intelligenz&amp;rdquo; entsteht.
Das war ein Fehlschlag, aber Mathematica ist eines der beeindruckendsten Arbeitssysteme für Mathematik,
Physik-Visualisierung und Modellierung und alle verwandten Arbeiten.
Eine private Lizenz ist teuer, aber ich gönne mir die,
weil es so einen Heidenspaß macht mit dem Ding zu arbeiten und Sachen auszuprobieren.
Rein optisch und von der Arbeitsweise ist Jupyter ein gnadenloser Mathematica-Clone,
aber in Mathematica steckt eine komplett andere Sprache (etwas, das mal ein Prolog war) und eine viel, viel größere Bibliothek.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-02.jpg&#34; alt=&#34;2024/02/chatgpt-02.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ein Mathematica Arbeitsblatt, das die Approximation von Rechteckwellen durch Fouriersynthese zeigt,
indem es eine Formelschar generiert und plotted.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-03.jpg&#34; alt=&#34;2024/02/chatgpt-03.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Wir generieren daraus Audio, stellen das Audio dar, und spielen es ab.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Wolfram geht in seinem Text auf einen der simpelsten Textgeneratoren ein (und zeigt, wie man ihn in Mathematica realisiert) –
ein Zeichenfrequenz-Zähler, der Wikipedia-Seiten konsumiert und zeigt,
wie oft (normiert, also in %) jeder Buchstabe in der Seite auftaucht.&lt;/p&gt;
&lt;p&gt;Er vergleicht die Seiten von &amp;ldquo;Cat&amp;rdquo; und &amp;ldquo;Dog&amp;rdquo; und zeigt, daß in der &amp;ldquo;Dog&amp;rdquo;-Seite natürlich die o-Wahrscheinlichkeit höher ist,
aber daß beide für Englisch charakteristische Buchstabenhäufigkeiten haben.
Er greift sich dann die Häufigkeiten von Buchstabenpaaren (Bi-Grammen) und zeigt an der Spalte für den Buchstaben &amp;ldquo;q&amp;rdquo;,
daß &amp;ldquo;q&amp;rdquo; quasi immer von &amp;ldquo;u&amp;rdquo; gefolgt wird, und man kann das sehen.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-04.jpg&#34; alt=&#34;2024/02/chatgpt-04.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Entlang der X-Achse die ersten Buchstaben von Paaren,
entlang der Y-Achse die zweiten Buchstaben.
Je roter und dunkler das Feld, umso häufiger die Kombination.
Die Spalte &amp;ldquo;q&amp;rdquo; ist ganz weiß, mit Ausnahme der &amp;ldquo;qu&amp;rdquo;-Kombination.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Nimmt man mehr Kontext, also statt Paaren Dreiergruppen (Tri-Gramme) oder noch längere Gruppen,
dann bekommt man irgendwann fast aussprechbare oder reale englische Worte.
Schon 4-Gramme produzieren gute Worte.
Englisch hat also einen Buchstabenkontext von circa 4-5.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-05.jpg&#34; alt=&#34;2024/02/chatgpt-05.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Eine Reihe von Worten, die aus Nachfolgewahrscheinlichkeiten von Bi-, Tri- und n-Grammen erzeugt worden ist.
Ab einer Länge von etwa 4 entstehen oft gültige Worte der englischen Sprache.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Würde man das mit chinesischen Schriftzeichen machen,
bekäme man aus einem Grundwortschatz von einigen tausend Worten auf diese Weise Sätze.
Viele chinesische Begriffe haben ein Schriftzeichen, manche zur Klärung der Bedeutung zwei.
ChatGPT macht das genau so.&lt;/p&gt;
&lt;p&gt;Dort sind es keine Schriftzeichen, sondern Token.
Aber ein Token entspricht ziemlich genau der Funktion, die ein Schriftzeichen in Chinesisch hat.
Und es sind fast genau so viele – in der Größenordnung von Zehntausenden.
Davon sind viele Begriffe Ein-Token und einige Mehr-Token.&lt;/p&gt;
&lt;p&gt;Bigramme auf Token produzieren Dinge wie dies hier: Wortsalat.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-06.jpg&#34; alt=&#34;2024/02/chatgpt-06.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Eine Reihe von Wortfolgen, die alle zufällig generiert wurden, auf der Basis von Wortfolgewahrscheinlichkeiten,
die über Bi-Grammen, also Wortpaaren, errechnet worden sind.
Alle Beispiel starten mit dem Wort &amp;ldquo;cat&amp;rdquo;.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Stellt man mehr Kontext, arbeitet man also mit n-Grammen für n=3, 4, …,
dann bekommt man eher Dinge, die wie korrekte Sätze aussehen.&lt;/p&gt;
&lt;p&gt;Man bekommt auch eine kombinatorische Explosion:
Statt 26, 26*26, 26*26*26, &amp;hellip; Wahrscheinlichkeiten zum Abspeichern hat man jetzt zum Beispiel 40.000 als Basis.
Und bei einem großen Kontext – statt 4 oder 5 eher was bei 100 – hat man dann mit 40.000 hoch 100 zu tun.&lt;/p&gt;
&lt;p&gt;Also, nicht – weil man das so nicht verarbeiten kann,
und ein wenig Arbeit in die Speicherung von dünn besetzten Matrizen und große Datenmengen stecken muss.
Aber das ist ein lösbares Problem, auch wenn es Aufwand erfordert, der auf der Mathematik nicht sichtbar ist.&lt;/p&gt;
&lt;p&gt;Wolfram erklärt dann &amp;ldquo;Modellierung durch Interpolation&amp;rdquo;.
Er hat Messwerte, die den Weg eines geworfenen Balls durch den Raum beschreiben,
und will dann nacheinander eine Gerade, eine Parabel oder &amp;ldquo;was Kompliziertes&amp;rdquo; da hindurchlegen.&lt;/p&gt;
&lt;p&gt;Er nutzt dieses Beispiel, um viele Dinge um den Modellbegriff zu erklären:
Einmal gibt es verschiedene Wege, um den Fehler zu messen,
also die Abweichung der interpolierten Linie von den Messwerten zu beschreiben.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-07.jpg&#34; alt=&#34;2024/02/chatgpt-07.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Die Messwerte eines Ballwurfes, und die verschiedenen hindurch interpolierten Kurven.
Eine Gerade, eine Parabel und &amp;ldquo;was Kompliziertes&amp;rdquo;.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Dann setzt die &amp;ldquo;Beweglichkeit&amp;rdquo; der Funktion, die zur Interpolation genutzt wird, dem Modell Grenzen.
Egal, welche Koeffizienten man findet – die &amp;ldquo;komplizierte&amp;rdquo; Funktion aus dem letzten Beispiel hat immer große Fehler.
Sie kann keinen Fit ergeben.&lt;/p&gt;
&lt;p&gt;Die zweite Funktion, die Parabel, ist immer ein guter Fit.
Das ist so, weil das real-weltliche Phänomen sich aus Gründen tatsächlich parabolisch verhält,
bis es durch Luftwiderstand gestört wird.
In jedem Modell stecken Annahmen – und die können, wenn sie falsch sind, – das Modell unmöglich machen.&lt;/p&gt;
&lt;p&gt;Er geht dann zu neuronalen Netzen über und diskutiert, wie diese aufgebaut sind,
und welche Mathematik da drin steckt und wofür man sie einsetzen kann.
Es sind Geradengleichungen, mx+b, und Summen, aber sehr, sehr viele.
Sein Beispiel ist die Schrifterkennung.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-08.jpg&#34; alt=&#34;2024/02/chatgpt-08.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Ein Datentyp in Mathematica sind zweidimensionale Bitmaps – Bilder.
Hier sind es handgeschriebene Ziffern.
Man kann diese in eine Menge (einen weiteren Datentyp) tun, und dann einem NetModel (dem Datentyp für ein Neurales Netz) vorwerfen.
Dieses spezielle NetModel gibt dann als Ausgabe die erkannten Ziffern.
Dies ist eine Anwendung eines NN als Classifier, also als ein Ding, das erkennen und gruppieren kann.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-09.jpg&#34; alt=&#34;2024/02/chatgpt-09.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Auf ein Bitmuster einer gut lesbaren 2 wird sukzessive ein immer stärkerer Gaussian Blur angewendet.
Die resultierende Eingabemenge wird in das NetModel-Objekt verfüttert und man bekommt &amp;ldquo;2, 2, 2, 1, 1, 1, 1, 1, 1&amp;rdquo; als Ausgabe.
Das Modell bricht bei schlechten Daten irgendwann zusammen.
Als Mensch erkennt man mehr Ziffern korrekt als 2, aber am Ende wird es wirklich sehr unlesbar.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Wolfram macht dann weiter und diskutiert das Konzept der Nähe oder Ähnlichkeit, indem er mit Voronoi-Maps herumexperimentiert.
Er stellt sich jetzt die Aufgabe, eine bestimmte Funktion mit zwei Parametern x und y, die die Werte -1, 0 und +1 liefert,
zu &amp;ldquo;lernen&amp;rdquo; und durch ein neuronales Netz zu produzieren.
Er benutzt das, um zu zeigen, wie man Koeffizienten einer Näherungsfunktion findet,
indem man simple Geradengleichungsrechner (Neuronen) verknüpft.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-10.jpg&#34; alt=&#34;2024/02/chatgpt-10.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Von einem NN erkannte handgeschriebene Ziffern nach Ähnlichkeit sortiert und angeordnet.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-11.jpg&#34; alt=&#34;2024/02/chatgpt-11.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Eine Reihe von zufällig auf einer Ebene verteilte Punkte und die von ihnen &amp;ldquo;beherrschten&amp;rdquo; Gebiete:
Jeder Punkt der Ebene wird dem orangen Punkt zugeordnet, der ihm nach irgendeiner Distanzmetrik am nächsten ist.
Es entsteht eine Partition, eine Aufteilung, der Karte in Zonen um die Punkte.
Es sieht aus wie Seifenblasen, die aneinander kleben und gerade Schnittflächen bilden.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-12.jpg&#34; alt=&#34;2024/02/chatgpt-12.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Die Aufgabe: Ein simples Voronoi, das drei Punkte mit den Werten +1, 0 und -1 auf einer Ebene verteilt.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-13.jpg&#34; alt=&#34;2024/02/chatgpt-13.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Die 3D-Darstellung desselben Diagramms.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Er nimmt dann die vorherigen Gedanken zur Interpolation wieder auf.
Dazu erfindet er ohne weitere Erläuterung eine Aneinanderreihung von &amp;ldquo;Neuronen&amp;rdquo;, schreibt Koeffizienten dran,
und diskutiert verschiedene mögliche Abstandsberechnungsfunktionen (Fehler-Meßfunktionen).
Wenn man die Mathematik und den Prozess der Suche nach den passenden Koeffizienten mal wegläßt,
kommt man am Ende bei einer Näherung des Wunsch-Graphen an, die so aussieht.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-14.jpg&#34; alt=&#34;2024/02/chatgpt-14.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Das von Wolfram gewählte neuronale Netz.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-16.jpg&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Das Resultat weicht vom Wunschergebnis ab, ist aber eine gute Näherung.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Er diskutiert und demonstriert dann durch Simulation, daß man bestimmte Dinge nicht darstellen kann,
wenn man nicht genügend Neuronen hat.
Das zu modellierende Subjekt ist zu kompliziert, sodaß der mögliche Parameterraum nicht groß genug ist:
Eine Gerade kann keine Parabel annähern.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-16.jpg&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Verschiedene NN und die resultierenden Näherungen.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Es geht dann in einen längeren Exkurs, in dem er die Anatomie der Netze zu erklären, die da verwendet werden.
Man erkennt, daß die Modelle Schichten haben und daß sie keine Rückflüsse haben:
Daten fließen immer von der oberen Schicht in die unmittelbar darunter liegende – es gibt keine Rückflüsse und auch kein Überspringen.&lt;/p&gt;
&lt;p&gt;Man erkennt auch, daß generell größere Modelle bessere Ergebnisse liefern.
Wolfram gibt zu, daß wir nicht wissen, wie groß ein NN für ein bestimmtes Problem sein muss.
Wir wissen auch nicht, wie die konkrete Verschaltung der Schichten aussehen sollte,
oder muss, um gute Ergebnisse zu liefern.&lt;/p&gt;
&lt;p&gt;Er versucht immerhin, die Inhalte der Schichten zu verstehen und ihnen Bedeutung zuzuweisen,
aber auch das ist nicht wirklich Wissenschaft und teilweise Kaffeesatzlesen.
Fast alles am Bau von NN ist &amp;ldquo;Erfahrung&amp;rdquo; und &amp;ldquo;Empirik&amp;rdquo; ohne viel Theorie dahinter.&lt;/p&gt;
&lt;p&gt;Wir können Daten aus Schichten von NN herausziehen und sie nach einer Abstandsfunktion sortieren lassen,
und die Anordnung ergibt für unsere menschlichen Hirne irgendwie Sinn.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-18.jpg&#34; alt=&#34;2024/02/chatgpt-18.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Hunde und Katzenbilder nach einer Abstandsfunktion eines NN sortiert.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Wir können auch die Neuronen einiger Schichten nehmen, die Koeffizienten in einer Bildmatrix anordnen,
und bekommen vereinfachte Bilder von den Dingen, die da gespeichert oder erkannt werden sollen.&lt;/p&gt;
&lt;p&gt;Aber wir haben keine Funktionstheorie oder Mathematik von NN und Kognition.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-19.jpg&#34; alt=&#34;2024/02/chatgpt-19.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Aus einer Schicht aus dem NN eines Katzen-Hunde-Sortierers herausgezogene Daten ergeben Katzenbilder.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Wolfram beschäftigt sich weiter mit dem Training von NN, der Datenbeschaffung und der Auszeichnung von Daten.
Das Korpus von Trainingsdaten muss groß und zuverlässig ausgezeichnet sein.
Wir brauchen also viele Katzenbilder (Dafür gibt es das Internet!) und Hundebilder,
und diese müssen von Menschen korrekt mit Tags versehen worden sein, damit ein NN das lernen kann.&lt;/p&gt;
&lt;p&gt;Er zeigt dann Verbesserungen der Koeffizienten und der Resultate über Iterationen des Lernprozesses.
&amp;ldquo;Lernen&amp;rdquo; bedeutet für ein NN, die Koeffizienten der verschiedenen Neuronen zu verändern.
Dazu nimmt man die Eingabe-Koeffizienten als &amp;ldquo;Ebene&amp;rdquo; und den Fehler als &amp;ldquo;Höhe&amp;rdquo;
und wandert dann in der so entstehenden Fehlerlandschaft auf einem zufälligen Pfad in die Täler.&lt;/p&gt;
&lt;p&gt;Das findet lokale Minima und man hofft, aus &amp;ldquo;lokalen Löchern&amp;rdquo; zu entkommen, indem man zufällige Schritte zufälliger Größen macht.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-20.jpg&#34; alt=&#34;2024/02/chatgpt-20.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Die Berg- und Tallandschaft des Fehlergraphen und der Weg des Modells zum lokalen Minimum.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Wieder diskutiert Wolfram mögliche Layouts von NN –
nicht immer kann man jedes Neuron mit allen Neuronen der nächsten Lage verschalten und in der Tat ist das bei großen NN nie machbar.
Bestimmte Formen haben sich als besser lernfähig erwiesen:
Ein schmaler Layer der zwischen zwei breite Layers eingefügt wird scheint Ergebnisse stark zu verbessern.
Niemand weiß, warum das so ist oder hat ein Modell, das dies erklärt.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-21.jpg&#34; alt=&#34;2024/02/chatgpt-21.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Verschiedene Formen von NN und die Ergebnisse, die sie produzieren.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Etwa in der Mitte des Textes wendet sich Wolfram generativen Modellen und LLMs zu.
Training von LLMs ist sehr, sehr einfach, weil sie einfach Text essen:
Man nimmt beliebigen Text, lässt das Modell das folgende Wort generieren und vergleicht es mit dem Wort, das hätte kommen müssen.
Daraus kann man Trainingsfeedback erzeugen.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-22.jpg&#34; alt=&#34;2024/02/chatgpt-22.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Eine Karte, auf der englische Worte nach Ähnlichkeit angeordnet sind.
Säugetiere sind links oben, links unten sind &amp;ldquo;alligator&amp;rdquo; und &amp;ldquo;crocodile&amp;rdquo; dicht beieinander, &amp;ldquo;ant&amp;rdquo; und &amp;ldquo;bee&amp;rdquo; sind es auch.
Rechts unten Früchte.
Tiere und Früchte sind klar durch einen Graben getrennt.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Es entsteht dadurch sogar so etwas wie eine Wissens-Karte nach Ähnlichkeits-Metriken.
Das ist nicht so, weil das LLM ein Weltmodell hat.
Sondern es ist so, weil Menschen ein Weltmodell haben und wenn sie Worte gebrauchen,
bestimmte Worte &amp;ldquo;nach beieinander&amp;rdquo; in Sätzen angeordnet sind.
Ein Weltverständnis entsteht so nicht, ein gewisses Sprachverständnis wohl schon.&lt;/p&gt;
&lt;p&gt;Wieder und wieder und wieder versucht Wolfram zu einem Verständnis der Koeffizienten von LLMs oder NNs zu kommen,
oder zu irgendeiner Theorie, die die Funktionsweise von LLMs und NNs planbar und vorhersagbar macht und sich über pure Empirik erhebt.
Er macht dies mit verschiedenen Visualisierungen von Koeffizienten auf die unterschiedlichsten Weisen,
aber er findet nur quälende Muster, die wie Inhalt wirken und nichts enthüllen.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;chatgpt-23.jpg&#34; alt=&#34;2024/02/chatgpt-23.jpg&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Eine Vergröberung einer ChatGPT Koeffizientenmatrix und Einfärbung nach bestimmten Werten erzeugt eine interessante Teal-and-Orange Batik,
die nichts bedeutet.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Am Ende geht es dann darum,
wie man mit solchen riesigen Koeffizienten-Matrizen und einem austrainierten Modell generativ arbeitet und &amp;ldquo;interessante&amp;rdquo; Texte erzeugt.
Dabei geht es auch um den Parameter der &amp;ldquo;Temperatur&amp;rdquo; und den &amp;ldquo;Seed&amp;rdquo;:&lt;/p&gt;
&lt;p&gt;Würde man ein generatives LLM mit einer Null-Temperatur laufen lassen,
würde es immer dasselbe, wahrscheinlichste Folgetoken wählen, um einen Satz zu komplettieren.
Indem man die Wahrscheinlichkeiten der Folgetoken sortiert,
und dann zufällig ein anderes wahrscheinliches Token wählt, bekommt man immer noch &amp;ldquo;gültige&amp;rdquo; Fortsetzungen, die aber variabel sind.&lt;/p&gt;
&lt;p&gt;Das Seed ist dabei der Startwert des Pseudo-Zufallszahlen-Generators,
die Temperatur die &amp;ldquo;Sprungweite&amp;rdquo; vom wahrscheinlichsten Wert weg.
Auch hierzu gibt es keine Theorie, wir wissen nur, daß &amp;ldquo;0.8 ein guter Wert ist&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Wolfram schließt:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;So … What Is ChatGPT Doing, and Why Does It Work?&lt;/p&gt;
&lt;p&gt;The basic concept of ChatGPT is at some level rather simple.
Start from a huge sample of human-created text from the web, books, etc.
Then train a neural net to generate text that’s “like this.”
And in particular, make it able to start from a “prompt” and then continue with text that’s “like what it’s been trained with”.&lt;/p&gt;
&lt;p&gt;As we’ve seen, the actual neural net in ChatGPT is made up of very simple elements — though billions of them.
And the basic operation of the neural net is also very simple, consisting essentially
of passing input derived from the text it’s generated so far “once through its elements” (without any loops, etc.)
for every new word (or part of a word) that it generates.&lt;/p&gt;
&lt;p&gt;But the remarkable—and unexpected—thing is that this process can produce text that’s successfully “like” what’s out there on the web,
in books, etc.
And not only is it coherent human language, it also “says things” that “follow its prompt” making use of content it’s “read”.
It doesn&amp;rsquo;t always say things that “globally make sense”
(or correspond to correct computations because it’s just saying things that “sound right” based on what things “sounded like” in its training material).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Das ist der Stochastische Papagei, von dem bei LLMs gerne mal die Rede ist.
Er ist wortwörtlich gemeint.&lt;/p&gt;
&lt;p&gt;Ein LLM reproduziert Versatzstücke aus Texten, die es verarbeitet hat,
auf der Basis von Auftretenswahrscheinlichkeiten von &amp;ldquo;großes n&amp;rdquo;-Grammen von chinesischen Schriftzeichen (&amp;ldquo;Token&amp;rdquo;).
n ist dabei gerne groß zweistellig.&lt;/p&gt;
&lt;p&gt;Ein Konzept von Korrektheit gibt es nicht.
Wir wissen auch nicht, wie es das geben kann, denn es gibt keine Theorie.&lt;/p&gt;
&lt;p&gt;Die Idee, daß ein LLM in &amp;ldquo;full autopilot&amp;rdquo; Mode irgendwas Funktionales in irgendeiner Gesellschaft leisten kann – Arbeiten kann – ist lächerlich.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Es reproduziert und würfelt.&lt;/li&gt;
&lt;li&gt;Es hat kein Weltmodell.&lt;/li&gt;
&lt;li&gt;Es kennt keine Grenzen in den Termen von Ethik, Moral, Physik oder Logik.&lt;/li&gt;
&lt;li&gt;Es reiht nur Token aneinander.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ein LLM kann Menschen Arbeit abnehmen, indem es bestimmte Standardfunktionen erleichtert,
und es ist wahrscheinlich ein ausgezeichneter Sprachübersetzer,
und sicher ein wunderbarer Imitator, denn das ist, als was es konstruiert ist.&lt;/p&gt;
&lt;p&gt;Aber Imitation schafft nicht.&lt;/p&gt;
&lt;p&gt;Die Redewendung des &amp;ldquo;Blurry JPEG of the Internet&amp;rdquo; ist wieder exakt zutreffend,
denn das ist, was der Konstruktionsprozeß eines LLM produziert – eine verlustbehaftete Kompression von Wort-Folge-Wahrscheinlichkeiten.&lt;/p&gt;
&lt;p&gt;In meiner beruflichen Karriere habe ich um mich herum eine Reihe von KI-Projekten in kommerzieller Anwendung gelingen und scheitern sehen.
Das Muster, daß sich dabei ergeben hat, bestätigt sich auch bei LLMs:&lt;/p&gt;
&lt;p&gt;Wann immer meine Arbeitgeber KI eingesetzt haben, um Menschen full-auto zu ersetzen ist das Projekt ein unmitigiertes Desaster gewesen,
das der Firma geschadet und den Kunden Leid zugefügt hat.&lt;/p&gt;
&lt;p&gt;Wann immer meine Arbeitgeber KI eingesetzt haben um Menschen zu augmentieren war das Projekt eine Effizienzsteigerung
um eine halbe Größenordnung (den Faktor 3-5), die durch Feedback menschlicher Entscheidungen in den Trainingskorpus noch verbessert werden konnte.
Dabei war oft entscheidend, Confidence-Werte (aus der Modell-Fehler-Metrik abgeleitete Werte) herauszuführen und für Menschen sichtbar zu machen.&lt;/p&gt;
&lt;p&gt;Die Grundidee dahinter ist, daß wir eine Maschine bauen, die wir zwingen eine Entscheidung zu treffen, egal wie groß die Fehlermetrik ist.
Wenn die Maschine sich sicher ist, daß ein Standardfall in einer oder ander Weise vorliegt, ist das wahrscheinlich gut.
Wenn die Maschine aber eine hohe Fehlermetrik anzeigt, dann erzwingen wir eine Entscheidung, die wahrscheinlich zufällig ist.&lt;/p&gt;
&lt;p&gt;Hier ist es gut, den Fall herauszunehmen und Menschen vorzulegen.
Anders als die KI haben diese ein Weltmodell, und insbesondere ein Modell der ganzen Welt inklusive all der Informationsquellen,
Kontexte und Eskalationsstufen, die dem KI-Modell nicht zugänglich sind.
Menschen können Dinge auf Weisen kontextualisieren und umordnen, die einem Reproduktions-Papagei nicht möglich sind.
Und diese Menschen sind glücklicher, schneller und effektiver, wenn sie mit den Standardfällen nichts zu tun haben.&lt;/p&gt;
&lt;p&gt;Wir können KI erfolgreich einsetzen, wenn wir es nach diesem Modell tun.&lt;/p&gt;
&lt;p&gt;Wir können die Hölle auf Erden erschaffen, indem wir Menschen einer unkontrollierten Papagei-KI aussetzen,
die nach zufällig aufgerufenen Reproduktionen vorheriger Fälle entscheidet, ohne Ausweg.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>JusProg ist nur der Anfang</title>
      <link>https://blog.koehntopp.info/2024/01/16/jusprog-ist-nur-der-anfang/</link>
      <pubDate>Tue, 16 Jan 2024 01:02:03 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2024/01/16/jusprog-ist-nur-der-anfang/</guid>
      <description>&lt;p&gt;Es ist also dies hier passiert:
&lt;a href=&#34;https://lilithwittmann.medium.com/wen-sch%C3%BCtzen-eigentlich-jugendschutzprogramme-7f13fb8ebc51&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Wen schützen eigentlich Jugendschutzprogramme?&lt;/a&gt;


Lilith Wittmann nimmt den Filter von JusProg e.V. auseinander und es ist eine einzige Eskalation:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Die Filterkriterien sind nicht nachvollziehbar.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Gefilterte Websites wissen nichts von ihrer Einstufung.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Die Einstufungen sind systematisch falsch, und man kann eine politische Richtung erkennen.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Das ist JusProg e.V. aber eigentlich egal, denn es sind ja auch viele Websites nicht geblockt worden.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Die Website für den Download ist ein kompromittiertes Wordpress.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Eventuell hat das Wordpress Malware verteilt, aber JusProg e.V. kann das nicht ausschließen und auch nicht nachvollziehen, weil sie die Software nicht im Griff hat.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Die Infektion mit Malware war JusProg e.V. bekannt, und sie haben versucht, daran herumzudoktern, aber erfolglos. Das besorgt sie aber nicht besonders.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Was passiert hier, und warum zerfetzt Lilith Wittmann ausgerechnet JusProg?
Dazu müssen wir ein wenig ausholen und fast 30 Jahre zurückschauen.&lt;/p&gt;
&lt;h1 id=&#34;warum-jugendschutz&#34;&gt;
    &lt;a href=&#34;#warum-jugendschutz&#34;&gt;
	Warum Jugendschutz?
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Der Jugendschutz im Allgemeinen ist eine im Grundgesetz verankerte staatliche Aufgabe.
Er ist nicht einfach etwas, das der Staat nicht machen kann.&lt;/p&gt;
&lt;p&gt;Ausnahmen vom Jugendschutz sind klar geregelt und sind im Wesentlichen das &amp;ldquo;Elternprivileg&amp;rdquo;.
Erziehungsberechtigte, und nur diese, dürfen für Ihr Kind – im Rahmen bestimmter Grenzen – frei entscheiden,
was ihr Kind wann darf oder nicht darf.
Darum darf Deine Mutter Dich mit drei Jahren an ihrem Bier probieren lassen,
wenn Du interessiert wissen willst, was sie da trinkt.
Und darum darf Dein Vater Dich mit 6 Jahren Harry Potter Teil 4 und Folgende sehen lassen,
wenn Du unbedingt sehen möchtest wie es weiter geht.&lt;/p&gt;
&lt;p&gt;Lehrer an Schulen dürfen das nicht.
Das Elternprivileg gilt nicht für sie.
Sie müssen also, wenn Schüler Medien in irgendeiner Form zu sich nehmen wollen,
dies im Rahmen des grundgesetzlich vorgeschriebenen und gesetzlich ausgestalteten Jugendschutzes tun,
wenn sie sich von Klagen durch besorgte Bürger frei stellen wollen.&lt;/p&gt;
&lt;p&gt;Internet an Schulen ist für die Schule auf viele Weisen ein Risiko,
und Haftung auf der Basis von Verletzungen des Jugendschutzes ist eines davon.&lt;/p&gt;
&lt;p&gt;Schlimmer noch, auch Anbieter von Medien jeder Art unterliegen den Regelungen des Jugendschutzes.
Niemand kann Filme, Hörspiele, Bücher, aber auch keine Webseiten oder Computerspiele anbieten,
ohne dabei den Jugendschutz zu berücksichtigen.
Alle diese Dinge brauchen eine Einordnung und eine wirksame Zugriffsbeschränkung,
sonst Klage und, schlimmer, schlechte Presse.&lt;/p&gt;
&lt;h1 id=&#34;pre-internet-jugendschutz&#34;&gt;
    &lt;a href=&#34;#pre-internet-jugendschutz&#34;&gt;
	Pre-Internet Jugendschutz
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Das hat in der Vergangenheit bis in die späten 90er Jahre wunderbar funktioniert.
Hauptsächlich deswegen, weil es keine kostenlosen und damit unfinanzierten Veröffentlichungen gab.
Und weil deswegen Veröffentlichung stark ge-gateway-ed war –
man konnte kein Buch, kein Spiel und schon gar kein Hörspiel oder keinen Film machen und dann verbreiten,
ohne durch einen Mediator zu gehen.
Also einen Verlag, eine Rundfunkanstalt oder einen anderen Vertriebs- und Verbreitungspartner,
der dabei dann auch massenhaft redaktionelle Bearbeitung betrieben hat,
und natürlich dabei auch die Formalien wie Anmeldungen bei Verwertungsgesellschaften oder Bewertung durch den Jugendschutz vorgenommen hat.&lt;/p&gt;
&lt;p&gt;Weil Inhalte grundsätzlich nie kostenlos waren, hat das nicht nur die Verfügbarkeit von Inhalten eingeschränkt,
sondern auch diese Formalien mit finanziert.
Auch wichtig: Es hat die Anzahl der Stellen reduziert, mit denen die staatlichen Stellen und ihre Organe zu tun hatten,
und durch die Pflicht zur kommerziellen Viabilität wurde auch eine Vorauswahl getroffen.&lt;/p&gt;
&lt;p&gt;Seit den späten 90er Jahren haben wir mediatorfreie Kommunikation.
Jeder Mensch kann mit genau gar keinem Aufwand Medien produzieren und publizieren.
Das kann durch Editieren eines existierenden Wikis passieren – das hat Brockhaus das Genick gebrochen.&lt;/p&gt;
&lt;p&gt;Es kann auch durch das Betreiben und Veröffentlichen eines Blogs, durch das Schreiben von Posts und Threads in Social Media,
durch das Aufnehmen und Verbreiten von Podcasts über diese Blogs,
oder halt durch das Produzieren von Filmen mit massiv verbilligten Produktionsmitteln geschehen.
Das letztere hat zum Beispiel zu &amp;ldquo;In the Pirkinning&amp;rdquo; und zu &amp;ldquo;Prelude to Axanar&amp;rdquo; geführt hat,
und dann zu entsprechenden rechtlichen Reaktionen von Rechte-Inhabern.&lt;/p&gt;
&lt;h1 id=&#34;drei-gründe-für-das-zusammenbrechen-des-jugendschutzes-im-internet&#34;&gt;
    &lt;a href=&#34;#drei-gr%c3%bcnde-f%c3%bcr-das-zusammenbrechen-des-jugendschutzes-im-internet&#34;&gt;
	Drei Gründe für das Zusammenbrechen des Jugendschutzes im Internet
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Es führt auch zu einem Zusammenbruch der deutschen Idee von Jugendschutz.
Das deutsche Jugendschutz-Konstrukt ist überhaupt nicht darauf eingerichtet,
mit mediatorfreier, massenhafter und weltweiter Generierung von Content klarzukommen.
Das sind drei unabhängige Probleme, die alle auch einzeln zum Zusammenbruch führen.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Mediatorfrei&lt;/strong&gt; heißt, daß kein Verlag oder Aggregator zwingend involviert ist.
Ich habe einen Inhalt, ich stelle den irgendwo hin und Du kannst den finden, herunterladen und konsumieren.
Die Idee von JusProg und anderen Filterprogrammen ist immer das Konzept eines installierbaren Zwangs-Mediators,
dem Filter, der den direkten Zugriff auf bestimmte Inhalte verhindert.
Das setzt bestimmte Dinge voraus, wir werden da gleich noch drauf eingehen.&lt;/p&gt;
&lt;p&gt;Und &lt;strong&gt;massenhaft&lt;/strong&gt; heißt, daß es keine Vorauswahl gibt.
Nicht durch einen Mediator, etwa einen Verlag mit einem Editor, der das gut finden muss, was Du publizieren willst.
Aber auch nicht finanziell – die Grundkosten sind so niedrig, daß effektiv jede Person alles publizieren kann,
was diese Person publizieren möchte.
Und auch nicht durch eine Lizenz – man muss im Internet nicht wie beim deutschen BTX der späten 80er Jahre
als Anbieter statt Nutzer registrieren lassen, damit man Dinge schreiben darf und mehr tun kann als konsumieren.&lt;/p&gt;
&lt;p&gt;Massenhaft hat zur Folge, dass die Anzahl und Menge der produzieren Medien die Bewertungskapazität der zur Verfügung stehenden qualifizierten Bewerter massiv übersteigt.
Damit ist nicht nur keine Diskussion über individuelle Bewertungen mehr möglich,
sondern Bewertungen müssen schematisch nach Syntax, nicht Semantik erfolgen.
Sie können nicht einmal mehr stichprobenhaft auf Korrektheit kontrolliert werden.&lt;/p&gt;
&lt;p&gt;Und &lt;strong&gt;weltweit&lt;/strong&gt; heißt, daß sowohl Inhalte als auch ihre Klassifizierung die Grenzen eines homogenen Kulturraumes weit überschreiten.
Eine sinnvolle Einigung über Klassifikationen ist nicht mehr möglich.
Teilweise ist nicht einmal eine Unterhaltung über Dimensionen und Skalen einer Klassifikation möglich.&lt;/p&gt;
&lt;p&gt;Schon innerhalb Deutschlands sind die Maßstäbe der Inhaltsbewertung traditionell massiv uneinheitlich.
Der bayrische Rundfunk hat zum Beispiel die Ausstrahlung bestimmter Folgen &amp;ldquo;Scheibenwischer&amp;rdquo; verweigert,
und sich aus dem Netz der ARD verabschiedet.
Auch die inzwischen eingestellte Sendung &amp;ldquo;Sesamstraße&amp;rdquo; war in Bayern nicht verfügbar.&lt;/p&gt;
&lt;p&gt;Wenn es um Inhalte im Internet geht, ist aber republikweit entlang bestimmter politischer Bruchlinien schon lange massiv keine sinnvolle Einigung möglich.
Weltweit noch viel weniger.
Man stelle sich ein Inhaltsbewertungssystem vor, das sowohl für Schweden, Spanien, Saudi-Arabien, die USA und Thailand funktioniert.&lt;/p&gt;
&lt;p&gt;Jede Form von inhaltlicher Bewertung kann sich also nur an objektiven Kriterien orientieren:
&amp;ldquo;Nippel sichtbar&amp;rdquo;, &amp;ldquo;Messer, Gewalt, Blut sichtbar&amp;rdquo;, oder halt der berühmte &amp;ldquo;körperbezogene Penisneigungswinkel&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;In einem solchen System ist das Foto eines durchschnittlichen Gummifetischisten dann halt unkritisch, weil
keine Haut sichtbar ist (keine Nacktheit), die Pose nicht sexuell suggestiv ist (kein Sex),
keine Gewalt zu sehen ist (keine Gewalt) und auch keine unangemessene Sprache verwendet wird (keine Flüche oder verbotene Worte).
Zugleich werden ein Haufen Stakeholder protestieren und dieses Bild irgendwie klassifiziert sehen wollen.&lt;/p&gt;
&lt;h1 id=&#34;jugendschutz-ist-nicht-systematisch-objektivierbar-und-automatisierbar&#34;&gt;
    &lt;a href=&#34;#jugendschutz-ist-nicht-systematisch-objektivierbar-und-automatisierbar&#34;&gt;
	Jugendschutz ist nicht systematisch objektivierbar und automatisierbar
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Es geht darum, welche Inhalte unserem Nachwuchs wie und mit welcher Bewertung präsentiert werden,
denn das ist, was Erziehung ist – die Vermittlung von Werten.
Daher ist jede Bewertung, die sich an Syntax (objektiv sichtbaren Merkmalen) orientiert zum Scheitern verurteilt.&lt;/p&gt;
&lt;p&gt;Und in dem Moment, wo Jugendschutz automatisierbar ist, haben wir eine Maschine gebaut,
die erfolgreich eine bestimmte moralische Bewertung in irgendeinem bestimmten moralischen System vornehmen kann,
also unseren Nachfolger als Menschheit geschaffen.
Wir können von der Bühne des Universums abtreten und denen die Realität überlassen.&lt;/p&gt;
&lt;p&gt;Mögen sie erfolgreicher und anpassungsfähiger sein als wir.&lt;/p&gt;
&lt;p&gt;Das ist natürlich keine Einsicht oder Position, die ein Politiker in einem öffentlichen Diskurs einnehmen kann,
also sehen wir seit wortwörtlich 30 Jahren denselben dysfunktionalen Kram ohne einen Millimeter Fortschritt in irgendeiner Richtung.&lt;/p&gt;
&lt;h1 id=&#34;der-default-ist-ab-18&#34;&gt;
    &lt;a href=&#34;#der-default-ist-ab-18&#34;&gt;
	Der Default ist &amp;ldquo;ab 18&amp;rdquo;
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Wie dem auch sei – rein rechtlich ist es so, daß jeder Inhalt in jedem Medium, das für Deutsche erreichbar ist,
eine Bewertung haben muss oder eine Ausnahmeregelung greifen muss (etwa für Nachrichten).
Das führt nicht nur zu Youtube-Kanälen, in denen Damen mit freiem Oberkörper Nachrichten verlesen,
sondern auch dazu, daß mir eine DVD mit einer Aufnahme der Zauberflöte nur gegen Vorlage des Personalausweises ausgehändigt wurde,
weil sie bei Amazon ohne Jugendschutz-Klassifikation hinterlegt war – der Default für alle Inhalte ist immer &amp;ldquo;ab 18&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Inhalte brauchen also zwingend eine Klassifikation,
damit sie für Jugendliche hinter einem echten oder hypothetisch installierten Filter überhaupt sichtbar werden.
Diese Klassifikation kann durch den Anbieter selbst erfolgen – das ist diese &amp;ldquo;age.xml&amp;rdquo;-Datei, von der Lilith Wittmann redet.
Oder halt durch Dritte, und da kaum jemand eine solche &amp;ldquo;age.xml&amp;rdquo;-Datei mit Selbstbewertung erzeugt,
generiert JusProg als Dritter diese Bewertung.&lt;/p&gt;
&lt;p&gt;Das machte vor dem Internet total Sinn:
Da alle Inhalte kommerziell waren, waren Anbieter von Inhalten und ihre Mediatoren daran interessiert, Inhalte bewertet zu sehen
und dabei die Bewertung auch so niedrig wie möglich anzusetzen, damit die Inhalte so vielen Menschen als möglich zugänglich werden.&lt;/p&gt;
&lt;p&gt;Im Internet ist das nicht so:
Ich habe gar kein Interesse daran, daß meine kostenlosen Inhalte so vielen Menschen wie möglich zugänglich werden,
sondern sie sollen &lt;em&gt;den richtigen&lt;/em&gt; Menschen zugänglich sein.
Mein Markt und meine Reichweite sind so groß, daß alles andere sogar ein Problem wäre
und für mich selbst zu Skalierbarkeitsproblemen führen würde.
Ich würde in für meine Mission nicht relevanten Interaktionen mit unwichtigen Menschen ertrinken.&lt;/p&gt;
&lt;p&gt;Damit ist die Motivationsgrundlage entfallen, die das deutsche Jugendschutzsystem vor dem Internet am Laufen gehalten hat.&lt;/p&gt;
&lt;h1 id=&#34;aber-wir-brauchen-bewertungen--für-unsere-sites&#34;&gt;
    &lt;a href=&#34;#aber-wir-brauchen-bewertungen--f%c3%bcr-unsere-sites&#34;&gt;
	Aber wir brauchen Bewertungen – für unsere Sites
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Die Mitglieder von JusProg e.V. sind traditionelle Medienanbieter.
Lilith Wittmann nennt Mitglieder und stellt die Motivation klar:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[JusProg eV] wurde mit dem Ziel gegründet, eine solche Software bereitzustellen.
Seine Mitglieder sind große deutsche Digitalunternehmen wie z.B. Vodafone oder RTL.
Die finanzieren das gerne.
Denn solange es ein anerkanntes Jugendschutzprogramm gibt, können sie eben auf viele andere Jugendschutzmaßnahmen verzichten.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Die Mission ist also, die Inhalte der Mitglieder kostengünstig aus dem Schußfeld des Jugendschutzgesetzes herauszuholen,
nicht effektiven Jugendschutz zu leisten.
Das wäre auch, wie oben gezeigt, systematisch sehr schwierig, wenn nicht unmöglich.&lt;/p&gt;
&lt;p&gt;Damit das eine glaubhafte Wirksamkeitsfiktion erzeugt, müssen nicht nur die Webseiten der Mitglieder eine Bewertung erhalten.
Sondern alle.
Das erfolgt&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;geheim&lt;/strong&gt;, die Liste der Bewertungen ist nicht öffentlich, und die Kriterien sind es auch nicht.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ohne Benachrichtigung&lt;/strong&gt; der Bewerteten.
Deine Website ist durch JusProg bewertet, aber Du weißt es nicht.
Für eine solche Benachrichtigung müßte man Ansprechpartner und Kommunikationswege identifizieren können,
das ist aber nicht einheitlich automatisierbar.
Und wäre es das, dann hat man die Benachrichtigten am Hacken, die mit einem über die Bewertung diskutieren wollen,
was Zeit und Geld kostet und nicht skalierbar ist.&lt;/li&gt;
&lt;li&gt;und damit systematisch folgefalsch mit den beobachteten Problemen,
auf der Grundlage intransparenter syntaktischer Kriterien, und eventuell auch mit einer nicht offengelegten politischen Agenda.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Das ist natürlich nicht nur kein Jugendschutz, sondern auch Demokratiegift,
weil nun auf die gesamte Bevölkerung ein Zwangsmediator ausgerollt wird,
dem man sich nicht entziehen kann (darf),
weil man ja ein Jugendlicher sein könnte.
Und weil es Inhalte gibt, die nach JSchG nicht einmal Erwachsenen zugänglich gemacht werden dürfen.&lt;/p&gt;
&lt;p&gt;Daher wäre es im Grunde ideal, die zwar grundgesetzlich vorgeschriebene Idee des Jugendschutzes im Internet als zu Recht gescheitert anzusehen.
JusProg wäre dann ein Feigenblatt,
mit dem kommerzielle Medienanbieter sich durch Generierung und Installation einer &amp;ldquo;age.xml&amp;rdquo;-Datei haftungsrechtlich freikaufen können,
und dann installiert einfach niemand JusProg.&lt;/p&gt;
&lt;p&gt;So ist es aber nicht.
Dieser Status Quo ist einmal durch Installation von JusProg in öffentlichen Netzen eingerissen worden,
wie Lilith Wittmann korrekt anmerkt.&lt;/p&gt;
&lt;p&gt;Zum anderen ist da der feuchte Traum, jeden Internetbenutzer mit einem elektronischen Ausweisdokument jederzeit identifizieren zu können,
der gerade in der EU in eIDAS, Verimi und vielen anderen Dingen wieder auflebt.
Dabei kommen die Interessen
von &amp;ldquo;Bedarfsträgern&amp;rdquo;,
die Interessen von Leuten mit politischem Filterwillen,
der &amp;ldquo;Jugendschutz&amp;rdquo; als Legitimierungsfeigenblatt,
und die kommerziellen Interessen der Werbeindustrie zusammen, die Identität als staatlich zwangsverordneten Supercookie mitnutzen will.&lt;/p&gt;
&lt;p&gt;Das darf so nicht passieren.
Daher muss nicht nur JusProg sterben.
Aber es ist nur ein Baustein in einer Entwicklung, die fraktal falsch ist.&lt;/p&gt;
&lt;p&gt;Das ist der Grund, warum Lilith da überall drauf haut.
Und darum sollten wir ihr alle auf jede denkbare Art Beistand leisten.
Gerade jetzt, wo um uns herum eine politische Ideologie auflebt, die nur darauf wartet, solche Mechanismen auf tödliche Weise zu missbrauchen.&lt;/p&gt;
&lt;h1 id=&#34;siehe-auch&#34;&gt;
    &lt;a href=&#34;#siehe-auch&#34;&gt;
	Siehe auch
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Seit 27 Jahren kein Fortschritt im Diskurs:
&lt;a href=&#34;https://blog.koehntopp.info/1997/05/14/sperrungen-im-internet/&#34;&gt;Sperrungen im Internet&lt;/a&gt;

&lt;/p&gt;
&lt;p&gt;Seit 15 Jahren kein Fortschritt im Diskurs:
&lt;a href=&#34;https://blog.koehntopp.info/2009/08/06/jugendschutzfilter-saugen-und-daf-r-gibt-es-einen-grund/&#34;&gt;Jugendschutzfilter saugen und dafür gibt es einen Grund&lt;/a&gt;

 –
Warum wir nicht einfach alles &amp;ldquo;ab 18&amp;rdquo; machen können und warum damit ein Haufen Leuten mit unproblematischen Inhalten notlos Arbeit aufgebürdet wird.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Restic</title>
      <link>https://blog.koehntopp.info/2023/12/30/restic/</link>
      <pubDate>Sat, 30 Dec 2023 05:06:07 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2023/12/30/restic/</guid>
      <description>&lt;p&gt;Ich hatte Grund, mich mit &lt;a href=&#34;&#34;&gt;Restic&lt;/a&gt;

 für Backup auseinander zu setzen.&lt;/p&gt;
&lt;h1 id=&#34;warum-restic&#34;&gt;
    &lt;a href=&#34;#warum-restic&#34;&gt;
	Warum &lt;code&gt;restic&lt;/code&gt;?
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;restic&lt;/code&gt; ist eine Datensicherung in ein Repository,
das intern als ein Content-Addressable Storage aufgebaut ist.
Das heißt, daß innerhalb des Backups Datenstücke liegen,
die genau ihre (SHA256-) Prüfsumme als Dateinamen haben.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;root@server:/backup/restic/data/fc# sha256sum fcec*7a5b
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;fcec25d3e3165d159b4dac3867d1a1831707d582215c1fa30e0277cd57dc7a5b  fcec25d3e3165d159b4dac3867d1a1831707d582215c1fa30e0277cd57dc7a5b
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;Die Prüfsumme einer Datei im &lt;code&gt;data&lt;/code&gt;-Verzeichnis eines &lt;code&gt;restic&lt;/code&gt;-Repos.
Sie entspricht genau dem Namen der Datei.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Dies führt zu einer Datenstruktur in &lt;code&gt;restic&lt;/code&gt;, die nicht ganz unähnlich der in einem
&lt;code&gt;.git&lt;/code&gt;-Repository ist, und auch zu einer starken Deduplizierung von Daten.
Dateien, die in mehr als einer Generation des Backups unverändert vorkommen,
werden automatisch erkannt und nicht mehrfach gespeichert.
Stattdessen wird nur ein Reference-Count erhöht.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;restic&lt;/code&gt; verschlüsselt Daten, Metadaten und Dateinamen genau wie Datei-Inhalte,
prüft die Integrität des Backups über diese Content-Prüfsummen und
stellt die Sicherung über mehrere Such- und Zugriffsmöglichkeiten zur Verfügung.&lt;/p&gt;
&lt;p&gt;Man kann sich &lt;code&gt;restic&lt;/code&gt; wie Apple Time Machine vorstellen:
Stündliche Backups, die in wenigen Sekunden durchlaufen,
und die immer ein komplettes Image produzieren,
auch wenn sie nur inkrementell Platz und Zeit verbrauchen.
Anders als Time Machine (oder ZFS Snapshots) ist die Lösung jedoch
unabhängig vom verwendeten Dateisystem, und unterstützt ein breites Angebot
von Backend-Storages.&lt;/p&gt;
&lt;h1 id=&#34;situation&#34;&gt;
    &lt;a href=&#34;#situation&#34;&gt;
	Situation
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Der neue Dedi ist ein E5-1650 v3 mit 12 Threads und 128 GB RAM bei Hetzner.
Er führt stündlich ein &lt;code&gt;restic&lt;/code&gt; auf die Hetzner Storagebox durch,
und weiterhin einmal täglich ein &lt;code&gt;restic&lt;/code&gt; nach Hause aus.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-cronexp&#34; data-lang=&#34;cronexp&#34;&gt;10 * * * * /root/bin/run-restic
34 1 * * * /root/bin/run-restic-to-home
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;em&gt;Crontab mit den Backup-Jobs.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Zu sichern ist ein LVM2 mit einem recht kleinen &lt;code&gt;/var/www&lt;/code&gt;, &lt;code&gt;/etc&lt;/code&gt; und der Kram auf &lt;code&gt;/home&lt;/code&gt;, der zum Glück noch überschaubar groß ist.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# df -t xfs -h&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Filesystem              Size  Used Avail Use% Mounted on
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/mapper/vg0-root     20G  4.0G   17G  20% /
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/mapper/vg0-home    200G   40G  160G  20% /home
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;Situation mit den Dateisystemen auf dem Dedi.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Real erfolgen faktisch alle Änderungen am Content immer unter Usern in &lt;code&gt;/home&lt;/code&gt;,
sodaß vor allen Dingen die Sicherung dieser Partition dringend ist.
Speziell der Minecraft-Spieluser hat eine Menge Churn,
weil dort im Home alle Server-Instanzen liegen, auf denen gearbeitet wird.&lt;/p&gt;
&lt;p&gt;Die lokale Sicherung erfolgt mit einem sftp-Backend auf die Hetzner Storagebox,
das Backup nach Hause verwendet ebenfalls das sftp-Backend.&lt;/p&gt;
&lt;h1 id=&#34;sshconfig&#34;&gt;
    &lt;a href=&#34;#sshconfig&#34;&gt;
	.ssh/config
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Damit alles nicht so weh tut, verwenden wir einen speziellen Backup-Key,
der nur zur Datensicherung verwendet wird, und der nur die Funktion hat,
ein paßwortloses Login auf den Backup-Zielen zu erlauben.&lt;/p&gt;
&lt;p&gt;Wir generieren den Key mit&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ssh-keygen -t rsa -b 4096 -N &amp;#34;&amp;#34; -f ~/.ssh/id_backup&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;und konfigurieren ihn gleich in zwei &lt;code&gt;Host&lt;/code&gt;-Matchblocks rein:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# cat .ssh/config&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ServerAliveInterval &lt;span class=&#34;m&#34;&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ServerAliveCountMax &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;HashKnownHosts no
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;TCPKeepAlive yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;KeepAlive yes
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Host storagebox
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Hostname uxxxxxx.your-storagebox.de
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        User uxxxxxx
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Port &lt;span class=&#34;m&#34;&gt;23&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        IdentityFile /root/.ssh/id_backup
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Host restic
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Hostname home.example.com
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        User resticuser
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Port &lt;span class=&#34;m&#34;&gt;22&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        IdentityFile /root/.ssh/id_backup
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Dadurch können wir die Backup-Ziele korrekt vorkonfiguriert
über den Namen des Matchblocks ansprechen, also mit &lt;code&gt;storagebox&lt;/code&gt; und &lt;code&gt;restic&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Den Key müssen wir nun auch in der &lt;code&gt;authorized_keys&lt;/code&gt; der Ziele hinterlegen.
Das geht genauso wie von
&lt;a href=&#34;https://docs.hetzner.com/robot/storage-box/backup-space-ssh-keys/#upload&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Hetzner dokumentiert&lt;/a&gt;

.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# cat .ssh/id_backup.pub | ssh -p23 uXXXXX@uXXXXX.your-storagebox.de install-ssh-key&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;uXXXXX@uXXXXX.your-storagebox.de&lt;span class=&#34;err&#34;&gt;&amp;#39;&lt;/span&gt;s password:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Test mit &lt;code&gt;ssh -p23 -i ~/.ssh/id_backup uXXXXX@uXXXXX.your-storagebox.de&#39;s password&lt;/code&gt;.
Man landet in der restricted Shell der Storagebox,
und kann zum Beispiel mit &lt;code&gt;help&lt;/code&gt; eine Kommandoliste bekommen.&lt;/p&gt;
&lt;h1 id=&#34;restic-handhaben&#34;&gt;
    &lt;a href=&#34;#restic-handhaben&#34;&gt;
	Restic handhaben
    &lt;/a&gt;
&lt;/h1&gt;
&lt;h2 id=&#34;restic-initialisieren&#34;&gt;
    &lt;a href=&#34;#restic-initialisieren&#34;&gt;
	Restic initialisieren
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Damit &lt;code&gt;restic&lt;/code&gt; Dinge tun kann, muss man das Repository, in dem die Backups landen,
erst einmalig initialisieren.
Dabei wird auch ein Verschlüsselungspaßwort festgelegt, das nicht verloren gehen darf.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# restic -r sftp://storagebox/restic init&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;enter password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; new repository:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;enter password again:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;created restic repository 1c28ea9e7b at /restic
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Please note that knowledge of your password is required to access
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;the repository. Losing your password means that your data is
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;irrecoverably lost.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Dies erzeugt eine Verzeichnishierarchie in &lt;code&gt;/restic&lt;/code&gt; auf der Storagebox.&lt;/p&gt;
&lt;h2 id=&#34;restic-ausführen&#34;&gt;
    &lt;a href=&#34;#restic-ausf%c3%bchren&#34;&gt;
	Restic ausführen
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Das Backup-Script kann nun ausgeführt werden.
Man kann dies zu Fuß tun, wie ich hier, oder
&lt;a href=&#34;https://github.com/creativeprojects/resticprofile&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;resticprofile&lt;/a&gt;


bemühen.&lt;/p&gt;
&lt;p&gt;Ich sichere tatsächlich nicht &lt;code&gt;/home&lt;/code&gt;, sondern erzeuge einen LVM2-Snapshot,
von dem die Sicherung durchgeführt wird, bevor er released wird.&lt;/p&gt;
&lt;p&gt;Dadurch ist &lt;code&gt;/home&lt;/code&gt; unveränderlich während der Sicherung,
und die Konsistenz des Backups ist besser.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;cp&#34;&gt;#!/usr/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Some basic config&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;SNAPLV&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;snap
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;SNAPMOUNT&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/snapshot-of-home
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;RESTIC_REPOSITORY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;sftp://storagebox/restic
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;RESTIC_PASSWORD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;secret_password
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# only use up to 4 cpus.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;GOMAXPROCS&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;4&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Make this safe to run in a crontab&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; -e
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;set&lt;/span&gt; -o pipefail
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;PATH&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/root/.local/bin:/root/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /root
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Show free space&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ssh -p &lt;span class=&#34;m&#34;&gt;23&lt;/span&gt; -i /root/.ssh/id_backup storagebox df -m
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Delete old backups&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;restic forget &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --keep-daily &lt;span class=&#34;m&#34;&gt;30&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --keep-monthly &lt;span class=&#34;m&#34;&gt;12&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --keep-within 2d &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --keep-tag keep &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --prune
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# Actually perform a backup&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 1. Snapshot and mount it&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lvcreate -s -n &lt;span class=&#34;nv&#34;&gt;$SNAPLV&lt;/span&gt; -L10G /dev/vg0/home
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;mount -t xfs -o nouuid /dev/vg0/&lt;span class=&#34;nv&#34;&gt;$SNAPLV&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$SNAPMOUNT&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 2. Actual backup&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;restic backup &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --json &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --exclude-caches &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --iexclude-file /root/bin/restic-excludes &lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  &lt;span class=&#34;nv&#34;&gt;$SNAPMOUNT&lt;/span&gt; /var/www /etc /root &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;jq &lt;span class=&#34;s1&#34;&gt;&amp;#39;. | select(.message_type == &amp;#34;summary&amp;#34; )&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# 3. Get rid of the snapshot&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;umount &lt;span class=&#34;nv&#34;&gt;$SNAPMOUNT&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;lvremove -f /dev/vg0/&lt;span class=&#34;nv&#34;&gt;$SNAPLV&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Alle &lt;code&gt;restic&lt;/code&gt;-Subkommandos haben die Option &lt;code&gt;--json&lt;/code&gt; auszugeben, was man dann
mit
&lt;a href=&#34;https://github.com/tomnomnom/gron&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;code&gt;gron&lt;/code&gt;&lt;/a&gt;


oder
&lt;a href=&#34;https://github.com/jqlang/jq&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;code&gt;jq&lt;/code&gt;&lt;/a&gt;


konsumieren kann.&lt;/p&gt;
&lt;p&gt;In diesem Script erzeugen wir mit &lt;code&gt;lvcreate -s&lt;/code&gt; einen Snapshot der &lt;code&gt;/home&lt;/code&gt;-Partition.
Dieser wird dann in &lt;code&gt;/snapshot-of-home&lt;/code&gt; gemounted.
Weil ich xfs verwendet und das versehentliches doppeltes Mounten eines Verzeichnisses verhindert,
muss ich dies mit der Option &lt;code&gt;nouuid&lt;/code&gt; tun.&lt;/p&gt;
&lt;p&gt;Ich kann jetzt das &lt;code&gt;restic backup&lt;/code&gt;-Kommando laufen lassen.
Dies erfolgt unter anderem mit der Option &lt;code&gt;--json&lt;/code&gt; und wir fischen den &lt;code&gt;summary&lt;/code&gt;-Block am Ende raus,
ohne die Progress Reports weiter zu beachten.&lt;/p&gt;
&lt;p&gt;Die Option &lt;code&gt;--exclude-caches&lt;/code&gt; tut genau das:
&lt;a href=&#34;https://bford.info/cachedir/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;CACHEDIR.TAG&lt;/a&gt;

 Verzeichnisse ignorieren.
Außerdem werden die Patterns in einer Exclude-Datei mit &lt;code&gt;--iexclude-file&lt;/code&gt; ebenfalls ignoriert.
Das Prefix &lt;code&gt;i&lt;/code&gt; steht hier für &lt;code&gt;ignore-case&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Am Ende melden wir den Snapshot wieder ab, und schmeißen ihn weg.&lt;/p&gt;
&lt;h2 id=&#34;garbage-collection&#34;&gt;
    &lt;a href=&#34;#garbage-collection&#34;&gt;
	Garbage Collection
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Am Anfang des Scripts wird einmal
&lt;code&gt;restic forget --prune&lt;/code&gt;
bemüht.
Dies sind die Regeln, nach denen alte Backups verworfen werden:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Wir heben alle Backups 2 Tage auf.&lt;/li&gt;
&lt;li&gt;Wir heben alle Backups mit dem Tag &lt;code&gt;keep&lt;/code&gt; unbegrenzt auf.&lt;/li&gt;
&lt;li&gt;Wir heben 30 Tage lang das neuste Backup jeden Tages auf.&lt;/li&gt;
&lt;li&gt;Wir heben 12 Monate lang das neuste Backup jeden Monats auf.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Auf diese Weise haben wir bis zu einem Jahr Historie.
Dabei ist noch einmal in Erinnerung zu rufen, daß Dinge, die sich nicht ändern,
nur einmal gespeichert werden, weil &lt;code&gt;restic&lt;/code&gt; dedupliziert.&lt;/p&gt;
&lt;p&gt;Die Deduplizierung ist sehr effektiv:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# restic stats&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;enter password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; repository:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;repository 3d26efdc opened &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;version 2, compression level auto&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0:00&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; 100.00%  &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; / &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; index files loaded
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;scanning...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Stats in restore-size mode:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;     Snapshots processed:  &lt;span class=&#34;m&#34;&gt;51&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        Total File Count:  &lt;span class=&#34;m&#34;&gt;2431309&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;              Total Size:  1.827 TiB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# df -Th /restic/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Filesystem             Type  Size  Used Avail Use% Mounted on
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/dev/mapper/vg0-restic xfs   250G   57G  194G  23% /restic
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;1.8 TB Daten werden von 57 GB Plattenplatz repräsentiert.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Das &lt;code&gt;--prune&lt;/code&gt; nach dem Forget gibt Plattenplatz wieder frei.
Dabei kann es vorkommen, daß&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Der Linkcount einer Datei erniedrigt wird, sonst nichts.&lt;/li&gt;
&lt;li&gt;Daten frei markiert werden, aber als ungenutzter Datei in einem 16 MB &amp;ldquo;Pack&amp;rdquo; rumstehen.&lt;/li&gt;
&lt;li&gt;Der freie Platz im &amp;ldquo;Pack&amp;rdquo; so groß wird, daß das Pack neu geschrieben wird.&lt;/li&gt;
&lt;li&gt;Das Pack komplett frei wird und gelöscht werden kann.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;remove &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; snapshots:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ID        Time                 Host        Tags        Paths
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;------------------------------------------------------------------------
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;dac0526f  2023-12-27 13:10:01  bigbox                  /etc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                                       /snapshot-of-home
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                                       /var/www
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;------------------------------------------------------------------------
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; snapshots
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0:00&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; 100.00%  &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; / &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; files deleted
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; snapshots have been removed, running prune
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;loading indexes...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;loading all snapshots...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;finding data that is still in use &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; &lt;span class=&#34;m&#34;&gt;51&lt;/span&gt; snapshots
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0:02&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; 100.00%  &lt;span class=&#34;m&#34;&gt;51&lt;/span&gt; / &lt;span class=&#34;m&#34;&gt;51&lt;/span&gt; snapshots
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;searching used packs...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;collecting packs &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; deletion and repacking
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0:00&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; 100.00%  &lt;span class=&#34;m&#34;&gt;3499&lt;/span&gt; / &lt;span class=&#34;m&#34;&gt;3499&lt;/span&gt; packs processed
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;to repack:          &lt;span class=&#34;m&#34;&gt;1517&lt;/span&gt; blobs / 466.577 MiB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;this removes:       &lt;span class=&#34;m&#34;&gt;1341&lt;/span&gt; blobs / 444.158 MiB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;to delete:           &lt;span class=&#34;m&#34;&gt;138&lt;/span&gt; blobs / 65.741 MiB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;total prune:        &lt;span class=&#34;m&#34;&gt;1479&lt;/span&gt; blobs / 509.899 MiB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;remaining:        &lt;span class=&#34;m&#34;&gt;174653&lt;/span&gt; blobs / 54.827 GiB
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;unused size after prune: 2.728 GiB &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;4.98% of remaining size&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;repacking packs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0:01&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; 100.00%  &lt;span class=&#34;m&#34;&gt;30&lt;/span&gt; / &lt;span class=&#34;m&#34;&gt;30&lt;/span&gt; packs repacked
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;rebuilding index
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0:00&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; 100.00%  &lt;span class=&#34;m&#34;&gt;3468&lt;/span&gt; / &lt;span class=&#34;m&#34;&gt;3468&lt;/span&gt; packs processed
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;deleting obsolete index files
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0:00&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; 100.00%  &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; / &lt;span class=&#34;m&#34;&gt;3&lt;/span&gt; files deleted
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;removing &lt;span class=&#34;m&#34;&gt;34&lt;/span&gt; old packs
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0:00&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; 100.00%  &lt;span class=&#34;m&#34;&gt;34&lt;/span&gt; / &lt;span class=&#34;m&#34;&gt;34&lt;/span&gt; files deleted
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Eine detaillierte Statistik zeigt an, wie viel Platz &lt;code&gt;--prune&lt;/code&gt; reclaimed hat,
und wie viel Platz noch innerhalb der Dateien ungenutzt frei ist.
Er wird bei einem späteren &lt;code&gt;--prune&lt;/code&gt; freigegeben.&lt;/p&gt;
&lt;h2 id=&#34;snapshots-anzeigen&#34;&gt;
    &lt;a href=&#34;#snapshots-anzeigen&#34;&gt;
	Snapshots anzeigen
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Snapshots anzeigen geht mit &lt;code&gt;restic snapshots&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# restic snapshots&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;enter password &lt;span class=&#34;k&#34;&gt;for&lt;/span&gt; repository:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;repository 3d26efdc opened &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;version 2, compression level auto&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ID        Time                 Host        Tags        Paths
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;------------------------------------------------------------------------
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;0b981e61  2023-12-25 14:21:06  bigbox                  /etc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                                       /snapshot-of-home
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                                       /var/www
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;e4e36825  2023-12-25 23:10:01  bigbox                  /etc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                                       /snapshot-of-home
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                                       /var/www
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;99153462&lt;/span&gt;  2023-12-29 15:10:01  bigbox                  /etc
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                                       /snapshot-of-home
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;                                                       /var/www
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;------------------------------------------------------------------------
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;m&#34;&gt;51&lt;/span&gt; snapshots
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Wir können auch mit &lt;code&gt;restic ls&lt;/code&gt; das Verzeichnis des Snapshots listen lassen,
oder mit &lt;code&gt;restic dump&lt;/code&gt; eine einzelne Datei ausgeben lassen.&lt;/p&gt;
&lt;h2 id=&#34;suche&#34;&gt;
    &lt;a href=&#34;#suche&#34;&gt;
	Suche
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Wir können einen Snapshot nach einzelnen Dateien durchsuchen.
Zum Beispiel wollen wir sehen, ob wir das File &lt;code&gt;/home/snackbag/snackbag/extras/snacksmp/v15-fast.zip&lt;/code&gt; im Backup haben.&lt;/p&gt;
&lt;p&gt;Gesichert worden ist es als &lt;code&gt;/snapshot-of-home/...&lt;/code&gt;.
Also&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# restic find &amp;#39;/snapshot-of-home/snackbag/snackbag/extras/snacksmp/v15-fast.zip&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Found matching entries in snapshot fbb371bd from 2023-12-29 13:10:01
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/snapshot-of-home/snackbag/snackbag/extras/snacksmp/v15-fast.zip
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Found matching entries in snapshot 498bfd63 from 2023-12-29 14:10:02
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/snapshot-of-home/snackbag/snackbag/extras/snacksmp/v15-fast.zip
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Found matching entries in snapshot &lt;span class=&#34;m&#34;&gt;99153462&lt;/span&gt; from 2023-12-29 15:10:01
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/snapshot-of-home/snackbag/snackbag/extras/snacksmp/v15-fast.zip
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Found matching entries in snapshot c5d9b64a from 2023-12-29 16:10:01
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;/snapshot-of-home/snackbag/snackbag/extras/snacksmp/v15-fast.zip
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Zum Restore brauchen wir die Snapshot-ID (also zum Beispiel: &lt;code&gt;c5d9b64a&lt;/code&gt;) der Version, die wir haben wollen.
Die Ausgabe ist chronologisch, also brauchen wir die letzte ID.&lt;/p&gt;
&lt;p&gt;Suche geht auch mit Wildcards:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# restic find --json &amp;#39;*/v15-fast.zip&amp;#39; | gron&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;json&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;json&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.hits &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 1&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;json&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.matches &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;[]&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;json&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.matches&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;o&#34;&gt;{}&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;json&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.matches&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.atime &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;2023-12-18T12:53:17+01:00&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;json&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.matches&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.ctime &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;2023-12-18T14:39:47.875074144+01:00&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;json&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.matches&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.device_id &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 64773&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;json&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.matches&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.gid &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 1013&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;json&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.matches&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.group &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;snackbag&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;json&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.matches&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.inode &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 67328639&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;json&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.matches&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.links &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 1&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;json&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.matches&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.mode &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 420&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;json&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.matches&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.mtime &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;2023-12-18T12:53:17+01:00&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;json&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.matches&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.path &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;/snapshot-of-home/snackbag/snackbag/extras/snacksmp/v15-fast.zip&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;json&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.matches&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.permissions &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;-rw-r--r--&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;json&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.matches&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.size &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 53774271&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;json&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.matches&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.type &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;file&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;json&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.matches&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.uid &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; 1013&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;json&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.matches&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.user &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;snackbag&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;json&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;50&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;.snapshot &lt;span class=&#34;o&#34;&gt;=&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;c5d9b64aad4248840801f599baedc95467c49a2b8634a86d75be5bbd9d130bce&amp;#34;&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Oder mit &lt;code&gt;jq&lt;/code&gt; statt &lt;code&gt;gron&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# restic find --json &amp;#39;*/v15-fast.zip&amp;#39; | jq &amp;#39;.[].snapshot&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;fbb371bd16a2db6c2b619d14f9c7beb8e52b7f40d212b3eafb1b1f145f731478&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;498bfd639d6ae59c926a63812aaced6dc5b541ca1302c5334913044f3b8333e6&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;9915346249d0ed02d35e43a81a46d184b75f6c00ec00133c0446a4b4a9cc8eb5&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;s2&#34;&gt;&amp;#34;c5d9b64aad4248840801f599baedc95467c49a2b8634a86d75be5bbd9d130bce&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;restore&#34;&gt;
    &lt;a href=&#34;#restore&#34;&gt;
	Restore
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Restore dann:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# mkdir workspace&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# restic restore \&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; --target workspace &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&amp;gt; --include &lt;span class=&#34;s1&#34;&gt;&amp;#39;*/v15-fast.zip&amp;#39;&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;c5d9b64aad4248840801f599baedc95467c49a2b8634a86d75be5bbd9d130bce
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;repository 3d26efdc opened &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;version 2, compression level auto&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0:00&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; 100.00%  &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; / &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; index files loaded
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;restoring &amp;lt;Snapshot c5d9b64a of &lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;/snapshot-of-home /var/www /etc&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; at 2023-12-29 16:10:01.934599035 +0100 CET by root@bigbox&amp;gt; to workspace
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Summary: Restored &lt;span class=&#34;m&#34;&gt;6&lt;/span&gt; / &lt;span class=&#34;m&#34;&gt;1&lt;/span&gt; files/dirs &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;51.283 MiB / 51.283 MiB&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt; in 0:02
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# find workspace/ -type f&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;workspace/snapshot-of-home/snackbag/snackbag/extras/snacksmp/v15-fast.zip
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;fuse-mount&#34;&gt;
    &lt;a href=&#34;#fuse-mount&#34;&gt;
	FUSE-Mount
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Das ist sehr viel schneller als ein Mount,
aber ein FUSE-Mount kann auch hilfreich sein:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# restic mount /mnt/restic&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;repository 3d26efdc opened &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;version 2, compression level auto&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;0:00&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt; 100.00%  &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; / &lt;span class=&#34;m&#34;&gt;2&lt;/span&gt; index files loaded
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Now serving the repository at /mnt/restic
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Use another terminal or tool to browse the contents of this folder.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;When finished, quit with Ctrl-c here or umount the mountpoint.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;In einem 2. Fenster dann:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# cd /mnt/restic/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ls -F&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;hosts/  ids/  snapshots/  tags/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ls -F ids/&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;ids/:
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;0167ffd2/  152ea32f/  2ff8540c/  59f8f55b/  9afe61d3/  d58d50fa/  f22e171d/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;023a782d/  1561f1c8/  33e09326/  5eec2b8c/  a0020775/  d7c8e648/  f80f9e4f/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;02478085/  1b36de2d/  3f0bce8d/  61e02a5b/  a075cdd8/  d972654b/  fbb371bd/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;04216185/  1c253586/  451b146d/  6fcc9fbf/  aa916fab/  dd761561/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;0b981e61/  1c64b318/  4961c739/  89aef175/  b4d945ee/  e1b58661/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;0caeffbd/  2342db66/  498bfd63/  90a9861c/  be0f439a/  e4e36825/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;0d7e65d4/  2566d92a/  4e2ba289/  954210a2/  c0fcfe70/  eb8ce869/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;0ee4d0c9/  2cddb602/  5415cd2d/  99153462/  c5d9b64a/  ee6ad425/
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# cd ids/c5d9b64a&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ls&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;etc  snapshot-of-home  var
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# ls etc | head -3&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;adjtime
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;aliases
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;aliases.db
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;sftp-für-restic-aufsetzen&#34;&gt;
    &lt;a href=&#34;#sftp-f%c3%bcr-restic-aufsetzen&#34;&gt;
	&lt;code&gt;sftp&lt;/code&gt; für &lt;code&gt;restic&lt;/code&gt; aufsetzen
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;Die Sicherung vom (als kompromittiert anzusehenden) Minecraft-Server nach Hause muss passend gesichert werden.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Wir legen einen &lt;code&gt;resticuser&lt;/code&gt; nur für die Sicherung dieses Servers an.&lt;/li&gt;
&lt;li&gt;Er wird in der &lt;code&gt;/etc/ssh/sshd_config&lt;/code&gt; auf &lt;code&gt;sftp-internal&lt;/code&gt; constrained.&lt;/li&gt;
&lt;li&gt;Der &lt;code&gt;.ssh/authorized_keys&lt;/code&gt; dieses Users wird hinterlegt,
und als unveränderlich markiert, um Manipulationen zu erschweren.&lt;/li&gt;
&lt;li&gt;Der &lt;code&gt;sftp&lt;/code&gt;-User bekommt ein &lt;code&gt;chroot(2)&lt;/code&gt; ins Datenverzeichnis und kann nicht auf sein eigenes Home zugreifen.&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# useradd -m -c &amp;#34;Restic Backup von Minecraft&amp;#34; resticuser&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# mkdir ~resticuser/.ssh&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# scp .../id_backup.pub ~resticuser/.ssh/authorized_keys&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# chown -R resticuser:resticuser ~resticuser&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# chattr +i ~/.ssh/authorized_keys&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# tail -5 /etc/ssh/sshd_config&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Match User resticuser
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ChrootDirectory /backup/minecraft_backup
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    ForceCommand internal-sftp
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    AllowTcpForwarding no
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    X11Forwarding no
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;    
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# mkdir /backup/minecraft_backup/restic&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;# chown -R resticuser:resticuser /backup/minecraft_backup&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Eine modifizierte Version von &lt;code&gt;run-restic&lt;/code&gt; von oben sollte nun Daten in diesen Speicher schieben können.&lt;/p&gt;
&lt;h1 id=&#34;rest-server&#34;&gt;
    &lt;a href=&#34;#rest-server&#34;&gt;
	&lt;code&gt;rest-server&lt;/code&gt;
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;(via &lt;a href=&#34;https://github.com/mgumz&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Mathias Gumz&lt;/a&gt;

)&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/restic/rest-server&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;code&gt;rest-server&lt;/code&gt;&lt;/a&gt;

 ist ein Unterprojekt von &lt;code&gt;restic&lt;/code&gt;,
das ein Server-Backend für das REST-Protokoll von &lt;code&gt;restic&lt;/code&gt; implementiert.
Es hat einen &lt;code&gt;--append-only&lt;/code&gt; Modus, mit dem man Backups aus unsicheren Quellen annehmen kann,
ohne daß die Backup-Quelle das Backup zerstören oder löschen kann.
Natürlich müssen &lt;code&gt;forget&lt;/code&gt; und &lt;code&gt;prune&lt;/code&gt; dann lokal auf dem Server getriggert werden und nicht durch den Backup-Prozess.&lt;/p&gt;
&lt;p&gt;Das Projekt kommt mit einer umfangreichen Installationsanleitung und mit offiziellen Docker-Images,
sodass das Aufsetzen eines Servers mit wenigen Handgriffen getan ist.&lt;/p&gt;
&lt;p&gt;Der Aufruf sieht im Wesentlichen so aus:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ lvcreate -L 100G -n testing hdd
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ mkfs -t xfs /dev/hdd/testing
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ mkdir /backup/testing
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ mount /dev/hdd/testing /backup/testing
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ &lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /backup/testing
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ htpasswd -B -c .htpasswd kris
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;Password: keks
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ cp /etc/apache2/md/domains/&lt;span class=&#34;o&#34;&gt;{&lt;/span&gt;privkey,pubcert&lt;span class=&#34;o&#34;&gt;}&lt;/span&gt;.pem .
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ rest-server &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --append-only &lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --tls &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --tls-cert pubcert.pem &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --tls-key privkey.pem &lt;span class=&#34;se&#34;&gt;\ &lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --path /backup/testing/ &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --max-size &lt;span class=&#34;m&#34;&gt;107374182400&lt;/span&gt; &lt;span class=&#34;se&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;  --listen &lt;span class=&#34;s1&#34;&gt;&amp;#39;192.168.1.10:8000&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;Testweises Starten von &lt;code&gt;rest-server&lt;/code&gt; mit lokalen Kopien der bei &amp;ldquo;Let&amp;rsquo;s Encrypt&amp;rdquo; generierten Zertifikate und ein Test-Repository.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Der Beispielaufruf startet den &lt;code&gt;rest-server&lt;/code&gt; auf Port 8000 der Testmaschine.
Er verwendet Kopien der von &amp;ldquo;mod_md&amp;rdquo; generierten &amp;ldquo;Let&amp;rsquo;s Encrypt&amp;rdquo;-Zertifikate aus &lt;code&gt;/etc/apache/md/domains&lt;/code&gt;,
und greift auf ein &amp;ldquo;append-only&amp;rdquo;-Repository in &lt;code&gt;/backup/testing&lt;/code&gt; zu.
Die Größe des Repository ist auf 100 GB (100 * 1024^3 Bytes) limitiert.&lt;/p&gt;
&lt;p&gt;Wir können das Repository unter dem Namen &lt;code&gt;rest:https://home.example.com:8000&lt;/code&gt; ansprechen.
Also&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;RESTIC_REPOSITORY&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;rest:https://home.example.com:8000
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$   &lt;span class=&#34;nb&#34;&gt;export&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;RESTIC_PASSWORD&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;keks
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ restic init
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;$ restic backup --exclude-caches /etc 
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;zum Sichern ein paar mal laufen lassen und dann &lt;code&gt;restic snapshots&lt;/code&gt; zum Ansehen der Backups.&lt;/p&gt;
&lt;p&gt;Löschen von Backups mit &lt;code&gt;forget&lt;/code&gt; und &lt;code&gt;prune&lt;/code&gt; ist durch den Client nicht mehr machbar.&lt;/p&gt;
&lt;p&gt;Stattdessen kann man das Backup lokal als &lt;code&gt;-r /backup/testing&lt;/code&gt; ansprechen und per Cron
das entsprechende &lt;code&gt;forget --prune --keep...&lt;/code&gt;-Regel laufen lassen.
Dabei muß man sicherstellen, daß die Datei-Eigentümer sauber bleiben,
am Besten indem man &lt;code&gt;rest-server&lt;/code&gt; und den &lt;code&gt;forget&lt;/code&gt;-Cronjob unter demselben
Owner laufen läßt.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Eine Revolution frißt ihre Kinder</title>
      <link>https://blog.koehntopp.info/2023/11/11/eine-revolution-frisst-ihre-kinder/</link>
      <pubDate>Sat, 11 Nov 2023 02:03:04 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2023/11/11/eine-revolution-frisst-ihre-kinder/</guid>
      <description>&lt;p&gt;Dieser Text erschien in c&amp;rsquo;t 26/23 auf Seite 70.
Wie alle meine Texte ist er nach einiger Zeit auch in meinem Blog frei verfügbar.
Die hier veröffentlichte Fassung ist die Rohfassung des Artikeltexts ohne Abbildungen und Illustrationen.&lt;/p&gt;
&lt;p&gt;This text is also &lt;a href=&#34;https://blog.koehntopp.info/2023/11/11/a-revolution-devours-its-children/&#34;&gt;available in English&lt;/a&gt;

.&lt;/p&gt;
&lt;h1 id=&#34;eine-revolution-frisst-ihre-kinder&#34;&gt;
    &lt;a href=&#34;#eine-revolution-frisst-ihre-kinder&#34;&gt;
	Eine Revolution frisst ihre Kinder
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;von Kristian Köhntopp&lt;/p&gt;
&lt;h2 id=&#34;abkehr-von-klassischen-open-source-lizenzen&#34;&gt;
    &lt;a href=&#34;#abkehr-von-klassischen-open-source-lizenzen&#34;&gt;
	Abkehr von klassischen Open-Source-Lizenzen
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Open Source war einmal angetreten, um Nutzern die größtmögliche Freiheit im Betrieb von Software zu garantieren und Software-Titanen den Kampf anzusagen.
Inzwischen haben diese aber gelernt, die verbrieften Freiheiten zu ihrem Vorteil zu nutzen.&lt;/p&gt;
&lt;p&gt;Es brodelt in der Open-Source-Gemeinde:
In jüngerer Vergangenheit lässt sich beobachten,
dass etablierte Softwareunternehmen mit großer Nutzerbasis die Freiheiten der Nutzer ihrer Open-Source-Projekte durch einen Lizenzwechsel einschränken.
Jüngstes Beispiel ist das Unternehmen HashiCorp,
das auf Software für Cloud-Infrastruktur spezialisiert ist und seine Kernprodukte unter die BSL v1.1 (Business Source License) gestellt hat,
eine formal nicht offene Lizenz.
Die Quittung kam prompt:
Inzwischen wurde die Software als OpenTofu geforkt und steht jetzt unter der Schirmherrschaft der Linux Foundation.&lt;/p&gt;
&lt;p&gt;HashiCorp ist nicht die erste Firma, die so etwas tut:
RedHat hat vor längerer Zeit die Positionierung von CentOS als freie Alternative zu RedHat Enterprise Linux (RHEL) geändert
und kürzlich die Herausgabe der RHEL-Quelltexte durch eine EULA (End User License Agreement) eingeschränkt,
Elastic hat ElasticSearch und Kibana unter die formal nicht offene SSPL (Server Side Public License) gestellt,
und auch MongoDB ist nur noch unter der SSPL zu haben.&lt;/p&gt;
&lt;p&gt;Noch viel früher gab es Umzüge von der GPLv2 zur GPLv3,
die Einführung der AGPL,
und einige Firmen wie Apple haben ein striktes GPLv3-Verbot für ihre eigenen Softwareprodukte ausgesprochen.
Apple migriert zudem alle interne Software komplett von der GPL weg.
Sind diese Entwicklungen eine Bedrohung für Open Source?
Und was sollen diese Lizenzänderungen eigentlich bezwecken?
Um die Konfliktlinien zu verstehen, lohnt sich ein Blick in die Vergangenheit.&lt;/p&gt;
&lt;h2 id=&#34;vier-freiheiten-und-eine-zertifizierung&#34;&gt;
    &lt;a href=&#34;#vier-freiheiten-und-eine-zertifizierung&#34;&gt;
	Vier Freiheiten und eine Zertifizierung
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Open Source und Free Software gab es schon, bevor diese Worte dafür existierten.
Doch die eigentliche „Open-Source-Revolution“ begann in den 1990er Jahren mit dem Linux Kernel
und den sich daraus ergebenden Distributionen.
Der Begriff „Open Source“ wurde von Bruce Perens und Eric Raymond geprägt und in der Open-Source-Definition und den Debian Free Software Guidelines formalisiert.&lt;/p&gt;
&lt;p&gt;Beides sind Verfeinerungen und Klarstellungen der ursprünglichen „Vier Freiheiten“ der Mutter aller Open-Source-Lizenzen,
der GNU General Public License (GPL), die da lauten:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Freiheit 0: Die Freiheit, das Programm für jeden Zweck auszuführen.&lt;/li&gt;
&lt;li&gt;Freiheit 1: Die Freiheit, die Funktionsweise des Programms zu untersuchen und eigenen Bedürfnissen der Datenverarbeitung anzupassen. Das impliziert Zugang zum Quelltext.&lt;/li&gt;
&lt;li&gt;Freiheit 2: Die Freiheit, das Programm weiterzugeben. Die GPL fordert aber,
dass auch der Quelltext des Programms, der dem weitergegebenen Programm
entspricht, angeboten wird.&lt;/li&gt;
&lt;li&gt;Freiheit 3: Die Freiheit, das Programm zu verbessern und diese Verbesserungen
unter der originalen Lizenz weiterzugeben. Auch dies impliziert Zugang zum Quelltext und das Recht, diesen zu ändern.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Während die GPLv2 die Lizenz ist, die diese Freiheiten das erste Mal kodifiziert hat,
haben sich schnell eine ganze Reihe von Lizenzen entwickelt,
die alle „Open Source“ nach den OSI-Richtlinien (Open Source Initiative) oder den DFSG (Debian Free Software Guidelines) sind
und von denen einige zwar frei, aber inkompatibel mit der GPL sind.
Das hat insbesondere in den späten 90er Jahren viele Usenet-Newsgroups dauerhaft mit Diskussionen gefüllt.&lt;/p&gt;
&lt;h2 id=&#34;der-lamp-stack-eine-wilde-mischung-von-lizenzen&#34;&gt;
    &lt;a href=&#34;#der-lamp-stack-eine-wilde-mischung-von-lizenzen&#34;&gt;
	Der LAMP-Stack: Eine wilde Mischung von Lizenzen
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Der bekannte LAMP-Stack für die Webentwicklung ist auch ein Beispiel für den Lizenzwirrwarr,
mit dem man es bei Open Source zu tun haben kann.
LAMP beinhaltet den Linux Kernel, den Apache Webserver,
die MySQL-Datenbank und die Programmiersprache PHP.
All diese Bausteine haben unterschiedliche Lizenzen.&lt;/p&gt;
&lt;p&gt;Während der Linux-Kernel GPLv2-lizenziert ist, steht der Apache Webserver unter der Apache License 2.
Diese ist freizügig („permissive“), das heißt, es fehlen Bestimmungen, die erzwingen,
dass Veränderungen gegenüber dem Originalprogramm unter derselben Lizenz wie das Originalprogramm weitergegeben werden müssen.&lt;/p&gt;
&lt;p&gt;MySQL hat gleich zwei Lizenzen:
Die Datenbank kann unter der GPL genutzt werden und unterliegt dann den Bestimmungen und Freiheiten,
die oben genannt wurden.
Der Urheberrechtsinhaber ist jedoch eine Firma (ursprünglich MySQL, dann SUN und jetzt Oracle), die alle Rechte innehat.
Entwickler müssen die Rechte an ihren Patches per Contributor License Agreement (CLA) an Oracle abtreten.
Dadurch kann Oracle den Quelltext auch unter einer kommerziellen Lizenz anbieten.&lt;/p&gt;
&lt;p&gt;Und PHP steht seit Version 4 unter der PHP-License.
Auch das ist eine freizügige Lizenz, die Nutzung und Weitergabe von PHP mit oder ohne Modifikationen,
als Quelltext oder ausführbares Programm erlaubt,
jedoch Einschränkungen hinsichtlich des Gebrauches der Wortmarke „PHP“ enthält.&lt;/p&gt;
&lt;p&gt;Das führt zu einer wichtigen Frage der späten 90er Jahre:
Was passiert, wenn man Software mit unterschiedlichen Lizenzen mischt und zusammen in einer Distribution verbreitet
oder sie in einem Übersetzungsprozess zusammen linkt?&lt;/p&gt;
&lt;p&gt;Das GNU Projekt hat relativ schnell klargestellt, dass die Grenzen der Lizenz die Prozessgrenzen sind.
Wenn man also ein Programm unter einer anderen Lizenz entwickelt und mit GNU-Software zusammen linkt,
sodass das Resultat hinterher in ein- und demselben Prozess ausgeführt wird, dann geht das legal nur dann in Ordnung,
wenn die andere Lizenz mit der GPL kompatibel ist.&lt;/p&gt;
&lt;p&gt;Obwohl die GPL eine Open-Source-Lizenz ist, sind nicht viele Lizenzen mit der GPL kompatibel.
Das liegt daran, dass die GPL die Freiheit wahrende Einschränkungen enthält:
Man kann die Ausführung der Software nicht einschränken („Nicht in Atomraketen!“)
und ein Programm, das GPL-Komponenten enthält, muss auch im Quelltext mit allen Änderungen angeboten werden.
Das bedeutet: nicht nur die GPL-Komponenten, sondern alle Komponenten in diesem Prozessraum.&lt;/p&gt;
&lt;h2 id=&#34;die-debatte-um-die-infektiöse-gpl&#34;&gt;
    &lt;a href=&#34;#die-debatte-um-die-infekti%c3%b6se-gpl&#34;&gt;
	Die Debatte um die „infektiöse“ GPL
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Aus der Pflicht zur Veröffentlichung der Quellen ergab sich dann eine weitere Diskussion in den frühen Nullerjahren.
Damals wurden Linux und Open Source so groß, dass man sie nicht ignorieren konnte,
und eine Menge Start-ups kokettierten mit Open Source.
Die GPL war damals zwar die am weitesten verbreitete Lizenz, aber wenn man ein Start-up betreibt,
das sich durch Risikokapital finanziert, dann ist es keine attraktive Aussicht für Investoren,
alle Quellen der eigenen Software unter der GPL herausgeben zu müssen.&lt;/p&gt;
&lt;p&gt;Aus dieser Zeit stammt der Anti-Open-Source-Slogan der „viralen“ oder „ansteckenden“ GPL,
der im Kern jedoch Unsinn ist:
Zum einen ist die GPL leicht einzuhegen, denn sie endet ja klar definiert an Prozessgrenzen,
andererseits sind die Bestimmungen der GPL sinnvoll, weil sie eine direkte Ausbeutung der Leistung anderer erschwert
(„Quid pro quo: Wenn Du von Open Source profitierst, dann sollst Du auch auf die gleiche Weise dazu beitragen.“).&lt;/p&gt;
&lt;h2 id=&#34;gplv3-gegen-softwarepatente&#34;&gt;
    &lt;a href=&#34;#gplv3-gegen-softwarepatente&#34;&gt;
	GPLv3 gegen Softwarepatente
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Venture Capitalists brachten als Reaktion eine weitere Bedrohung für Open Source in Stellung,
auf die reagiert werden musste: Softwarepatente.
Wenn Start-ups ihre Software unter der GPL herausgeben müssen,
können sie ihr geistiges Eigentum eventuell anders einschränken, um später dafür Lizenzgebühren einzutreiben.
Damals waren das Softwarepatente, die als reale Bedrohung positioniert wurden.&lt;/p&gt;
&lt;p&gt;In der Rechtfertigung für die Version 3 der GPL wird dies auch direkt thematisiert,
und die GPLv3 enthält Regelungen, die vereinfacht besagen:
„Wenn Du Patente verwendest, um Benutzer von beliebiger GPLv3-lizenzierter Software zu verklagen,
dann erlischt Dein Recht, jegliche GPLv3 Software zu verwenden.“
Diese Klausel ist wirksam und sie hat unter anderem dazu geführt,
dass Apple jede Form von GPLv3-lizenzierter Software in seinen Produkten vermeidet
und sukzessive jegliche GPL-Software in Apple-Produkten durch anders lizenzierte Software ersetzt.&lt;/p&gt;
&lt;p&gt;Die Bestimmung, dass die GPL an Prozessgrenzen endet, ist auch für das GNU-Projekt manchmal problematisch,
und so gibt es Varianten der GPL und Ausnahmen.
Zum Beispiel ist generierter Code von unter der GPL stehenden Programmen nicht GPL-geschützt:
Dies ermöglicht Codegeneratoren wie gcc, bison und flex.
Und für einige Bibliotheken, darunter die glibc, gibt es die LGPL,
auch „Lesser GPL“ genannt, die es erlaubt, die Bibliotheken gegen Nicht-GPL-Software zu linken.&lt;/p&gt;
&lt;h2 id=&#34;gpl-statt-lgpl-als-waffe&#34;&gt;
    &lt;a href=&#34;#gpl-statt-lgpl-als-waffe&#34;&gt;
	„GPL statt LGPL“ als Waffe
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Andersherum haben einige Firmen die GPL als Waffe eingesetzt. Zum Beispiel waren Bibliotheken wie die „libmysqlclient.so“ bis einschließlich MySQL 3.23 unter der LGPL verfügbar, aber ab Version 4 stehen sie unter der GPL. Linkt man diese Bibliothek also in sein kommerzielles Programm und will es ausliefern, dann muss man eine kommerzielle MySQL-Lizenz unter dem Dual-Licensing Programm kaufen. MySQL hat das im Slogan „If you are free, we are free. If you are commercial, we are commercial“ zusammengefasst.&lt;/p&gt;
&lt;p&gt;Das war eine Zeit lang ein Problem für die Programmiersprache PHP, die ja gegen diese Bibliothek gelinkt hat, um auf die Datenbank im Rahmen des LAMP-Stacks zugreifen zu können, aber eine formal nicht GPL-kompatible Lizenz hat. PHP ist dem Problem mit einer Re-Implementierung des Protokolls als „mysqlnd“ begegnet, und parallel dazu hat MySQL das Problem gelöst, indem sie eine Lizenz-Ausnahme für PHP (und andere) definiert haben.&lt;/p&gt;
&lt;h2 id=&#34;weniger-gpl-mehr-mit-bsd-und-apache&#34;&gt;
    &lt;a href=&#34;#weniger-gpl-mehr-mit-bsd-und-apache&#34;&gt;
	Weniger GPL, mehr MIT, BSD und Apache
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;All diese Wirrungen sind ein Grund, warum „moderne“ Open-Source-Software meist nicht mehr die GPL verwendet,
sondern andere Lizenzen wie MIT, BSD oder Apache bevorzugt.
Sie machen eine Reihe von kapitalfinanzierten Geschäftsmodellen um Open Source einfacher,
wenn man eine Firma um ein (oft nur dem Namen nach) Open-Source-Produkt stricken will.
Ab 2005 beginnt die Blütezeit von auf Open Source basierenden Geschäftsmodellen.
Das hat 15 Jahre lang gut genug funktioniert, um eine Reihe von Projekten groß zu machen.&lt;/p&gt;
&lt;p&gt;Einige dieser Projekte sind nicht auf einzelne Firmen als Träger angewiesen:
PHP, KDE und Postgres sind zum Beispiel stabile und groß angelegte OSS-Projekte,
hinter denen nicht eine einzelne große Firma und ihre Venture-Kapitalgeber stehen –
sie alle zeichnen sich durch eine breite und vielfach verankerte Basis von Beitragenden aus.&lt;/p&gt;
&lt;p&gt;Seit einigen Jahren zeigen sich Risse:
RedHat, Elastic, MongoDB, MariaDB (ein MySQL-Fork), HashiCorp und viele andere haben ihre Lizenzen geändert
oder sich umstrukturiert, um einen bestimmten Use-Case auszuschließen.
Da dies eine Verletzung der Freiheit 0 darstellt,
sind es damit auch keine Open-Source-Projekte im Sinne der OSI und der DFSG mehr.&lt;/p&gt;
&lt;h2 id=&#34;der-elefant-im-raum-ist-die-cloud&#34;&gt;
    &lt;a href=&#34;#der-elefant-im-raum-ist-die-cloud&#34;&gt;
	Der Elefant im Raum ist die Cloud
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Amazon Web Services (AWS) ist ein System und eine Firma,
die stellvertretend für ein Geschäftsmodell steht:
Es monetarisiert den in Unternehmen oft vernachlässigten und unterfinanzierten Aspekt „Operations“
und sieht vor, Software für Dritte nicht zu entwickeln, sondern vorrangig zu betreiben.&lt;/p&gt;
&lt;p&gt;Damit ist Amazon sehr erfolgreich:
Schon länger laufen in dessen Rechenzentren mehr Neuinstallationen von MySQL
(und MongoDB, Postgres oder Elastic und vielen anderen Datenbanken) als lokal beim Kunden („on premise“).
Dies ist eine Klasse von Systemen, die notorisch schwierig zu betreiben sind,
weil Fehler beim Betrieb Daten unwiederbringlich ruinieren können.
Natürlich kann man eine fehlerhafte Version einer Datenbank auf die vorhergehende Version zurückrollen,
aber die Daten, die durch den Fehler zerstört worden sind, sind immer noch dauerhaft weg.&lt;/p&gt;
&lt;p&gt;Die systematische Unterschätzung der Kosten und des Aufwandes von Operations macht das Prinzip „Software as a Service“ (SaaS) erfolgreich.
SaaS-Anbieter verkaufen nicht nur einen Dienst,
sondern im Grunde genommen vornehmlich ein Betriebskonzept für diesen Dienst,
der einen reibungslosen und unterbrechungsfreien Betrieb direkt nach der Inbetriebnahme erlaubt.
Weil das Betriebskonzept erprobt und vorgeschrieben ist,
kann man die Qualität der Dienstleistung standardisieren, messen und dann stabile Verträge mit Dritten darüber eingehen.&lt;/p&gt;
&lt;p&gt;Kunden begrüßen das, denn Software zu betreiben ist ein Problem,
das mindestens so schwierig ist wie Software zu entwickeln.
Viele Kunden wollen sich damit nicht auseinandersetzen.
Oft werden dabei Verfügbarkeiten, Antwortzeiten und Kosten in Kauf genommen,
die genau so vorher bei den eigenen Inhouse-Teams vollkommen inakzeptabel waren,
nur um beispielsweise den Aufgabenkomplex „Betrieb der Datenbanken“ aus dem Haus zu bekommen – das zeigt,
wie unangenehm Firmen die Auseinandersetzung mit „Operations“ ist.&lt;/p&gt;
&lt;p&gt;Dabei ist der Betrieb dieser Software durch AWS nicht durch eine kommerzielle Vereinbarung zwischen dem Hersteller der Software und Amazon gedeckt,
sondern erfolgt auf der Grundlage der Freiheit 0 der GPL:
Amazon darf die Software zu jedem beliebigen Zweck ausführen, auch als Service für Dritte.
In Folge streicht Amazon das Geld für den Betrieb dieser Installationen ein,
aber der eigentliche Softwareentwickler, die Herstellerfirma oder -gruppe bekommt davon nichts.
Das ist kein nachhaltiges Finanzierungsmodell, aber durch die GPL gedeckt und sehr vorteilhaft für AWS,
sodass man dort auch keine Veranlassung sieht, etwas daran zu ändern.&lt;/p&gt;
&lt;h2 id=&#34;business-source-license-als-frühe-reaktion&#34;&gt;
    &lt;a href=&#34;#business-source-license-als-fr%c3%bche-reaktion&#34;&gt;
	Business Source License als frühe Reaktion
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Das ist schon recht früh als Problem erkannt worden:
Bei MariaDB findet man die erste Erwähnung der „Business Source License“ (BSL) im Blog von Monty Widenius schon 2013,
und MariaDB setzt sie für bestimmte Komponenten seit 2016 ein,
mit leichten Veränderungen nach Anregungen von Bruce Perens dann seit 2017 in der Version 1.1.
Andere Produkte ziehen nach und gehen ebenfalls unter die BSL:
Couchbase, Uptrace, Kurtosis, Sentry, CockroachDB und neuerdings alle HashiCorp-Kernprodukte.&lt;/p&gt;
&lt;p&gt;Die Idee hinter der BSL ist, dass die Software weiterhin frei nutzbar und der Quelltext verfügbar bleibt,
aber mit Einschränkungen.
Die wichtigste Einschränkung meint üblicherweise „AWS darf das nicht nutzen“,
formuliert als „Die Software darf nicht als SaaS für Dritte angeboten werden“.
Man kann die Software also weiter so verwenden wie zuvor.
Man kann sie auch in AWS selbst betreiben oder man kann sie innerhalb der eigenen Organisation für andere Abteilungen bereitstellen.&lt;/p&gt;
&lt;p&gt;Aber man wird den Betrieb der Software nicht als Dienst von einem Cloud-Betreiber kaufen können,
sondern nur vom Ersteller der Software selbst (etwa via AWS Marketplace).
Diese Einschränkung dient dazu, die Finanzierung der Entwicklung der Software sicherzustellen,
indem AWS die Möglichkeit genommen wird, diesen Geldstrom vollständig für sich selbst abzuzweigen.
Die BSL kommt mit einer weiteren Regel, die besagt,
dass Codeänderungen spätestens nach vier Jahren unter eine anerkannte Open-Source-Lizenz fallen (meist die Apache-2.0-Lizenz oder die GPL),
sodass ältere Versionen der Software auf jeden Fall immer Open Source sind.&lt;/p&gt;
&lt;p&gt;Formal ist BSL-Software keine Open Source im Sinne der OSI oder DFSG,
weil anders als bei der GPL die Freiheit 0 („Ausführen für welchen Zweck auch immer“) eingeschränkt wird.
Man bezeichnet sie deshalb auch als „Source Available“.
Auch die von MongoDB, Elastic und Kibana verwendete Server Side Public License verfolgt dieselbe Idee,
nur anders: Die SSPL ist eine AGPLv3 Variante,
die ebenfalls die Freiheit 0 einschränkt und verbietet, die Software für Dritte („as a Service“) zu betreiben,
es sei denn, man erwirbt eine kommerzielle Lizenz.&lt;/p&gt;
&lt;h2 id=&#34;unfreie-freie-software&#34;&gt;
    &lt;a href=&#34;#unfreie-freie-software&#34;&gt;
	Unfreie freie Software
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Die Grundidee hinter den Freiheiten der GPL ist Geben und Nehmen:
„Du kannst unsere Software nutzen, musst aber selbst gutartig mitspielen.“
Weil AWS seine Position im Markt immer weiter ausbaut, wird es den Erstellern von Open Source zunehmend schwerer gemacht,
ihren Unterhalt mit der Entwicklungsarbeit zu verdienen –
AWS bietet deren Software als Service an und verwebt ihn mit weiteren Dienstleistungen.
Die Freiheit 0 der freien Software wendet sich hier gegen die Ersteller der Software.&lt;/p&gt;
&lt;p&gt;Die BSL und die SSPL sind eine Reaktion darauf.
Sie sind formal gesehen keine freie Software nach OSI oder DFSG.
Aber vielleicht ist es auch für Open Source wieder einmal an der Zeit,
den Veränderungen und den neuen Bedrohungen ins Auge zu sehen und die Lizenzen und die Definitionen der neuen Zeit anzupassen,
so wie dies mit der GPLv3 und der AGPL schon einmal geschehen ist.&lt;/p&gt;
&lt;p&gt;Vielleicht bewegen sich FSF, OSI und Debian aber auch nicht und beharren auf ihren Definitionen von „freier Software“.
Die Entwickler von Software unter der BSL und der SSPL ficht das nicht an:
Ihre Software ist jetzt schon „fast frei“
und wegen ihrer speziellen Regel nach einigen Jahren dann auch formal freie Software nach alter Definition.
Einen Grund, die BSL oder SSPL abzulehnen, gibt es nicht, ausgenommen Fundamentalismus für freie Software.
Aber wenn diejenigen, denen etwas am Open-Source-Gedanken liegt, nicht wollen,
dass AWS die einzige Firma mit einem erfolgreichen Open-Source-Geschäftsmodell ist,
muss sich etwas ändern.
Sonst landen Nutzer schon bald wieder bei langweiliger, traditioneller kommerzieller Software,
wie man es früher von Microsoft und Oracle gewohnt war.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
