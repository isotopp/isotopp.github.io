<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Minecraft on Die wunderbare Welt von Isotopp</title>
    <link>https://blog.koehntopp.info/tags/minecraft.html</link>
    <description>Recent content in Minecraft on Die wunderbare Welt von Isotopp</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <managingEditor>kris-blog@koehntopp.de (Kristian Köhntopp)</managingEditor>

    
    <webMaster>kris-blog@koehntopp.de (Kristian Köhntopp)</webMaster>

    
    <lastBuildDate>Tue, 12 Aug 2025 08:59:15 +0000</lastBuildDate><atom:link href="https://blog.koehntopp.info/tags/minecraft/feed.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Minecraft: unable to create native thread</title>
      <link>https://blog.koehntopp.info/2023/02/17/minecraft-unable-to-create-native-thread.html</link>
      <pubDate>Fri, 17 Feb 2023 13:32:00 +0100</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2023/02/17/minecraft-unable-to-create-native-thread.html</guid>
      <description>&lt;p&gt;A minecraft server has problems creating threads. The error message reads:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-java&#34; data-lang=&#34;java&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;n&#34;&gt;java&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;lang&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;OutOfMemoryError&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;unable&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;to&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;create&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;kd&#34;&gt;native&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;thread&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;possibly&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;out&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;of&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;memory&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;or&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;process&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;/&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;resource&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;limits&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;reached&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;at&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;java&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;lang&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;Thread&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;start0&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Native&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Method&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;~[?&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;?]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;at&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;java&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;lang&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;Thread&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;start&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Thread&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;java&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;802&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;~[?&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;?]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;at&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;java&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;util&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;concurrent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ThreadPoolExecutor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;addWorker&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ThreadPoolExecutor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;java&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;945&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;~[?&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;?]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;at&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;java&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;util&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;concurrent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;ThreadPoolExecutor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;execute&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;ThreadPoolExecutor&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;java&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;1353&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;~[?&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;?]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;at&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;java&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;util&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;concurrent&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;Executors$DelegatedExecutorService&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;execute&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;Executors&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;java&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;721&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;o&#34;&gt;~[?&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;?]&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;        &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;at&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;n&#34;&gt;org&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;bukkit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;craftbukkit&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;v1_19_R2&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;scheduler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;CraftAsyncScheduler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;mainThreadHeartbeat&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;(&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;CraftAsyncScheduler&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;.&lt;/span&gt;&lt;span class=&#34;na&#34;&gt;java&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;n&#34;&gt;73&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;)&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The server in question has 32 GB of memory (6 GB used), 8 cores, and processes threads running.
It is mostly idle.
There is no reason at all why this machine should be out of resources.&lt;/p&gt;
&lt;h1 id=&#34;vps-limits-and-how-to-check-them&#34;&gt;
    &lt;a href=&#34;#vps-limits-and-how-to-check-them&#34;&gt;
	VPS Limits, and how to check them
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;It is a VPS, and that may be related:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;#&lt;/span&gt; lscpu &lt;span class=&#34;p&#34;&gt;|&lt;/span&gt; egrep -i &lt;span class=&#34;s1&#34;&gt;&amp;#39;(visor|virt)&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;Address sizes:       46 bits physical, 48 bits virtual
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;Virtualization:      VT-x
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;Hypervisor vendor:   Parallels
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;Virtualization type: container
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The instance has a relatively low process limit, shown in &lt;code&gt;/proc/user_beancounters&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;#&lt;/span&gt; grep numproc /proc/user_beancounters
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;            numproc                       272                  272                 1100                 1100                    0
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This shows a global limit of 1100 threads/processes.&lt;/p&gt;
&lt;p&gt;There is an additional threads-per-process limit enforced by systemd, and this is relatively low, because of the low per-instance limit.
It can be shown like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;#&lt;/span&gt; systemctl show --property&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;DefaultTasksMax
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;DefaultMax=135
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This matches the numbers from the &lt;code&gt;user_beancounters&lt;/code&gt;:
The maximum utilization was 272 in the Beancounters, and the server never managed to hit the limit of 1100.
Instead, it made it to 2x 135 (two Minecraft servers, each with the limit of 135), and two additional threads.&lt;/p&gt;
&lt;h1 id=&#34;increasing-the-systemd-limit&#34;&gt;
    &lt;a href=&#34;#increasing-the-systemd-limit&#34;&gt;
	Increasing the &lt;code&gt;systemd&lt;/code&gt; Limit
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;It is possible to increase this limit to the instance limit, like so:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;#&lt;/span&gt; mkdir /etc/systemd/systemd.conf.d&lt;span class=&#34;sb&#34;&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; /etc/systemd/system.conf.d
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;#&lt;/span&gt; &lt;span class=&#34;nb&#34;&gt;pwd&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;/etc/systemd/system.conf.d
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;&lt;/span&gt;&lt;span class=&#34;gp&#34;&gt;#&lt;/span&gt; cat &amp;lt;&amp;lt; EOF &amp;gt; system.conf
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;#&lt;/span&gt; Override created by ... on ...
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;o&#34;&gt;[&lt;/span&gt;Manager&lt;span class=&#34;o&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;DefaultTasksMax=1100
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;After creating this file, reload systemd and check the new limits:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;#&lt;/span&gt; systemctl daemon-reexec
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;#&lt;/span&gt; systemctl show --property&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;DefaultTasksMax
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;DefaultMax=1100
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id=&#34;non-vps-has-higher-limits&#34;&gt;
    &lt;a href=&#34;#non-vps-has-higher-limits&#34;&gt;
	Non-VPS has higher limits
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;On a physical server with 32 GB of memory and 8 cores, the default limit is&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;#&lt;/span&gt; systemctl show --property&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;DefaultTasksMax
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;DefaultTasksMax=38313
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;and it can be tuned much higher.
Similarly, on a properly virtualized box instead of a VPS it would be much higher.&lt;/p&gt;
&lt;p&gt;Consider this when you opt for a cheap, overcomitted VPS slice instead of a proper KVM.
When you go for the VPS, make a monthly contract and do not commit to a one-year option, so you can get rid of it when it turns out to be unsuitable.&lt;/p&gt;
&lt;h1 id=&#34;actual-resource-consumption&#34;&gt;
    &lt;a href=&#34;#actual-resource-consumption&#34;&gt;
	Actual resource consumption
    &lt;/a&gt;
&lt;/h1&gt;
&lt;p&gt;On our server, we run three instances of &amp;ldquo;Paper&amp;rdquo; (a high-performance patch to a patch to a patch of the original minecraft server),
and waterfall, a Minecraft proxy that directs users between the instances.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;https://blog.koehntopp.info/uploads/2023/02/native-thread-01.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Output of the &lt;code&gt;htop&lt;/code&gt; program.
On the right hand side of the screenshot, we see three identically configured &lt;code&gt;java&lt;/code&gt; instances, each representing a &amp;ldquo;Paper&amp;rdquo; server.
The resident set size of these servers is relatively small, 3.5 GB per instance, as shown by the left-lower red bubble.
The virtual size is not quite 10 GB.
The server instance will grow until it reaches the virtual size.
Total memory consumption is shown in the upper-left bubble, 11.6 GB are used (the sum of the servers plus some extra from the OS).&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;We run the servers with &lt;code&gt;-Xmx4096M -Xms4096M&lt;/code&gt; each, which is rather generous.
This creates processes with a total &lt;code&gt;VIRT&lt;/code&gt; size of ~ 10 GB, of which &lt;code&gt;RES&lt;/code&gt; is the actually comitted memory, around 3.5 GB per process.
This results in 11.2 GB memory usage, plus 0.4 GB extra from other processes on the instance.&lt;/p&gt;
&lt;p&gt;Our total memory is 32 GB.&lt;/p&gt;
&lt;p&gt;The server load is shown as 0.41/8.0, so the machine is pretty idle, and the CPU load meters above the memory meter agrees.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;https://blog.koehntopp.info/uploads/2023/02/native-thread-02.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Output of the &lt;code&gt;htop&lt;/code&gt; program, detail. When hitting &lt;code&gt;H&lt;/code&gt; to toggle display of user threads, the number of running threads is also shown.
We are running 245 threads.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Hitting &lt;code&gt;H&lt;/code&gt; (Uppercase-H) in &lt;code&gt;htop&lt;/code&gt; unfolds user threads display. It also shows the total number of threads running next to the number of tasks (processes).
In our case, we are running with 245/1100 threads.
This is by far the most scarce resource.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>... and a happy new hack.</title>
      <link>https://blog.koehntopp.info/2022/01/01/and-a-happy-new-hack.html</link>
      <pubDate>Sat, 01 Jan 2022 16:28:00 +0100</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2022/01/01/and-a-happy-new-hack.html</guid>
      <description>&lt;p&gt;Und das neue Jahr beginnt für uns mit einem Minecraft-Server, auf dem wichtige Personen, die sich nichts haben zuschulden kommen lassen, plötzlich gebannt sind.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;https://blog.koehntopp.info/uploads/2022/01/banned.jpg&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;Nach einem Unban an der Console: Der Spawn, der Eintrittspunkt für neue Spieler, ist komplett verwüstet.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;https://blog.koehntopp.info/uploads/2022/01/spawn.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;Wir haben tägliche Backups, sodass das schnell behoben ist. Bleibt die Frage, was passiert ist.&lt;/p&gt;
&lt;h2 id=&#34;gehackt&#34;&gt;
    &lt;a href=&#34;#gehackt&#34;&gt;
	Gehackt
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Unter den Spielern ist die Frage schnell geklärt: &amp;ldquo;&lt;code&gt;&amp;lt;user&amp;gt;&lt;/code&gt; wurde gehackt.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Es stellt sich raus:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;ldquo;&lt;code&gt;&amp;lt;user&amp;gt;&lt;/code&gt;&amp;rdquo; bekommt einen &lt;a href=&#34;https://blog.koehntopp.info/2021/11/30/discord-nitro-spam-and-2fa.html&#34;&gt;Free Nitro Spam&lt;/a&gt;

.&lt;/li&gt;
&lt;li&gt;Er klickt darauf.&lt;/li&gt;
&lt;li&gt;Er wird gebeten, &amp;ldquo;&lt;code&gt;FreeNitro.exe&lt;/code&gt;&amp;rdquo; zu installieren und macht das, startet dann das &lt;code&gt;.exe&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Sein Rechner macht ein Dutzend Fenster auf, rappelt los, und geht am Ende aus (und bleibt aus).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Im Rahmen des Exploits wurde er gebeten, seinen Minecraft Login und seinen Discord Login mit Passwort anzugeben, was er dann auch brav tat.
Zwei-Faktor-Authentisierung hat er nicht benutzt.&lt;/p&gt;
&lt;h2 id=&#34;impact&#34;&gt;
    &lt;a href=&#34;#impact&#34;&gt;
	Impact
    &lt;/a&gt;
&lt;/h2&gt;
&lt;h3 id=&#34;nur-minecraft&#34;&gt;
    &lt;a href=&#34;#nur-minecraft&#34;&gt;
	Nur Minecraft
    &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;Den ersten Minecraft-Server für unser Kind und seine Freunde hatten wir daheim.
Das ging gut: Die Maschine hat 8 Cores, 32 GB Speicher und ist sowieso an, weil sie Dinge im Haus tut.
Die Anbindung ist mit Glasfaser und fester IP auch überaus zufriedenstellend.&lt;/p&gt;
&lt;p&gt;Als der ganze Server größer wurde, habe ich mit externen Anbietern herumexperimentiert und am Ende einen VPS besorgt.
Wichtig dabei ist nur, daß es eine Maschine ist, die nicht zu Hause steht, auf der nichts als Minecraft läuft und die keine Vertrauensbeziehung in irgendeiner Form mit anderen Maschinen von uns hat.&lt;/p&gt;
&lt;p&gt;Das hat sich nun bezahlt gemacht.&lt;/p&gt;
&lt;h3 id=&#34;restore&#34;&gt;
    &lt;a href=&#34;#restore&#34;&gt;
	Restore
    &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;Wir haben auf dem Server daheim ein tägliches Backup: Der Minecraft-Server wird einmal pro Tag aus dem Internet nach Hause kopiert.
Das ist ein Pull, d.h. wir loggen uns auf dem Minecraft-Server ein und nicht der Minecraft-Server daheim.&lt;/p&gt;
&lt;p&gt;Wir heben die Backups 30 Tage lang auf und das Backup vom 1. jeden Monats unlimitiert.&lt;/p&gt;
&lt;p&gt;Dadurch konnten wir das gesamte Minecraft-Verzeichnis zur Seite bewegen, und dann aus dem Backup vom Vortag wiederherstellen.
Das hat 2 Minuten gedauert.&lt;/p&gt;
&lt;h3 id=&#34;logs&#34;&gt;
    &lt;a href=&#34;#logs&#34;&gt;
	Logs
    &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;Das alte Verzeichnis liegt noch vor.
Dort sind auch die Logs vom Vorfall.&lt;/p&gt;
&lt;p&gt;Der Vorfall spielt sich so ab:
Der kompromittierte Account von &lt;code&gt;&amp;lt;user&amp;gt;&lt;/code&gt; loggt sich ein und fängt an, &lt;code&gt;/lp&lt;/code&gt; Kommandos für das LuckPerms-Plugin zu senden.
Er listet alle User mit Rechten, und kickt und bannt diese dann.
Danach entzieht er ihnen Rechte.&lt;/p&gt;
&lt;p&gt;Das Plugin &lt;code&gt;WorldEdit&lt;/code&gt; ist installiert und der Account von &lt;code&gt;&amp;lt;user&amp;gt;&lt;/code&gt; teleportiert sich auf den Spawn und fängt dort an, mit grossflächigen Brushes umzudekorieren.
Das Vorgehen sieht jedoch nicht systematisch und auch nicht schnell aus:
Die Aktion dauert beinahe 30 Minuten.
Das spricht nicht für einen gescripteten Angriff, und ist inkonsistent mit meinem Bild von einem &amp;ldquo;Free Nitro&amp;rdquo; Scammer und Angreifer.&lt;/p&gt;
&lt;p&gt;Das Logbuch des Serves und der mit &lt;code&gt;debsums&lt;/code&gt; verifizierte Zustand des Systems macht eine Reinstallation von allem
vermutlich nicht notwendig.
Es genügt, mit dem Stand aus dem Backup weiterzufahren.
Das ist angenehm:
Zwar ist der Server vollständig ansibilisiert und mit dem Backup in weniger als 30 Minuten aus einer kompletten Neuinstallation wiederherzustellen, aber wenn das nicht notwendig ist, ist das angenehm.&lt;/p&gt;
&lt;h3 id=&#34;der-user&#34;&gt;
    &lt;a href=&#34;#der-user&#34;&gt;
	Der User
    &lt;/a&gt;
&lt;/h3&gt;
&lt;p&gt;Der betreffende User hat Accounts auf Dutzenden von Minecraft-Servern.
Als engagierter und intensiver Spieler oft mit Sonderrechten.
Alle diese Server sind beschädigt, viele weniger automatisiert als unserer.&lt;/p&gt;
&lt;p&gt;Account-Recovery ohne 2FA ist schwierig.
Account-Recovery bei gleichem Paßwort für Minecraft und die Recovery-Mailadresse unmöglich.
Daraus folgt, daß man seine Recoveryadresse für den Minecraft Account eventuell nicht bei Hotmail haben sollte.
Daraus folgt auch, daß man Kindern Passwort Re-Use gar nicht früh genug aberziehen kann.&lt;/p&gt;
&lt;h2 id=&#34;maßnahmen-und-fazit&#34;&gt;
    &lt;a href=&#34;#ma%c3%9fnahmen-und-fazit&#34;&gt;
	Maßnahmen und Fazit
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Wir verlangen in Zukunft für alle Benutzer mit Rechten auf dem Server oder im Discord zu beweisen, daß sowohl ihr Minecraft (Microsoft) Account als auch ihr Discord-Account mit Zwei-Faktor-Authentisierung gesichert sind.
Das wird helfen, den Schaden von solchen falschen Klicks zu minimieren und Accounts recoverbar zu machen.&lt;/p&gt;
&lt;p&gt;Die Analyse der Logfiles war hilfreich bei der Rekapitulation der Vorgänge, und um das Ausmaß des Schadens und den Reifegrad des Angreifers zu bestimmen.&lt;/p&gt;
&lt;p&gt;Einen externen, nur für Minecraft verwendeten Server zu nehmen, der nicht im Heimnetz steht, war sinnvoll und hat sich bezahlt gemacht.&lt;/p&gt;
&lt;p&gt;Der Vorfall ist ein gutes Werkzeug, um der Spielergruppe zu erläutern, wieso Accountsicherheit wichtig ist und wie man sich gegen solche Angriffe verteidigt.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Dein Kind will Minecraft spielen</title>
      <link>https://blog.koehntopp.info/2021/12/20/dein-kind-will-minecraft-spielen.html</link>
      <pubDate>Mon, 20 Dec 2021 13:32:00 +0100</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2021/12/20/dein-kind-will-minecraft-spielen.html</guid>
      <description>&lt;p&gt;Nachdem mich jetzt das dritte Paar computer-affiner Eltern mal gefragt hat, was man denn braucht, sobald der Nachwuchs sich &amp;ldquo;Minecraft&amp;rdquo; wünscht, hier der Aufschrieb zum Thema.&lt;/p&gt;
&lt;p&gt;Minecraft ist ursprünglich von der schwedischen Firma Mojang in Java entwickelt worden.
Der Eigner, Markus &amp;ldquo;Notch&amp;rdquo; Persson, hat das Spiel und die Firma Mitte 2014 auf Twitter zum Verkauf angeboten, und Microsoft hat die Firma gekauft.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://twitter.com/notch/status/478766808841732096&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;https://blog.koehntopp.info/uploads/2021/12/minecraft6.jpg&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;


&lt;em&gt;Spiel zu verkaufen - Minecraft ist auf Twitter angeboten worden. Jeder mit dem notwendigen Kleingeld &amp;ndash; 2.5 Milliarden USD &amp;ndash; konnte zuschlagen.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Techradar hat mehr zur &lt;a href=&#34;https://www.techradar.com/news/the-history-of-minecraft&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Geschichte von Minecraft&lt;/a&gt;

.&lt;/p&gt;
&lt;h2 id=&#34;java-und-bedrock-edition&#34;&gt;
    &lt;a href=&#34;#java-und-bedrock-edition&#34;&gt;
	Java und Bedrock-Edition
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Eine der Aktivitäten von Microsoft war, das Spiel in C# neu zu schreiben. Dies ist die Bedrock-Edition, im Gegensatz zur Java-Edition des Originalspiels.&lt;/p&gt;
&lt;p&gt;Bedrock und Java sind nicht kompatibel, es gibt kein Crossplay, und die beiden Spiele werden nicht parallel entwickelt.
Es sind für alle praktischen Zwecke zwei verschiedene Spiele.&lt;/p&gt;
&lt;p&gt;Man will unbedingt und ausschließlich die Java-Edition kaufen.
Die Bedrock-Edition ist steril:
Erweiterungen für den Client und den Server werden von Microsoft verkauft.
Als Entwickler muss man sich anmelden, Verträge unterschreiben und Gebühren managen.
Es gibt deswegen praktisch keine Mod-Scene, sondern nur abgepacktes Gameplay.&lt;/p&gt;
&lt;p&gt;Niemand spielt Bedrock, und wenn Dein Kind von Minecraft redet, meint es die &lt;a href=&#34;https://www.minecraft.net/en-us/store/minecraft-java-edition&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Java-Edition&lt;/a&gt;

.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;https://blog.koehntopp.info/uploads/2021/12/minecraft1.jpg&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;


&lt;em&gt;Die Maskottchen und default Skins: Steve und Alex.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Die Java-Edition ist extrem lebendig, genau genommen ein unregulierter Dschungel.
Hier gibt es viele nette Leute, die spannende Dinge machen, und ein paar sehr dunkle Ecken.
Das ist aber im Grunde kein das Spiel verderbendes Problem, sondern eine gute Gelegenheit, gleich auch ein wenig Medienkompetenz und Grundlagen der Sicherheit zu vermitteln.&lt;/p&gt;
&lt;h2 id=&#34;was-wird-gespielt&#34;&gt;
    &lt;a href=&#34;#was-wird-gespielt&#34;&gt;
	Was wird gespielt?
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Minecraft ist ein Spiel, das für Kinder ab 8 interessant ist.
Es ist zunächst einmal eine Art virtuelles Lego im Anzug eines Survival- und Crafting-Spieles:
Die Spieler müssen in einer Welt aus Blöcken erkunden, Ressourcen sammeln, aus den Ressourcen Dinge bauen und dabei die Nacht überleben.
Das ist nicht unbedingt einfach, denn in der Nacht kommen verschiedene Monster, gegen die man nur bestehen kann, wenn man tagsüber einen Unterschlupf gebaut und Ausrüstung gewonnen hat.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;https://blog.koehntopp.info/uploads/2021/12/minecraft2.jpg&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;


&lt;em&gt;Die Overworld, die normale Welt, hat verschiedene Klimazonen (&amp;ldquo;Biome&amp;rdquo;), in denen unterschiedliche Ressourcen zu finden sind.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Das Spiel hat eine marginale Story, im Laufe derer die Spieler weitere &amp;ldquo;Welten&amp;rdquo; entdecken und durch Portale betreten können:
der Nether und the End.
Das ist jedoch im Grunde alles nebensächlich, weil es in der ersten Iteration darum geht, mit Freunden zusammen aus Klötzen Dinge zu bauen.&lt;/p&gt;
&lt;h2 id=&#34;hardware-anforderungen&#34;&gt;
    &lt;a href=&#34;#hardware-anforderungen&#34;&gt;
	Hardware-Anforderungen
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Wegen der Zielgruppe hat das Spiel (mindestens bis Version 1.14.4) praktisch keine Mindestanforderungen an die Hardware.
Wortwörtlich jeder abgelegte Kartoffelcomputer kann Minecraft irgendwie ausführen &amp;ndash; Probleme entstehen vermutlich erst, wenn eine IDE (siehe unten) oder ein Videoschnitt-System oder Streaming-Support dazu kommen.
Wie dem auch sei:
Das schließt ein 2009er MacBook Pro, einen Raspi 4 und circa jede Intel-Büchse der letzten 10 Jahre ein.
Weil es Java ist, funktioniert das alles mit demselben Spiel.&lt;/p&gt;
&lt;p&gt;Wegen der Modding-Community (dazu unten mehr) gibt es praktisch auch keine Höchstanforderungen an die Hardware:
Wenn man Raytracing Renderer installiert hat, reizt das Spiel auch eine &lt;a href=&#34;https://www.youtube.com/watch?v=AdTxrggo8e8&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Nvidia RTX 3090&lt;/a&gt;

 voll aus.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://blog.koehntopp.info/uploads/2021/12/minecraft3.jpg&#34;&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;https://blog.koehntopp.info/uploads/2021/12/minecraft3.jpg&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;

&lt;/a&gt;


&lt;em&gt;Minecraft Standard und mit einem Raytracing Render Mod auf einer Nvidia RTX. Was ein paar hingeworfene Kissen ausmachen&amp;hellip;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Minecraft ist eine Client-Server-Anwendung. Ein oder mehr Spieler verbinden ihre Clients mit dem Minecraft-Server und bespielen dann zusammen diese Welt.
Spielt man &amp;ldquo;offline&amp;rdquo;, startet der Launcher im Hintergrund einen lokalen Server auf dem Laptop, und verbindet den Client im Einzelspielermodus mit dem Server.&lt;/p&gt;
&lt;p&gt;Im Onlinebetrieb verbindet man sich mit einem zentralen Server, der von irgendjemandem betrieben wird, und spielt dann dort mit anderen.
Das sind im Zweifel echt viele Spieler &amp;ndash; auf einem öffentlichen Server irgendwelche Personen irgendwelchen Alters.
Auf einem privaten Server ist es so, wie immer es die Zugangs-Policy des Servers definiert.&lt;/p&gt;
&lt;h2 id=&#34;kein-minecraft-ohne-discord-kein-login-ohne-2fa&#34;&gt;
    &lt;a href=&#34;#kein-minecraft-ohne-discord-kein-login-ohne-2fa&#34;&gt;
	Kein Minecraft ohne Discord, kein Login ohne 2FA
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Öffentliche Server gibt es viele, die verschiedenen Serverlisten zeigen um eine halbe Million Serverinstallationen an.
Die meisten sind relativ kleine Communities mit beschränktem Zugang, einige sind sehr grosse öffentliche Installationen.
Besonders hervorstechend ist &lt;a href=&#34;https://de.wikipedia.org/wiki/Hypixel&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Hypixel&lt;/a&gt;

, einer der am besten gewarteten und entwickelten öffentlichen Server.&lt;/p&gt;
&lt;p&gt;Zu jedem öffentlichen Server gehört dieser Tage auch immer ein Discord (früher war das Teamspeak).
Der Hypixel Discord ist zum Beispiel &lt;a href=&#34;https://discord.com/invite/hypixel&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;hier&lt;/a&gt;

.&lt;/p&gt;
&lt;p&gt;Discord ist ein Hoster für Text-, Sprach-, Video-Chat und Game-Streaming.
&amp;ldquo;Ein Discord&amp;rdquo; ist ein geschlossener (zunächst kostenloser) virtueller Chatserver mit verschiedenen Kanälen für Text- und AV-Chat.&lt;/p&gt;
&lt;p&gt;Mit einem einzelnen Discord-Login kann man Zugang zu einer Reihe von Communities unterschiedlicher Größe bekommen.
Es ist also sinnvoll, mit dem Java-Minecraft-Account auch noch gleich einen (kostenlosen) Discord-Account zu erstellen.&lt;/p&gt;
&lt;p&gt;Dabei ist es extrem sinnvoll, diesen Zugang (wie auch den Microsoft-Zugang) mit 2-Faktor-Authentisierung abzusichern und das Kind gleich von Anfang an zu 2FA zu erziehen.
Warum ist das so?
&lt;a href=&#34;https://blog.koehntopp.info/2021/11/30/discord-nitro-spam-and-2fa.html&#34;&gt;Dazu hier ein kleines Erlebnis&lt;/a&gt;

.&lt;/p&gt;
&lt;h2 id=&#34;was-wird-eigentlich-gespielt&#34;&gt;
    &lt;a href=&#34;#was-wird-eigentlich-gespielt&#34;&gt;
	Was wird eigentlich gespielt?
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Nach einer Weile Spiel wird das Kind weitere Wünsche und Fragen haben, weil das Spiel selbst nicht der primäre Inhalt von Minecraft ist.&lt;/p&gt;
&lt;p&gt;Minecraft ist ein kollaboratives Multiplayer-Spiel, das von den Spielern selbst verändert wird, indem diese Mods (Client-Erweiterungen) und Plugins (Server-Erweiterungen) erstellen.
Das heißt, sehr bald kommen die folgenden Fragen und Probleme:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Es gibt Streit, weil verschiedene Spielstile und Wünsche sich gegenseitig ausschließen, und weil mitunter Arschlöcher dabei sind. Ein Repertoire von Verhaltensweisen zur Konfliktlösung muss eingeübt werden.&lt;/li&gt;
&lt;li&gt;Es gibt den Wunsch nach einem eigenen Server, der bezahlt und irgendwo installiert werden muss. Der Wunsch nach Taschengeld muss mit konkreten monatlichen Kosten vereinbar gemacht werden.&lt;/li&gt;
&lt;li&gt;Es gibt den Wunsch, den Client zu modden. Dazu sind besondere Tools auf dem lokalen Rechner notwendig, da weder Client noch Server nativ eine Moddingschnittstelle haben.&lt;/li&gt;
&lt;li&gt;Es gibt den Wunsch, besondere Spielmomente mit anderen zu Teilen. Die Frage nach Youtube und Twitch (konsumierend und erstellend) kommt auf, und es braucht Regeln (was, ab wann, Stimme, Gesicht zeigen, Namen nennen, und andere Verhaltensregeln).&lt;/li&gt;
&lt;li&gt;Es gibt den Wunsch, eigene Mods oder Plugins zu programmieren. Der Wunsch nach Java lernen, einer IDE und Hilfe von den Eltern kommt auf.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Der Reihe nach&amp;hellip;&lt;/p&gt;
&lt;h2 id=&#34;streit-um-minecraft&#34;&gt;
    &lt;a href=&#34;#streit-um-minecraft&#34;&gt;
	Streit um Minecraft
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Minecraft kann man kooperativ (PvE, wir gegen die Monster) oder kompetetiv (PvP, Spieler gegeneinander) spielen.
Auch bei kooperativem Spiel kann es Probleme geben:
Wir hatten bisher&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Vandalismus (Spieler zerstören die Bauten anderer Spieler auf einem Sandkasten-Bauserver),&lt;/li&gt;
&lt;li&gt;Spieler fühlen sich ausgeschlossen oder zu wenig beachtet (&amp;ldquo;Niemand hört mir zu oder lässt mich aussprechen&amp;rdquo;),&lt;/li&gt;
&lt;li&gt;destruktive Verhaltensweisen und emotionale Erpressung (&amp;ldquo;Wenn Du nicht x für mich machst, spiele ich nicht mehr mit Dir&amp;rdquo;),&lt;/li&gt;
&lt;li&gt;und inkompatible Spielziele.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Das ist alles kein Beinbruch und nicht unerwartet.
Es macht es aber notwendig, daß man sich mit der ganzen Runde zusammensetzt und miteinander redet.
Auch dazu ist der Discord sehr nützlich.&lt;/p&gt;
&lt;p&gt;Minecraft Server können als PvE und PvP Server konfiguriert sein.
Mit Plugins sind auch Welten mit besonderen PvP-Varianten möglich, &amp;ldquo;Bedwars&amp;rdquo; (&amp;ldquo;Capture the Flag&amp;rdquo;, hier ein Bett) und Variationen zum Thema &amp;ldquo;Among Us&amp;rdquo; sind sehr populär.
PvP muss also nicht zwingend First-Person-Shooter Spiel sein.&lt;/p&gt;
&lt;p&gt;Weder im PvE noch im PvP fließt Blut. Es kommen Schwerter und Bogenwaffen vor, keine Gewehre. Die Grafik ist auch mit Render-Plugin immer blockig-pixelig, und es sind keine Details erkennbar.&lt;/p&gt;
&lt;p&gt;Bisher hatten die meisten bei uns erlebten Probleme ihren Kontext eher im PvE-Umfeld als im PvP Umfeld.&lt;/p&gt;
&lt;h2 id=&#34;ein-eigener-server&#34;&gt;
    &lt;a href=&#34;#ein-eigener-server&#34;&gt;
	Ein eigener Server
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Es gibt irgendwo auf der Minecraft-Site einen vom Client getrennten Server zum Herunterladen.
Dieser Server ist langsam und buggy.
Niemand verwendet ihn, außer als Grundlage für etwas Richtiges.&lt;/p&gt;
&lt;p&gt;Stattdessen durchläuft man den Installationsprozeß von &lt;a href=&#34;https://getbukkit.org/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Bukkit oder Spigot&lt;/a&gt;

.
Dies setzt eine Maschine mit ausreichend Kernen und Speicher sowie einem installierten headless OpenJDK voraus.&lt;/p&gt;
&lt;dl&gt;
&lt;dt&gt;Bukkit&lt;/dt&gt;
&lt;dd&gt;ist ein minimal veränderter Vanilla-Server und eher eine Demo für den Reverse Engineering und Patching Prozess.&lt;/dd&gt;
&lt;dt&gt;Spigot&lt;/dt&gt;
&lt;dd&gt;ist ein auf Performance optimierter und weiter aufgehackter Bukkit, und eher die Version die man installieren will.&lt;/dd&gt;
&lt;dt&gt;PaperMC&lt;/dt&gt;
&lt;dd&gt;ist ein weiterer Zweig, basierend auf Spigot, und noch klarer auf Performance optimiert. PaperMC unterstützt jedoch anders als Spigot nur die beiden neusten Versionen von Minecraft aktiv. Wer älteres Minecraft verwenden will oder muß wird mit PaperMC nicht glücklich.&lt;/dd&gt;
&lt;/dl&gt;
&lt;p&gt;Der Installationsprozeß ist dabei ein wahres Wunderwerk an Installationsautomation:
Er lädt den originalen Minecraft-Server herunter, ein obfuscated JAR.
Dies wird dann dekompiliert und mit einer Symboltabelle deobfuscated.
Dadurch entsteht ein reproduzierbarer lesbarer Sourcetree, der dann gepatcht wird.
Der resultierende Sourcetree wird dann compiliert, zusammengepackt und ein neues Server-JAR entsteht.
Dies ist dann die Grundlage für den eigenen Serverprozeß.&lt;/p&gt;
&lt;p&gt;Der ganze komplizierte Prozess klingt komplett haarsträubend, ist ein aber vollautomatischer Vorgang, der ausgesprochen reibungsfrei abläuft.
Der gepatchte Serverprozeß ist gegenüber dem Originalserver deutlich ärmer an Fehlern, um Größenordnungen schneller und hat eine dokumentierte und stabile API für Server-Erweiterungen (Plugins).&lt;/p&gt;
&lt;p&gt;Zum Server gehören auch noch eine &lt;code&gt;eula.txt&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;~minecraft/bukkit $ cat eula.txt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;&lt;/span&gt;&lt;span class=&#34;gp&#34;&gt;#&lt;/span&gt;By changing the setting below to TRUE you are indicating your agreement to our EULA &lt;span class=&#34;o&#34;&gt;(&lt;/span&gt;https://account.mojang.com/documents/minecraft_eula&lt;span class=&#34;o&#34;&gt;)&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;gp&#34;&gt;#&lt;/span&gt;Mon Aug &lt;span class=&#34;m&#34;&gt;19&lt;/span&gt; 17:04:21 CEST &lt;span class=&#34;m&#34;&gt;2019&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;eula=true
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;und eine etwa längliche &lt;code&gt;server.properties&lt;/code&gt;-Datei, die die eigentliche &lt;a href=&#34;https://www.spigotmc.org/wiki/spigot-configuration-server-properties/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Konfiguration&lt;/a&gt;

 des Basis-Servers darstellt.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;https://blog.koehntopp.info/uploads/2021/12/minecraft4.jpg&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;


&lt;em&gt;Dem Serverprozeß wird reichlich Speicher gegeben, aber trotz der großen Anzahl von Plugins liegt die effektive Prozeßgröße bei circa 3 GB (aber es laufen 84 Java-Threads).&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Der Serverprozeß ist ursprünglich recht klein, aber wenn man den Server mit Plugins vollstopft nach oben offen.
Andererseits liegt ein Strato VPS mit 8 Kernen und 32 GB Speicher bei monatlich kündbaren 17 Euro und ist reichlich überprovisioniert für die Aufgabe.
Irgendwo zwischen dieser Größe und einem Raspi 4 findet man sicherlich was Passendes.&lt;/p&gt;
&lt;p&gt;Wer den Server nicht selbst installieren will, nimmt sich einen Servermanager &amp;ndash; es gibt viele mit zweifelhaftem Code und bunten Panels, und es gibt &lt;a href=&#34;https://github.com/dirien/minectl&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;&lt;code&gt;minectl&lt;/code&gt;&lt;/a&gt;

. Ich nehme einfach ein Shellscript:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;~minecraft/bukkit  $ cat starter.sh
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;#! /bin/bash --&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;TIME&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;m&#34;&gt;30&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;DIR&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;/home/minecraft/bukkit
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nv&#34;&gt;SERVER&lt;/span&gt;&lt;span class=&#34;o&#34;&gt;=&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;$(&lt;/span&gt;basename &lt;span class=&#34;nv&#34;&gt;$DIR&lt;/span&gt;&lt;span class=&#34;k&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nb&#34;&gt;cd&lt;/span&gt; &lt;span class=&#34;nv&#34;&gt;$DIR&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;while&lt;/span&gt; :
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        java -Xmx8192M -Xms3072M -Xss1m -jar &lt;span class=&#34;nv&#34;&gt;$DIR&lt;/span&gt;/server.jar nogui
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        &lt;span class=&#34;nb&#34;&gt;echo&lt;/span&gt; &lt;span class=&#34;s2&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$SERVER&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt;: Java stopped or crashed. Waiting &lt;/span&gt;&lt;span class=&#34;nv&#34;&gt;$TIME&lt;/span&gt;&lt;span class=&#34;s2&#34;&gt; seconds...&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;        sleep &lt;span class=&#34;nv&#34;&gt;$TIME&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;k&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;clients-managen&#34;&gt;
    &lt;a href=&#34;#clients-managen&#34;&gt;
	Clients managen
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Wie auch der Server ist der Minecraft-Client eigentlich nicht erweiterbar.
Der Minecraft Launcher erlaubt immerhin die Verwaltung mehrerer Versionen, legt einen aber auf ein bestimmtes JDK fest (je nach Version auf ein anderes).&lt;/p&gt;
&lt;p&gt;Bastelt man intensiver am Client rum, hat man aber schnell das Problem, bestimmte (andere) JDK-Versionen verwenden zu müssen, den Client mit einer Mod-API modifizieren zu müssen oder unterschiedliche Mod-Konfigurationen für verschiedenen Gruppen und Aufgaben zu haben.
Das Werkzeug der Wahl für die Client-Verwaltung ist &lt;a href=&#34;https://multimc.org/#Download&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;MultiMC&lt;/a&gt;

.&lt;/p&gt;
&lt;p&gt;Es erlaubt es, das Spiel mit einem anderen, moderneren JDK auszuführen und unterschiedliche Spieler-Accounts zu verwalten.
Es automatisiert auch analog zum Server-Build, den Client automatisiert zu dekompilieren und zu patchen, um ihm eine stabile Mod-API zu verpassen.
Populär sind Forge und Fabric, die direkt von MultiMC integriert werden.
Danach kann man den Client dann mit Mods voll laden.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;https://blog.koehntopp.info/uploads/2021/12/minecraft5.jpg&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;


&lt;em&gt;MultiMC mit einer Instanz von Minecraft 1.14.4 und installiertem Fabric. Zu neue Minecraft-Versionen werden von der Mod-Community noch nicht voll unterstützt, zu alte nicht mehr. Die 1.14-Serie hat im Moment gute Kompatibilität.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Mit den Mods und Plugins sollte man unbedingt mit dem Kind Vereinbarungen treffen.
Je nach Lebenserfahrung und Verständnis von Werten kann das Kind hier leicht ein Opfer von Scam, Abzocke und Phishing werden.
Auf der anderen Seiten kann man mit dem Kind, sobald es fragt oder sich die Gelegenheit bietet, über Merkmale von vertrauenswürdigen und seltsamen Webseiten reden und am Beispiel erklären, was eine Seite komisch aussehen lässt.&lt;/p&gt;
&lt;p&gt;Auch wenn man dem Kind zuhört, bieten die Geschichten von anderen und wie es ihnen ergangen ist, viele Haken und Themen, an denen man erklärend ansetzen kann, oder die man zum Anlass nehmen kann, gemeinsam nachzusehen und darüber zu sprechen, wie ehrliche und unehrliche Angebote aussehen.
Einige alternative Clients bieten Anti-Cheat-Möglichkeiten durch Totalüberwachung des Clients an.
Auch hier kann man einhaken, Regeln setzen und erklären, warum zum Beispiel dauernd laufende Hintergrundprozesse, Gerätetreiber, die Tastendrücke überwachen und andere Kontrollmaßnahmen ein No-Go sind.&lt;/p&gt;
&lt;h2 id=&#34;content-konsumieren-und-produzieren&#34;&gt;
    &lt;a href=&#34;#content-konsumieren-und-produzieren&#34;&gt;
	&amp;ldquo;Content&amp;rdquo; konsumieren und produzieren
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Der ganze Teil der Community, der sich mit Plugins und Mods beschäftigt, dokumentiert und bildet aus.
Das geschieht in der Regel nicht nur geschrieben im Wiki, sondern auch mit Tutorials auf Youtube, Twitch und GitHub.
Sobald das Kind hier aktiv wird, wird man wieder Accounts machen müssen (2FA!).
Und ja, das heißt vermutlich auch GitHub.&lt;/p&gt;
&lt;p&gt;Wir haben die Vereinbarung, daß wir die Accounts machen, und daß wir allen Content zu sehen bekommen, bevor er veröffentlicht wird.
Es ist okay, Bildschirme zu zeigen und zu sprechen.
Gesichter und reale Namen und Adressen sind tabu: Es werden nur Avatare gezeigt und nur Handles benutzt.&lt;/p&gt;
&lt;p&gt;Die Vereinbarung, Plugins und Mods vor der Installation zu sehen zu bekommen hat sich nicht bewährt:
Es ist also damit zu rechnen, daß der Server oder der Client verloren gehen.
Eine Recovery-Strategie, etwa &amp;ldquo;der Server kann mit Ansible neu gemacht werden&amp;rdquo; und &amp;ldquo;es läuft nachts um 3 ein automatisches Backup&amp;rdquo; für den Server ist erfolgversprechender.
Auch für den Client (&amp;ldquo;verwende Time Machine&amp;rdquo;, &amp;ldquo;Hier ist ein Acronis&amp;rdquo;) ist das notwendig.&lt;/p&gt;
&lt;p&gt;Wegen &lt;a href=&#34;https://en.wikipedia.org/wiki/Children%27s_Online_Privacy_Protection_Act&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;COPPA&lt;/a&gt;

 läuft man Gefahr, Accounts bei US-Anbietern zu verlieren, wenn man nicht über das Geburtsjahr lügt &amp;ndash; das Kind muss über 13 Jahre alt sein, um legal einen Account haben zu können.
Anbieter, die Kinder unter 13 nicht komplett ablehnen, schränken die Accounts oft funktional bis zur Nutzlosigkeit ein.
Mit einem regulären Account, ein wenig partnerschaftlicher Aufsicht, und einer Lüge bei der Altersangabe fährt man in der Regel weitaus besser als mit verdummten Accounts.&lt;/p&gt;
&lt;p&gt;Falls das Kind selbst Content produziert ist das Risiko den Account zu verlieren oder gesperrt zu bekommen noch höher.
Daher sollte man den privaten Account und den publizierenden Account des Kindes strikt trennen, sodaß bei einer Sperrung nicht die Kontakte, private Mail und alle Kommunikationsmöglichkeiten mit weg sind.
Über Chrome Browser &lt;a href=&#34;https://www.techsolutions.support.com/how-to/how-to-create-and-switch-profiles-in-chrome-12564&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;User Profiles&lt;/a&gt;

 kann man das schnell und bequem umschalten, und das Kind lernt gleich noch OpSec und sich selbst geschickt zu publizieren.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://www.amazon.de/Its-Complicated-Social-Lives-Networked-ebook/dp/B00HUYT8TS&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;It&amp;rsquo;s complicated&lt;/a&gt;

, und danah boyd ist immer lesenswert.&lt;/p&gt;
&lt;h2 id=&#34;selber-programmieren&#34;&gt;
    &lt;a href=&#34;#selber-programmieren&#34;&gt;
	Selber programmieren
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Minecraft ist eine Einstiegsdroge für die Programmierung.
Das Potenzial für die Selbstmotivation ist enorm, und der Support in der Community gewaltig.&lt;/p&gt;
&lt;p&gt;Für JetBrains IntelliJ existieren ganz ausgezeichnete Plugins für Server-Plugins und Client-Mods: &lt;a href=&#34;https://plugins.jetbrains.com/plugin/8327-minecraft-development&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Minecraft Development&lt;/a&gt;

 unterstützt Bukkit, Spigot und PaperMC sowie einen Haufen weiterer populärer Servervarianten.&lt;/p&gt;
&lt;p&gt;IntelliJ selbst ist stabil (Eclipse meiner Erfahrung nach nicht) und hat einen sehr überschaubaren Ressourcenverbrauch: ~2 GB maximale Prozeßgröße, realer Verbrauch oszilliert von 512 MB bis 1024 MB.&lt;/p&gt;
&lt;h1 id=&#34;fazit&#34;&gt;
    &lt;a href=&#34;#fazit&#34;&gt;
	Fazit
    &lt;/a&gt;
&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;Maschine zum Spielen bereitstellen. Ein abgelegtes Mac oder Windows-Notebook tun sicher, die kommende Java-IDE wird die Maschine eher an die Grenzen bringen als das Spiel.&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.minecraft.net/en-us/store/minecraft-java-edition&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Minecraft Java Edition&lt;/a&gt;

 kaufen.
&lt;ul&gt;
&lt;li&gt;Oder den Gamepass holen &amp;ndash; Minecraft ist seit kurzem in der Java und in der Bedrock Edition Teil vom Gamepass.&lt;/li&gt;
&lt;li&gt;Den dazu notwendigen Microsoft-Account mit 2FA sichern.&lt;/li&gt;
&lt;li&gt;Einen Screenshot vom 2FA QR-Code offline (USB-Stick?) archivieren.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://discord.com/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Discord&lt;/a&gt;

 Account machen.
&lt;ul&gt;
&lt;li&gt;2FA aktivieren.&lt;/li&gt;
&lt;li&gt;Den QR-Code sichern.&lt;/li&gt;
&lt;li&gt;Discord installieren.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Java installieren.
&lt;ul&gt;
&lt;li&gt;Man will OpenJDK, nicht Oracle, und man will vermutlich JDK 11, 16 oder 17 (das hängt später ein wenig von den Mods ab).&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://multimc.org/#Download&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;MultiMC&lt;/a&gt;

 installieren.
&lt;ul&gt;
&lt;li&gt;Es kann sein, daß gleich nach dem Download beim ersten Run ein Upgrade angeboten wird. Annehmen.&lt;/li&gt;
&lt;li&gt;Sicherstellen, daß das gewünschte JDK gefunden wird. Dadurch wird nicht das steinalte Default-Download-JDK verwendet.&lt;/li&gt;
&lt;li&gt;Minecraft (Microsoft Account eintragen) eintragen.&lt;/li&gt;
&lt;li&gt;Spiel-Instanz erzeugen.&lt;/li&gt;
&lt;li&gt;Forge &lt;em&gt;oder&lt;/em&gt; Fabric installieren.&lt;/li&gt;
&lt;li&gt;Danach erst die Mods zufügen.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Server mit externen Spielern nicht daheim betreiben:
&lt;ul&gt;
&lt;li&gt;VPS oder ähnlich besorgen.&lt;/li&gt;
&lt;li&gt;Installation ansibilisieren.&lt;/li&gt;
&lt;li&gt;Backup einrichten und Restore testen.&lt;/li&gt;
&lt;li&gt;Server Buildprozess durchlaufen lassen, resultierendes Binary ansibilisieren.&lt;/li&gt;
&lt;li&gt;Server in Betrieb nehmen, Zugang kontrollieren.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Zusammen mit dem Server auch gleich eine virtuelle Discord-Serverinstanz für die Spieler einrichten.
&lt;ul&gt;
&lt;li&gt;Selbst Owner vom Dicord bleiben: Kind so weit entrechten, daß es den Server noch moderieren kann, aber nicht kaputt machen.&lt;/li&gt;
&lt;li&gt;Das Kind wird vermutlich bald selbst eine 2. Discord-Instanz ohne Eltern einrichten.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Discord Nitro Spam and 2FA</title>
      <link>https://blog.koehntopp.info/2021/11/30/discord-nitro-spam-and-2fa.html</link>
      <pubDate>Tue, 30 Nov 2021 08:29:00 +0100</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2021/11/30/discord-nitro-spam-and-2fa.html</guid>
      <description>&lt;p&gt;This morning the Discord account of my son started to send &amp;ldquo;free nitro&amp;rdquo; spam to his friends on the friend list, and to some Discords he was a member of.
He had 2FA (Google Authenticator) on the account.
That fact alone made this a recoverable failure.&lt;/p&gt;
&lt;p&gt;My son is playing minecraft, has a friend list of around 100 fellow players, and is member of around 40 Discords.
He also connected his Discord to Spotify, YouTube and other services, and he authorized around 12 application services, mostly Discord/Minecraft bot services.
It is pretty safe to say that his Discord account is very valuable to him, and plays a central part in his pandemic coping.&lt;/p&gt;
&lt;p&gt;The spam was sending messages to all his friends, and a few Discords, impersonating him.
It was not acting as a bot, or even one of his own bots.
That means the spammer had accessed his account and identity.&lt;/p&gt;
&lt;h2 id=&#34;recovery-was-easy-thanks-to-2fa&#34;&gt;
    &lt;a href=&#34;#recovery-was-easy-thanks-to-2fa&#34;&gt;
	Recovery was easy, thanks to 2FA
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Changing the account password is a 2FA protected operation, and invalidates all other login tokens.&lt;/p&gt;
&lt;p&gt;That means, only a person having access to his cellphone can 2FA and change the password - him (or, this time, me).
It also means his Desktop client, all spammers impersonating him and everyone else is logged out.
This stopped the Spam dead immediately.&lt;/p&gt;
&lt;h2 id=&#34;how-the-spam-works&#34;&gt;
    &lt;a href=&#34;#how-the-spam-works&#34;&gt;
	How the spam works
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;The &amp;ldquo;free nitro&amp;rdquo; spam is a message promising Discord Nitro (Server Boost, a pay feature) for free.
It contains a link that leads you to a typosquatter domain displaying Discords original CI.
It presents you with a QR code to scan.&lt;/p&gt;
&lt;p&gt;It then directs you to open the Discord app on the phone, hit the settings, hit the personal icon on the right and use the function labelled &amp;ldquo;Scan QR code&amp;rdquo; to claim the prize.&lt;/p&gt;
&lt;p&gt;Nothing in the UI of the original Discord cellphone app explains to a casual observer what this function does:
&amp;ldquo;Using this function will log somebody in to your account&amp;rdquo;.
The copy is simply &amp;ldquo;Scan QR code&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;https://blog.koehntopp.info/uploads/2021/11/discord-scan-qr.jpg&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Discord Settings show the &amp;ldquo;Use the cellphone to auth the desktop app&amp;rdquo; function simply as &amp;ldquo;Scan QR Code&amp;rdquo;. Nothing explains what the function really does: It logs in somebody which may or may not be you. Never use this function.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Doing what is being asked will provide a bot with a login token to your account.
The bot will then begin to send spam in your name to your friends and all discords you are member of.&lt;/p&gt;
&lt;p&gt;It will also change your password, if it can.
It cannot do that when 2FA is active on your account.
2FA is literally saving your account here.&lt;/p&gt;
&lt;h2 id=&#34;training-your-kid&#34;&gt;
    &lt;a href=&#34;#training-your-kid&#34;&gt;
	Training your kid
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Here is what to do: Train your kid to&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;use 2FA properly, and always use this and no login shortcuts.&lt;/li&gt;
&lt;li&gt;archive the original 2FA QR codes used for setting up 2FA. Make a screenshot, and store the PNG of the setup QR code on a USB stick or another offline storage for recovery. This is much easier than the regular account recovery procedures 2FA setups offer, and unlike them, it is one way that works the same for all accounts. It also lets you have the 2FA code generator on the phone and a tablet, for example.&lt;/li&gt;
&lt;li&gt;Never re-use passwords. In the case of my son, he did not use his Discord password anywhere else, and he has a password list. Thus, he had to change only the Discord password and not fix any other accounts.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Also, help your kid: Audit their online accounts.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;make yourself a calendar entry to audit the accounts your kid has every 6 months:
&lt;ul&gt;
&lt;li&gt;Check the password store: Make sure passwords are not re-used.&lt;/li&gt;
&lt;li&gt;Check 2FA: Have it enabled everywhere possible where regular TOTP can be used. Avoid Steam Authenticator or other special 2FA apps that may be offered, they are just more to learn and confusing. They break important workflows that must always be done right.&lt;/li&gt;
&lt;li&gt;Check account connections, cross-authentication, enabled bots and their permissions and so on.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;actually perform the audit.
&lt;ul&gt;
&lt;li&gt;Have your kid sit in on this, and explain what you do and why. Discuss your thought with them, and the risk analysis you do. Explain online business models with them, too: How is this service or game making money, where is the value, do you think that is okay? What do you want? Offer opinions and evaluation, but try to let them make choices.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Also, hold yourself to the same standards.&lt;/p&gt;
&lt;p&gt;For the record, my personal Google Authenticator has 18 entries.
I did not specifically set out to maximize that, so just take this as a guidance, not a competition.&lt;/p&gt;
&lt;h2 id=&#34;2fa-works&#34;&gt;
    &lt;a href=&#34;#2fa-works&#34;&gt;
	2FA works!
    &lt;/a&gt;
&lt;/h2&gt;
&lt;p&gt;Again, note how 2FA worked exactly the way it is designed to work:&lt;/p&gt;
&lt;p&gt;It made a loss of control on the account a recoverable operation.
Instead of a permanent and total loss of the center of his online life, this was just an awkward 30 minutes and a bunch of apologies.&lt;/p&gt;
&lt;p&gt;Also note that while Discord is the better Slack, it does have UI/UX design problems around QR code quick authentication.
Never use this function.
Train your kid to not use this function.
Always login with username, password and 2FA.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
