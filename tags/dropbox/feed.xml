<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Dropbox on Die wunderbare Welt von Isotopp</title>
    <link>https://blog.koehntopp.info/tags/dropbox.html</link>
    <description>Recent content in Dropbox on Die wunderbare Welt von Isotopp</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <managingEditor>kris-blog@koehntopp.de (Kristian Köhntopp)</managingEditor>

    
    <webMaster>kris-blog@koehntopp.de (Kristian Köhntopp)</webMaster>

    
    <lastBuildDate>Fri, 05 Sep 2025 08:44:03 +0000</lastBuildDate><atom:link href="https://blog.koehntopp.info/tags/dropbox/feed.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Verschlüsselt Dropbox überhaupt?</title>
      <link>https://blog.koehntopp.info/2011/04/26/verschluesselt-dropbox-ueberhaupt.html</link>
      <pubDate>Tue, 26 Apr 2011 17:32:36 +0000</pubDate><author>kris-blog@koehntopp.de (Kristian Köhntopp)</author>

      <guid>https://blog.koehntopp.info/2011/04/26/verschluesselt-dropbox-ueberhaupt.html</guid>
      <description>&lt;p&gt;Dropbox ist in den letzten Tagen und Wochen ein wenig seltsam in die
Schlagzeilen geraten.&lt;/p&gt;
&lt;p&gt;Da ist einmal der Artikel von Derek Newton:
&lt;a href=&#34;http://dereknewton.com/2011/04/dropbox-authentication-static-host-ids/&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Dropbox Authentication: Insecure by design&lt;/a&gt;

:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;After some testing (modification of data within the config table, etc) it
became clear that the Dropbox client uses only the host_id to
authenticate. Here’s the problem: the config.db file is completely
portable and is &lt;em&gt;not&lt;/em&gt; tied to the system in any way. This means that if
you gain access to a person’s config.db file (or just the host_id), you
gain complete access to the person’s Dropbox until such time that the
person removes the host from the list of linked devices via the Dropbox
web interface.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Dann ist da die Änderung der TOS, die vorher ein wenig irreführend
formuliert waren: Vorher konnte man die TOS so lesen, daß die
Dropbox-Dateien auf den Dropbox-Servern verschlüsselt gespeichert werden und
Dropbox selber keine Kopien dieser Schüssel hatte. Das ist natürlich nicht
der Fall: Für den Betreiber ist das alles Klartext, wenn er denn nur will.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://blog.dropbox.com/?p=735&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Und er will&lt;/a&gt;

:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We may disclose to parties outside Dropbox files stored in your Dropbox
and information about you that we collect when we have a good faith belief
that disclosure is reasonably necessary to (a) comply with a law,
regulation or compulsory legal request; (b) protect the safety of any
person from death or serious bodily injury; (c) prevent fraud or abuse of
Dropbox or its users; or (d) to protect Dropbox’s property rights. If we
provide your Dropbox files to a law enforcement agency as set forth above,
we will remove Dropbox’s encryption from the files before providing them
to law enforcement. However, Dropbox will not be able to decrypt any files
that you encrypted prior to storing them on Dropbox.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Und schließlich nun:
&lt;a href=&#34;http://www.techdirt.com/articles/20110425/15541514030/dropbox-tries-to-kill-off-open-source-project-with-dmca-takedown.shtml&#34; target=&#34;_blank&#34; rel=&#34;noopener&#34;&gt;Dropbox Tries To Kill Off Open Source Project With DMCA Takedown&lt;/a&gt;

.
Diese Geschichte ist recht interessant, denn sie beleuchtet eine
Inkonsistenz in den Behauptungen von Dropbox - und hat mit der
Verschüsselung aus dem vorhergehenden Fall zu tun.&lt;/p&gt;
&lt;p&gt;Dropbox speichert Dateien. Die meisten Leute haben Dateien, die auch andere
Leute haben. Das ist schon deswegen so, weil ein guter Teil von Dropbox sich
ja um Kollaboration, also das Teilen von Dateien miteinander dreht. Das
können Unterlagen einer Wohnungseigentümergemeinschaft betreffend eine
Dachsanierung sein, oder halt ein paar MP3-Dateien.&lt;/p&gt;
&lt;p&gt;Wenn man nun also eine Datei auf Dropbox hoch lädt, dann berechnet der
Client eine Prüfsumme und lädt erst einmal diese hoch.&lt;/p&gt;
&lt;p&gt;&lt;p class=&#34;md__image&#34;&gt;
  &lt;img src=&#34;https://blog.koehntopp.info/uploads/sascha_lobo_singt.png&#34; alt=&#34;&#34;  /&gt;
&lt;/p&gt;

&lt;/p&gt;
&lt;p&gt;Abkürzung beim Datei-Upload, wenn die Datei schon bei einem anderen
Dropbox-Kunden liegt.&lt;/p&gt;
&lt;p&gt;Existiert eine Datei mit dieser Prüfsumme, dem passenden Datum und Namen
schon auf den Servern von Dropbox, dann muß Dropbox die Datei selber gar
nicht mehr bekommen, denn Dropbox hat ja bereits passende Daten. Es genügt
also serverseitig, die Datei auf dem Dropbox-Server für diesen Kunden
sichtbar zu machen. Das ist schnell, spart Bandbreite und für Dropbox spart
es Speicherplatz. Genau genommen macht es Dropbox wahrscheinlich überhaupt
erst rentabel, denn andernfalls würde viel zu viel Plattenplatz verbraucht
werden.&lt;/p&gt;
&lt;p&gt;Die Werkzeuge von Drittanbietern, gegen die Dropbox dort vorgeht, tun nun
folgendes: Sie &amp;lsquo;wissen&amp;rsquo; Prüfsummen und senden diese Prüfsummen an die
Dropbox-Server, ohne daß der Anwender diese Dateien auf seiner lokalen
Platte hat - der Client behauptet also, die Daten zu haben und zeigt eine
Prüfsumme vor, hat die Daten in Wahrheit aber gar nicht.&lt;/p&gt;
&lt;p&gt;Dropbox macht diese Dateien dann für den Benutzer dieses Tools sichtbar,
wenn Dropbox diese Datei überhaupt in irgendeinem Useraccount hat. Man kann
also eine Datei-Prüfsumme etwa eines MP3-Verzeichnisses twittern, und jeder
kann mit diesem Tool und der Prüfsumme, die er über Twitter erhalten hat,
dann diese MP3s in seine Dropbox importieren und sie sich dann runterladen.
Klar, daß Dropbox das doof findet.&lt;/p&gt;
&lt;p&gt;Das wäre technisch relativ leicht korrigierbar: Dropbox kennt ja die Datei,
und ihre Länge. Dropbox kann also den Client nach einem Sample der Daten
oder einer zweiten Prüfsumme über ein Sample der Daten fragen, und dabei das
Sample aus der ganzen Datei über einen variablen, zufällig bestimmten
Bereich legen. Wenn ich also behaupte, das Album &amp;ldquo;Sascha Lobo singt&amp;rdquo; zu
haben und die Prüfsumme dafür vorzeige, dann gibt Dropbox mir die Dateien
erst, wenn ich die Prüfsumme über die Bytes von Offset 4826267 bis
4826267+4096  dieser Datei berechnet habe. Wenn Du das machst, wird
stattdessen die Prüfsumme über einen anderen Bereich verlangt. Auf diese
Weise kann Dropbox leicht prüfen, ob der Client wirklich im Besitz der Daten
ist, die er behauptet zu haben.&lt;/p&gt;
&lt;p&gt;Nun sollte einmal das Denken einsetzen. Ich erzeuge also eine Datei mit den
Inhalt &amp;ldquo;Hallo, Welt!&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Wenn &lt;strong&gt;ich&lt;/strong&gt; diese Datei mit meinem Key verschlüssele, dann sieht die Datei so aus:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;KK:~ kris$ openssl enc -e -k g33k -aes-128-cbc -base64 -in /dev/stdin
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;Hello, World!
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;U2FsdGVkX19isizbD981L7EOV+1Ou8O4xhBMQqDo3nw=
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Wenn &lt;strong&gt;Du&lt;/strong&gt; das machst, dann ist der Inhalt der Datei offensichtlich anders:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-console&#34; data-lang=&#34;console&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;KK:~ kris$ openssl enc -e -k s3cr3t -aes-128-cbc -base64 -in /dev/stdin
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;Hello, World!
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;go&#34;&gt;U2FsdGVkX18Fqrwp51fq8Y23MBas01+z4gJBdFs+vWE=
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Beide Dateien haben offensichtlich unterschiedliche Prüfsummen, wenn man
verschlüsselten Content betrachtet. Die Prüfsumme muß also über den
unverschlüsselten Content berechnet werden, damit das vergleichbar wird. Für
den Client ist das leicht, da die Daten ja auf meiner und Deiner Platte für
den Client unverschlüsselt vorliegen.&lt;/p&gt;
&lt;p&gt;Danach stellt mir Dropbox die Datei auf dem Server zur Verfügung, wenn ich
die passende Prüfsumme vorzeigen kann. Ich kann die Datein dann runterladen,
mit meinem Schlüssel verschlüsselt. Das heißt, die Daten, die angeblich
verschlüsselt auf dem Dropbox Server liegen, können mit meinem und mit
Deinem Schlüssel verschlüsselt runtergeladen werden. Dropbox speichert die
Daten physikalisch auch nur einmal, um Speicherplatz zu sparen, denn sonst
hätten sie tausende Kopien von &amp;ldquo;Sascha Lobo singt&amp;rdquo; auf dem Server liegen,
die alle Platz wegnehmen. Naja, ok, Dutzende.&lt;/p&gt;
&lt;p&gt;Wahrscheinlicher ist also, daß Dropbox die Daten auf ihren Servern gar nicht
verschlüsselt, oder alle Daten mit einem einzigen globalen &amp;ldquo;Dropbox&amp;rdquo;-Key
verschlüsselt oder etwas ähnlich simples. Für die Kommunikation wird dann
eine Transportverschlüsselung über den Content gebraten, also für mich mein
Key und für Dich Dein Key.&lt;/p&gt;
&lt;p&gt;Dropbox hat also die Wahl zwischen Dateideduplikation und effizienten
Uploads auf der einen Seite und Datensicherheit durch Verschlüsselung auf
der anderen Seite. Klar, wo businessmodelltechnisch die Präferenzen liegen.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>
