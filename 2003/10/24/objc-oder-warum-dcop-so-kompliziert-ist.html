<!doctype html>
<html lang="en">
    <head>
    <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>ObjC - oder warum DCOP so kompliziert ist | Die wunderbare Welt von Isotopp</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="apple-touch-icon" href="icon.png">
<link rel="favicon.ico" rel="icon" type="image/ico">
<link rel="canonical" href="https://blog.koehntopp.info">


<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/feed.xml' title="Die wunderbare Welt von Isotopp">
<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/tags/mysql/feed.xml' title="Feed: mysql Articles for Die wunderbare Welt von Isotopp">
<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/tags/review/feed.xml' title="Feed: review Articles for Die wunderbare Welt von Isotopp">




<meta name="generator" content="Hugo 0.104.3" />
<meta property="og:title" content='ObjC - oder warum DCOP so kompliziert ist' />
<meta property="og:site_name" content='Die wunderbare Welt von Isotopp' />


<meta property="og:locale" content="de_DE" />


<meta name="description" content='' />
<meta property="og:description" content='' />

<link rel="canonical" href="https://blog.koehntopp.info" />
<meta property="og:url" content="https://blog.koehntopp.info" />


<meta property="og:type" content="article" />
<meta name="article:published_time" content='2003-10-24T06:33:19Z' />



<meta property="og:image" content='https://blog.koehntopp.info/assets/img/background/rijksmuseum.jpg' />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content='@isotopp' />
<meta name="twitter:creator" content='@isotopp' />
<meta property="twitter:title" content='ObjC - oder warum DCOP so kompliziert ist' />
<meta property="twitter:description" content='' />
<meta property="twitter:image" content='https://blog.koehntopp.info/assets/img/background/rijksmuseum.jpg' />

<script type="application/ld+json">
    {"@context":"https://schema.org","@type":"WebSite","description":null,"headline":"ObjC - oder warum DCOP so kompliziert ist","image":"/assets/img/background/rijksmuseum.jpg","name":"Die wunderbare Welt von Isotopp","url":"https://blog.koehntopp.info"}
</script>

    



<link rel="stylesheet" href="https://blog.koehntopp.info/style.min.731532d47a51fed497cc74301e50720b3c56d09404efc36b4fa1a4117a6aa10e.css">


    </head>
    <body>
        

        <nav class="navbar navbar-expand-lg navbar-light px-lg-4 pt-lg-4">
    <div class="container-fluid">
        <a class="navbar-brand justify-content-center" href="https://blog.koehntopp.info" rel="home" title="Die wunderbare Welt von Isotopp">
            <img alt="Kris" height='48' width='48' src='/assets/img/isotopp.jpg' class='p-0 me-3 d-block d-lg-inline'>
            <span class='h4 d-block d-lg-inline'>Die wunderbare Welt von Isotopp</span>
        </a>

        <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse text-center" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto">
                
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">
                        <span class="">About</span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/contribute/">
                        <span class="">Contribute</span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/search/">
                        <span class=""><svg class='bi' height='1.5rem' width='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#search'/></svg></span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/tags/">
                        <span class=""><svg class='bi' width='1.5rem' height='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#tags-fill'/></svg></span>
                        
                    </a>
                </li>
                
            </ul>
            
        </div>

    </div>
</nav>


        <main role="main" class="container-fluid p-0">

            




<div class="page">
  <article class="objc-oder-warum-dcop-so-kompliziert-ist-page">
    <div class='row  justify-content-center text-center my-4 mx-0'>
      <header>
        <div class='col'>
          <h1 class="title mb-lg-4 text-white">
            ObjC - oder warum DCOP so kompliziert ist
          </h1>
          <div class='text-uppercase text-light' style='letter-spacing: 0.1rem;'>
            <img alt='isotopp image' src='/assets/img/isotopp.jpg' class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
            <a href="https://twitter.com/isotopp" class='text-light text-decoration-none'>
                Kristian Köhntopp
            </a>

            
              <span class='d-none d-lg-inline'>-</span>
              <div class='d-block d-lg-inline'>October 24, 2003</div>
            

          </div>
        </div>
        
          <img alt='a featured image' src="/assets/img/background/rijksmuseum.jpg">
        
      </header>
    </div>

    <div class='row justify-content-center mx-0 mt-5 mb-5'>
      <div class='col-lg-8'>
        <h2 id="methoden-mit-klasse">
    <a href="#methoden-mit-klasse">
	Methoden mit Klasse
    </a>
</h2>
<p>Am Wochenende hatte ich mit Till eine recht coole Unterhaltung über die Innereien von Qt. Qt hat den Signal-Slot-Mechanismus, mit dem es Methoden von Objekten aufruft.</p>
<p>Dazu werden einige Methoden eines Objektes in eine spezielle Runtime-Tabelle der Klasse eingetragen, mit Namen. Das sind Slots.</p>
<p>Signale sind Platzhalter für Funktionsnamen, die in eine andere Tabelle eingetragen werden können. Mit connect() macht man so einen Eintrag: Man kopiert den Namen einer Funktion (genauer: eines Slots) in den Signalplatzhalter.</p>
<p>Warum ist das Cool? Weil es Sachen zur Laufzeit macht, die C++ sonst nur zur Compilezeit kann. Damit gewinn man Flexibilität und kann Komponenten zur Laufzeit zusammenstecken, ohne daß man Gigabytes an Stuff neu compilieren muß.</p>
<p>Es ist außerdem alt.</p>
<p>In Objective-C hatten wir genau das schon 1994 oder so. Besser sogar noch: In Objective-C sind alle Methoden automatisch immer Slots. Signale hat Objective-C als target (Zeiger auf ein Objekt) und action (Name einer Methode) definiert. Und in Objective-C sind alle Instanzvariablen das, was in Qt die Properties eines Objektes sind.</p>
<p>Zum Nachlesen: <a href="http://www.koehntopp.de/kris/inkomploehntopp/2495.html" target="_blank" rel="noopener">Artikel von 1997</a>

 und <a href="http://vvv.koehntopp.de/flame/c_c&#43;&#43;/ObjC.pdf" target="_blank" rel="noopener">Objective-C Handbuch</a>

. Im übrigen ist bei Linux auch eine Objective-C Version des gcc dabei.</p>
<h2 id="dcop">
    <a href="#dcop">
	DCOP
    </a>
</h2>
<p>Was hat das mit DCOP zu tun? DCOP ruft remote Methoden auf demselben Rechner auf. Das heißt, irgendein KPart bietet Zeugs an wie &ldquo;Lade Text in Editor-Part&rdquo; oder &ldquo;Save den Mist ab&rdquo; und irgendeine Shell (etwa KDevelop) callt das KPart. Manuell, mit einem essentiell funktionalen Interface.</p>
<p>In Objective-C hatten wir das genialer gelöst: Hier kann man ein generisches Proxy-Objekt erzeugen. Generisch heißt, daß es nicht Proxy für ein bestimmtes Objekt ist, sondern daß man dem Proxy zur Laufzeit sagt, für was es Proxy ist.</p>
<p>Das Proxy-Objekt fragt dann seinen Klienten, was es für ein Objekt ist, welche Methoden der Klient hat und welche Instanzvariablen der Klient hat und wird selber zu einem Stand-In für den Client. Nun kann man den Proxy so verwenden wie man den Klienten verwenden würde, wenn er lokal ist.</p>
<p>Und der Proxy tütet die Callparameter ein, shipped sie per RPC zum Klienten, der rechnet rum, sendet ein Resultat zurück und der Proxy gibt das Resultat zurück. Resultat: RPC mehr oder weniger komplett verborgen, Proxy benutzbar als wär man selber da.</p>
<h2 id="guide-zum-pdf">
    <a href="#guide-zum-pdf">
	Guide zum PDF
    </a>
</h2>
<p>Der eine interessante Teil ist ab Seite 55, wo die Syntax vorgestellt wird. Das kann man überfliegen, denn es ist Zuckerguß, aber wichtig, um die Beispiele lesen zu können.</p>
<p>Auf Seite 87 stellen sie das Messaging vor. Das ist wichtig, und man kann es direkt auf Qt abbilden. Man lese auch Seite 90, Selectors. Das ist interessant, weil Qt es nicht kann. Auf Seite 92 erklären Sie target-action, was eine Art typenloses SIGNAL für Arme ist. Weil es typenlos ist, braucht man Code wie auf Seite 94.</p>
<p>Seite 101 ist gruselig, und hat kein Äquivalent in Qt - Categories sind Erweiterungen bestehender Klassen (ich kann also nachträglich die Image-Klasse selbst erweitern, und der Code wird von allen bestehenden Unterklassen von Image erweitert).</p>
<p>Seite 104 definiert Protocols, die von den meisten Leuten in anderen Sprachen als Interfaces bezeichnet werden. Die entscheidende Syntax ist auf Seite 112ff.</p>
<p>Einige Speedup-Tricks mit dem Runtime findet man auf Seite 120, mit dem methodForSelector.</p>
<p>Die Coolness beginnt auf Seite 145-151, Forwarding. Mit dem Dynamic Loading auf Seite 151 zusammen hat man dann ein sehr mächtiges Werkzeug in Form der NSBundle-Klasse, die das verpackt und OO-mäßig typsicher macht. Seite 152 geht dann gleich auf Remote Messaging by Proxy, worüber wir geredet haben.</p>
<p>Offenbar hat Objective-C aber inzwischen noch ein paar Erweiterungen in der Sprache selber, die die weitere Spezifikation von Parametern erlaubt (&ldquo;bycopy/byref&rdquo;, &ldquo;in/out/inout&rdquo; und &ldquo;oneway&rdquo;). Das war vor sechs Jahren noch nicht so, da hat man sich mit anderen Konstrukten behelfen müssen. :-)</p>
<p>Ab Seite 163 geht es dann an die Interna, ich halte das für unsere Diskussion nicht mehr so interessant.</p>
<p>Die Grammatik der Sprache ist auf Seite 211ff dargestellt.</p>

      </div>
    </div>

    
    
    <div class='row justify-content-center mb-3 mx-0'>
      <div class='col-lg-8 text-center'>
        <span class='letter-spacing-01 text-uppercase text-secondary me-2'>Share</span>
        <a href='https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.koehntopp.info%2f2003%2f10%2f24%2fobjc-oder-warum-dcop-so-kompliziert-ist.html' target='_blank' class='text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#facebook'/></svg>
        </a>
        <a href='https://twitter.com/intent/tweet?source=https%3a%2f%2fblog.koehntopp.info%2f2003%2f10%2f24%2fobjc-oder-warum-dcop-so-kompliziert-ist.html&text=ObjC%20-%20oder%20warum%20DCOP%20so%20kompliziert%20ist%20%7C%20Die+wunderbare+Welt+von+Isotopp:%20https%3a%2f%2fblog.koehntopp.info%2f2003%2f10%2f24%2fobjc-oder-warum-dcop-so-kompliziert-ist.html' target='_blank' class='text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#twitter'/></svg>
        </a>
        <a href='http://www.reddit.com/submit?url=https%3a%2f%2fblog.koehntopp.info%2f2003%2f10%2f24%2fobjc-oder-warum-dcop-so-kompliziert-ist.html&title=ObjC%20-%20oder%20warum%20DCOP%20so%20kompliziert%20ist' target='_blank' class='text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#reddit'/></svg>
        </a>
        <a href='mailto:?subject=ObjC%20-%20oder%20warum%20DCOP%20so%20kompliziert%20ist&body=https%3a%2f%2fblog.koehntopp.info%2f2003%2f10%2f24%2fobjc-oder-warum-dcop-so-kompliziert-ist.html' target='_blank' class='text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#envelope-fill'/></svg>
        </a>
      </div>
    </div>

    
    
    <div class='row justify-content-center py-3 mb-3 mx-0'>
      <div class='col-lg-8 text-center'>
        <span class='letter-spacing-01 text-uppercase text-secondary me-2'>Tags</span>
        
          <a href="/tags/#computer" class='btn btn-sm btn-outline-primary mb-1'>
            <svg class="bi" width="1rem" height="1rem" fill="currentColor"><use xlink:href="/bootstrap-icons.svg#tag-fill"></use></svg>
            computer
          </a>
        
          <a href="/tags/#lang_de" class='btn btn-sm btn-outline-primary mb-1'>
            <svg class="bi" width="1rem" height="1rem" fill="currentColor"><use xlink:href="/bootstrap-icons.svg#tag-fill"></use></svg>
            lang_de
          </a>
        
      </div>
    </div>

    <div class='row justify-content-center mb-5 pt-5 border-top mx-0'>
      <div class='col-lg-4 text-center text-lg-start'>
        
          <div>
            <div class='letter-spacing-01 text-uppercase text-secondary'>
              Next Post
            </div>
            <a class='text-decoration-none' href="https://blog.koehntopp.info/2003/11/01/mobile-devices.html">Mobile Devices - Der Feind in meiner Tasche</a>
          </div>
        
      </div>

      <div class='col-lg-4 text-lg-end mt-5 mt-lg-0 text-center'>
        
          <div>
            <div class='letter-spacing-01 text-uppercase text-secondary'>
              Previous Post
            </div>
            <a class='text-decoration-none' href="https://blog.koehntopp.info/2003/09/08/fertig-gelesen-dead-until-dark.html">Fertig gelesen: Dead until dark</a>
          </div>
        
      </div>
    </div>

    
    </article>
</div>



            <footer class='row justify-content-center mb-4 pb-4 mx-0'>
  <div class='col-8 text-center'>
    <div>
      A collection of old stuff, new stuff and random stuff. 
    </div>
    <div class='row text-primary mt-4'>
      <div class='col'>

        <a href='/feed.xml' title='Follow RSS feed' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#rss-fill'/></svg>
        </a>

        <a href='mailto:kristian.koehntopp@gmail.com' title='Email' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#envelope'/></svg>
        </a>

        <a href='https://github.com/isotopp' title='Follow on GitHub' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#github'/></svg>
        </a>

        <a href='https://www.reddit.com/user/isotopp' title='Follow on Reddit' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#reddit'/></svg>
        </a>

        <a href='http://steamcommunity.com/id/ixotopp' title='Follow on Steam' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#steam'/></svg>
        </a>

        <a href='https://twitter.com/isotopp' title='Follow on Twitter' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#twitter'/></svg>
        </a>

        <a href='https://www.youtube.com/user/isotopp' title='Follow on YouTube' class=''>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#youtube'/></svg>
        </a>

      </div>
    </div>
  </div>
</footer>


        </main>

	





<script src="https://blog.koehntopp.info/js/bootstrap.js"></script>




<script src="https://blog.koehntopp.info/js/lunr.js"></script>





<script src="https://blog.koehntopp.info/js/app.js"></script>


    </body>
</html>
