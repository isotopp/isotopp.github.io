<!doctype html>
<html lang="en">
    <head>
    <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>Not being federated and E2E as an advantage | Die wunderbare Welt von Isotopp</title>
<meta name="description" content="Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" href="icon.png">
<link rel="icon" href="favicon.ico" type="image/ico">
<link rel="shortcut icon" href="favicon.ico">
<link rel="canonical" href="https://blog.koehntopp.info/2025/06/17/no-federation-no-e2e.html">

<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/feed.xml' title="Die wunderbare Welt von Isotopp">
<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/tags/mysql/feed.xml' title="Feed: mysql Articles for Die wunderbare Welt von Isotopp">
<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/tags/review/feed.xml' title="Feed: review Articles for Die wunderbare Welt von Isotopp">


<meta name="generator" content="Hugo 0.147.9">
<meta property="og:title" content='Not being federated and E2E as an advantage | Die wunderbare Welt von Isotopp' />
<meta property="og:site_name" content='Die wunderbare Welt von Isotopp' />
<meta property="og:locale" content="en_US" />
<meta name="description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="og:description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="og:url" content="https://blog.koehntopp.info/2025/06/17/no-federation-no-e2e.html" />
<meta property="og:type" content="article" />
<meta name="article:published_time" content='2025-06-17T03:04:05Z' />
<meta name="fediverse:creator" content="@isotopp@infosec.exchange">
<meta property="og:image" content='https://blog.koehntopp.info/assets/img/background/rijksmuseum.jpg' />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content='@isotopp@infosec.exchange' />
<meta property="twitter:title" content='Not being federated and E2E as an advantage' />
<meta property="twitter:description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="twitter:image" content='https://blog.koehntopp.info/assets/img/background/rijksmuseum.jpg' />


    



<link rel="stylesheet" href="https://blog.koehntopp.info/style.min.9c06d59cbec0d99504f824dfa9f104b2be012cc4febd69764b14c40cd8a09674.css">


    </head>
    <body>
        

        <nav class="navbar navbar-expand-lg navbar-light px-lg-4 pt-lg-4">
    <div class="container-fluid">
        <a class="navbar-brand justify-content-center" href="https://blog.koehntopp.info/" rel="home" title="Die wunderbare Welt von Isotopp">
            <img alt="Kris" height='48' width='48' src='/assets/img/avatars/isotopp.jpg' class='p-0 me-3 d-block d-lg-inline'>
            <span class='h4 d-block d-lg-inline'>Die wunderbare Welt von Isotopp</span>
        </a>

        <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse text-center" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto">
                
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">
                        <span class="">About</span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/contribute/">
                        <span class="">Contribute</span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/search/">
                        <span class=""><svg class='bi' height='1.5rem' width='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#search'/></svg></span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/tags/">
                        <span class=""><svg class='bi' width='1.5rem' height='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#tags-fill'/></svg></span>
                        
                    </a>
                </li>
                
            </ul>
            
        </div>

    </div>
</nav>


        <main role="main" class="container-fluid p-0">

            









<div class="page">
	<article class="not-being-federated-and-e2e-as-an-advantage-page">
		<div class='row  justify-content-center text-center my-4 mx-0'>
			<header class="headerbanner">
				<div class='col'>
					<h1 class="title mb-lg-4 text-white">
						Not being federated and E2E as an advantage
					</h1>
					<div class='text-uppercase text-light' style='letter-spacing: 0.1rem;'>
						<img alt='@isotopp@infosec.exchange image' src='/assets/img/avatars/isotopp.jpg' class='me-1 p-0'
						     style='width: 1.9rem; border-radius: 1rem;'>
						<a href="https://infosec.exchange/@isotopp" class='text-light text-decoration-none'>
							Kristian Köhntopp
						</a>
						
						<span class='d-none d-lg-inline'>-</span>
						<div class='d-block d-lg-inline'>June 17, 2025</div>
						
					</div>
				</div>
				
				<img alt='a featured image' src="/assets/img/background/rijksmuseum.jpg">
				
			</header>
		</div>

		<div class='row justify-content-center mx-0'>
			<div class='col-lg-4 text-center text-lg-start'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Previous Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2025/06/10/heizen-mit-klimaanlagen.html">Heizen mit Klimaanlagen</a>
				</div>
				
			</div>

			<div class='col-lg-4 text-lg-end mt-5 mt-lg-0 text-center'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Next Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2025/06/27/electricity-china-coal-and-solar.html">Electricity, China, Coal and Solar</a>
				</div>
				
			</div>
		</div>

		<div class='row justify-content-center mx-0 mt-3 mb-5'>
			<div class="col-lg-8 mb-3">
				
				<header class="toc bg-light">
					<nav id="TableOfContents">
  <ul>
    <li><a href="#dont-federate-chat">Don&rsquo;t federate chat</a>
      <ul>
        <li><a href="#federate-identity-multihome-clients">Federate identity, multihome clients.</a></li>
      </ul>
    </li>
    <li><a href="#dont-e2e-encrypt-chat">Don&rsquo;t E2E encrypt chat</a></li>
    <li><a href="#conclusion">Conclusion</a></li>
  </ul>
</nav>
				</header>
				
			</div>
			<div class='col-lg-8'>
				<p>An unpopular opinion:</p>
<p><a href="https://revolt.chat/" target="_blank" rel="noopener">Revolt</a>

 is a chat that ultimately tries to emulate and displace Discord as an alternative.
Revolt is not E2E encrypted and not federated. That is a big plus.</p>
<p>Federation and E2E encryption are features that make an implementation much, much more complicated without need.
Most people do not want to organize a women&rsquo;s shelter or abortion support or the antifash resistance.
They just want to have a public guild server for their gaming guild or chat about 3D printers.</p>
<h1 id="dont-federate-chat">
    <a href="#dont-federate-chat">
	Don&rsquo;t federate chat
    </a>
</h1>
<p>Having a federated system for that has a number of implications that make implementations more complicated and impact quality of life for users.</p>
<p>In a federated systems, different servers can be on different versions of the server software.
This can impact features, which may or may not work properly.
If will affect security of the whole network due to lack of patches in one place.
And it will create propagation delays of messages inside the federated network,
that is, order or even availability of messages can differ depending on what server in the federated network you are on.</p>
<p>As a consequence for the individual user, there is no single history order of messages – some messages may be missing,
appear out of order, and there will be spam.
Lots of it.</p>
<p>Back when Google Hangouts was still federating XMPP (Jabber) servers,
specialized Jabber server implementations existed with the sole purpose of simulating user profiles,
discovering Hangouts that are joinable, and spamming users with, well, garbage.</p>
<p>Operating a public chat room in 2025 is already a moderation nightmare.
Adding federation is a surefire way to make things fail.</p>
<h2 id="federate-identity-multihome-clients">
    <a href="#federate-identity-multihome-clients">
	Federate identity, multihome clients.
    </a>
</h2>
<p>This is not to say that the client should be bound to a single server.</p>
<p>It can, and should, in fact, connect to different servers for each community.
The server, though, should be a &ldquo;single visible instance, single history for all&rdquo; thing,
and have proper controls for the moderation team to control admission of new users to whatever their policy is.</p>
<p>And federated identity can be quite useful.</p>
<p>In fact, even Mastodon and other Fediverse systems should use federated identity, and also be identity servers.
This will allow a user to connect their client to a chat server without making any new account.</p>
<h1 id="dont-e2e-encrypt-chat">
    <a href="#dont-e2e-encrypt-chat">
	Don&rsquo;t E2E encrypt chat
    </a>
</h1>
<p>Use TLS (or even a REST protocol over HTTPS) to connect to the chat server.
But do not E2E messages.</p>
<p>Keep a clear text history on the server.</p>
<p>This makes it trivial for a single identity (&ldquo;isotopp&rdquo;) to have multiple devices (desktop, ipad and web client)
and switch between them, yet have the same chat history on all devices.</p>
<p>It will allow new users to join a channel and see the full channel history,
if the channel is configured to do that.
And because the server is not federated, the channel backlog policy can actually be enforced.</p>
<p>It makes it trivial to implement search and indexed archives for a server that wants that.</p>
<p>It makes it easier to implement detection of spammy behavior,
implement rate limits, and to autodetect inappropriate or banned content.</p>
<p>With E2E, the server only has binary garbage that it cannot read itself, only distribute.
It may not even have metadata.</p>
<p>It will be complicated to scan messages for spammy behavior, detect banned content.</p>
<p>It will be impossible to provide backlog to newly joined users.
An existing identity (Isotopp) adding a new device (his phone) can only have backlog,
if the other clients (the desktop of ipad client of Isotopp) of that user support client-to-client backlog transfer.</p>
<p>Without E2E encryption, there is no keysplit problem (&ldquo;half a channel only sees undecipherable messages&rdquo;),
there is no &ldquo;known plaintext&rdquo; problem to handle, and there is no large-scale key distribution problem.</p>
<h1 id="conclusion">
    <a href="#conclusion">
	Conclusion
    </a>
</h1>
<p>If you consider writing a Discord replacement,</p>
<ul>
<li>Don&rsquo;t federate, multi-home the client to non-federated server instances.
Lose all the complexities of distributed transactions, serialization problems, lost messages in split, and diverging timelines.</li>
<li>Federate authentication, provide identity servers, or use mastodon&rsquo;s and other fedi as identity server they way Pixelfed does.
Let people chat with their Mastodon identity, if they want or let them make a new identity with any of the identity servers you run.</li>
<li>Don&rsquo;t E2E. Use transport encryption, TLS, and be done with it.
Use the cleartext on the (non-federated, singular) server to make useful things, antispam, search, serving backlogs.
Lose all the complexities and user-hostile side-effects that come with using a thing such as the Matrix protocol and E2E.</li>
</ul>
<p>Both properties (federation, E2E) do little for the end user experience except in a few limited use-cases,
but come with a huge cost in implementation complexity,
review, and anti-abuse measures.
They will ultimately bind the majority of your dev capacity for nothing in return.</p>

			</div>
		</div>

		
		
		<div class='row justify-content-center py-3 mb-3 mx-0'>
			<div class='col-lg-8 text-center'>
				<span class='letter-spacing-01 text-uppercase text-secondary me-2'>Tags</span>
				
				<a href="/tags/#lang_en" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				lang_en
				</a>
				
				<a href="/tags/#chat" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				chat
				</a>
				
				<a href="/tags/#security" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				security
				</a>
				
			</div>
		</div>

		
		
		
		
		<div class='row justify-content-center py-3 mb-3 mx-0'>
			<div class='col-lg-8 text-center'>
				<a href="https://github.com/isotopp/isotopp.github.io/edit/main/content/posts/2025-06-17-no-federation-no-e2e.md"
				   rel="noopener noreferrer" target="_blank">
					<span class='letter-spacing-01 text-uppercase text-secondary me-2'>Suggest Changes</span>
				</a>
			</div>
		</div>
		

		<div class='row justify-content-center mx-0'>
			<div class='col-lg-4 text-center text-lg-start'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Previous Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2025/06/10/heizen-mit-klimaanlagen.html">Heizen mit Klimaanlagen</a>
				</div>
				
			</div>

			<div class='col-lg-4 text-lg-end mt-5 mt-lg-0 text-center'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Next Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2025/06/27/electricity-china-coal-and-solar.html">Electricity, China, Coal and Solar</a>
				</div>
				
			</div>
		</div>


		
	</article>
</div>



            <footer class='row justify-content-center mb-4 pb-4 mx-0'>
  <div class='col-8 text-center'>
    <div>
      A collection of old stuff, new stuff and random stuff.
    </div>
    <div class='row text-primary mt-4'>
      <div class='col'>

        <a href='/feed.xml' title='Follow RSS feed' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#rss-fill'/>
          </svg>
        </a>

        <a href='mailto:kristian.koehntopp@gmail.com' title='Email' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#envelope'/>
          </svg>
        </a>

        <a href='https://github.com/isotopp' title='Follow on GitHub' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#github'/>
          </svg>
        </a>

        <a rel="me" href="https://infosec.exchange/@isotopp" title='Follow on Mastodon' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#mastodon'/>
          </svg>
        </a>

        
        <a href='http://steamcommunity.com/id/ixotopp' title='Follow on Steam' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#steam'/>
          </svg>
        </a>

        

        <a href='https://www.youtube.com/user/isotopp' title='Follow on YouTube' class=''>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#youtube'/>
          </svg>
        </a>
      </div>
    </div>
  </div>
</footer>


        </main>

	





<script src="https://blog.koehntopp.info/js/bootstrap.js"></script>




<script src="https://blog.koehntopp.info/js/lunr.js"></script>





<script src="https://blog.koehntopp.info/js/app.js"></script>


    </body>
</html>
