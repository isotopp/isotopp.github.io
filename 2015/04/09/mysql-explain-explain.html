<!doctype html>
<html lang="en">
    <head>
    <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>MySQL: Explain EXPLAIN | Die wunderbare Welt von Isotopp</title>
<meta name="description" content="Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" href="icon.png">
<link rel="icon" href="favicon.ico" type="image/ico">
<link rel="shortcut icon" href="favicon.ico">
<link rel="canonical" href="https://blog.koehntopp.info/2015/04/09/mysql-explain-explain.html">

<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/feed.xml' title="Die wunderbare Welt von Isotopp">
<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/tags/mysql/feed.xml' title="Feed: mysql Articles for Die wunderbare Welt von Isotopp">
<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/tags/review/feed.xml' title="Feed: review Articles for Die wunderbare Welt von Isotopp">


<meta name="generator" content="Hugo 0.145.0">
<meta property="og:title" content='MySQL: Explain EXPLAIN | Die wunderbare Welt von Isotopp' />
<meta property="og:site_name" content='Die wunderbare Welt von Isotopp' />
<meta property="og:locale" content="en_US" />
<meta name="description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="og:description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="og:url" content="https://blog.koehntopp.info/2015/04/09/mysql-explain-explain.html" />
<meta property="og:type" content="article" />
<meta name="article:published_time" content='2024-04-21T05:06:07Z' />
<meta name="fediverse:creator" content="@isotopp@infosec.exchange">
<meta property="og:image" content='https://blog.koehntopp.info/assets/img/background/mysql.jpg' />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content='@isotopp@infosec.exchange' />
<meta property="twitter:title" content='MySQL: Explain EXPLAIN' />
<meta property="twitter:description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="twitter:image" content='https://blog.koehntopp.info/assets/img/background/mysql.jpg' />


    



<link rel="stylesheet" href="https://blog.koehntopp.info/style.min.dd9d518fe6cac55191b6af874e18327dff051055754ffc7e106131baf826e6d3.css">


    </head>
    <body>
        

        <nav class="navbar navbar-expand-lg navbar-light px-lg-4 pt-lg-4">
    <div class="container-fluid">
        <a class="navbar-brand justify-content-center" href="https://blog.koehntopp.info/" rel="home" title="Die wunderbare Welt von Isotopp">
            <img alt="Kris" height='48' width='48' src='/assets/img/avatars/isotopp.jpg' class='p-0 me-3 d-block d-lg-inline'>
            <span class='h4 d-block d-lg-inline'>Die wunderbare Welt von Isotopp</span>
        </a>

        <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse text-center" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto">
                
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">
                        <span class="">About</span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/contribute/">
                        <span class="">Contribute</span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/search/">
                        <span class=""><svg class='bi' height='1.5rem' width='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#search'/></svg></span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/tags/">
                        <span class=""><svg class='bi' width='1.5rem' height='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#tags-fill'/></svg></span>
                        
                    </a>
                </li>
                
            </ul>
            
        </div>

    </div>
</nav>


        <main role="main" class="container-fluid p-0">

            









<div class="page">
	<article class="mysql-explain-explain-page">
		<div class='row  justify-content-center text-center my-4 mx-0'>
			<header class="headerbanner">
				<div class='col'>
					<h1 class="title mb-lg-4 text-white">
						MySQL: Explain EXPLAIN
					</h1>
					<div class='text-uppercase text-light' style='letter-spacing: 0.1rem;'>
						<img alt='@isotopp@infosec.exchange image' src='/assets/img/avatars/isotopp.jpg' class='me-1 p-0'
						     style='width: 1.9rem; border-radius: 1rem;'>
						<a href="https://infosec.exchange/@isotopp" class='text-light text-decoration-none'>
							Kristian Köhntopp
						</a>
						
						<span class='d-none d-lg-inline'>-</span>
						<div class='d-block d-lg-inline'>April 9, 2015</div>
						
					</div>
				</div>
				
				<img alt='a featured image' src="/assets/img/background/mysql.jpg">
				
			</header>
		</div>

		<div class='row justify-content-center mx-0'>
			<div class='col-lg-4 text-center text-lg-start'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Previous Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2015/03/27/go-away-or-i-will-replace-you.html">Go away, or I will replace you with a very small shell script</a>
				</div>
				
			</div>

			<div class='col-lg-4 text-lg-end mt-5 mt-lg-0 text-center'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Next Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2015/11/29/fertig-gelesen-poseidons-wake.html">Fertig gelesen: Poseidon&#39;s Wake</a>
				</div>
				
			</div>
		</div>

		<div class='row justify-content-center mx-0 mt-3 mb-5'>
			<div class="col-lg-8 mb-3">
				
				<header class="toc bg-light">
					<nav id="TableOfContents">
  <ul>
    <li><a href="#on-indexes">On indexes</a></li>
    <li><a href="#going-to-the-disk">Going to the disk</a></li>
    <li><a href="#missing-indexes">Missing indexes</a></li>
    <li><a href="#the-sys-schema">The <code>sys</code> Schema</a></li>
    <li><a href="#running-queries">Running Queries</a></li>
    <li><a href="#when-and-how-to-index">When and How to Index?</a></li>
    <li><a href="#are-we-done-yet">Are we done, yet?</a></li>
  </ul>
</nav>
				</header>
				
			</div>
			<div class='col-lg-8'>
				<p><p class="md__image">
  <img src="/uploads/2015/04/explain-001.jpg" alt=""  />
</p>

</p>
<p>MySQL Optimization, slides and talk given for the Kaunas PHP UG in April 2015.</p>
<h1 id="on-indexes">
    <a href="#on-indexes">
	On indexes
    </a>
</h1>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-002.jpg" alt=""  />
</p>

</p>
<p>Query execution speed hinges on the presence and use of an index.
So lets have a look to better understand what an index is, and why it speeds things up when searching.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-003.jpg" alt=""  />
</p>

</p>
<p>The canonical example for an index is a literal index,
as they were being used in libraries before the invention of a computer.
Imagine an old library, with many shelves full of books.
You visit the library and you want a specific book.
But in this pre-computer Harry Potter world, you can&rsquo;t type a query into a terminal.
How do you find a book?</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-004.jpg" alt=""  />
</p>

</p>
<p>Let&rsquo;s imagine a library of one million books, in no particular order.
You task:
Find all books written by the author named “Larry Wall”.
How many books do you need to touch to find them?</p>
<p>The answer is:
Without an index,
all of them.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-005.jpg" alt=""  />
</p>

</p>
<p>Back when I was little, libraries had this: catalogs.
An author catalog is a copy of each author&rsquo;s name written on a card, with a note where to find the actual book.
The cards are kept sorted, and that’s the important fact here.</p>
<p>If there were no other markings,
we could find the author fast
by dividing the author catalog in two equal halves.
Looking that middle card, we could tell if the card we found was before or after Larry Wall in sort order,
determine in which half Larry Wall&rsquo;s books would be,
and divide the remainder again.
For this smaller subset, we could repeat that step,
until we find Larry’s card.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-006.jpg" alt=""  />
</p>

</p>
<p>Because the author catalog is kept sorted, we can find things in it with logarithmic complexity.
Instead of one million comparisons to find all books by Larry Wall,
we would only need <code>log2(1 000 000) ~= 20</code> comparisons.</p>
<p>For each factor of 1000, we would need around 10 comparisons more.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-007.jpg" alt=""  />
</p>

</p>
<p>In MyISAM, each index is kept in a <code>.MYI</code> file.
We can have multiple indexes, one on <code>author</code>, one on <code>title</code> and so on.
Each index would contain records.
The records are a copy of the data we find in the column we index,
and the databasse will automatically keep that copy updated and sorted.
So whenever we change data in the <code>.MYD</code> file, the <code>.MYI</code> copies of that data (all of them) will also need updating,
to reflect the changed value and its position in the index, which is kept sorted.</p>
<p>The index record will also keep one or more pointers to the full row,
so each <code>.MYI</code> record has at least one pointer into the <code>.MYD</code> file.</p>
<p>Indexes are structures that are organized in pages.
Each page will contain multiple index records.
How many is dependent on how large a page is and how large an index record is.
But effectively, we do not have a binary tree as in our example above, but a tree with a much higher fan out.</p>
<p>That means with each comparison, we do not divide the subtree in two, but in however many records fit.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-008.jpg" alt=""  />
</p>

</p>
<p>In InnoDB instead of MyISAM, we have 16 KB pages.
With a hypothetical 32 byte index record, we would fit 512 index records into an index page.</p>
<p>Often we see fanouts of 50 to 500,
and that means we find any record in an index in about 4 comparisons (instead of one million).</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-010.jpg" alt=""  />
</p>

</p>
<p>In a bad case, we need to find one record in one billion, and have a fanout of only 50.
This gives us <code>x = ln(1 000 000 000)/ln(50) = 5.2</code> comparisons.</p>
<p>In a good case, we need to find one record in a million, and have a fanout of 500.
This gives us <code>x = ln(1 000 000)/ln(500) = 2.2</code> comparisons.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-011.jpg" alt=""  />
</p>

</p>
<p>And that means,
if anyone ever asks you how many comparison operations a database has to make in order to find a single record,
you now always now the answer.</p>
<p>It is &ldquo;circa 4&rdquo;, minus whatever we find in the cache.</p>
<h1 id="going-to-the-disk">
    <a href="#going-to-the-disk">
	Going to the disk
    </a>
</h1>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-012.jpg" alt=""  />
</p>

</p>
<p>Indexes matter, because each index lookup is, if it is not caches, a disk access.
And rotating disks are slow.
We should avoid disk accesses in order to be fast.</p>
<p>Let&rsquo;s have a look at the details.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-013.jpg" alt=""  />
</p>

</p>
<p>Your computer is running at a clock speed in the Ghz range.
That means, the cycle time for the CPU and L1 cache is likely measured in ns (nanoseconds, 1/ 10^9 s).
In our graphics here, 1 ns is 1 pixel.</p>
<p>A L2 cache acess is 5 ns.</p>
<p>A memory (RAM) access is 80 ns.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-015.jpg" alt=""  />
</p>

</p>
<p>A disk seek is 5 to 13 ms = 5 000 000 to 13 000 000 ns.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-016.jpg" alt=""  />
</p>


<p class="md__image">
  <img src="/uploads/2015/04/explain-017.jpg" alt=""  />
</p>

</p>
<p>A hard disk gives you a linear access speed of 100-200 MB/s, and a disk seek time to read a random record of 5-10 ms.
With a linear read, we scan about 200000 to 400000 records per second, at 500 bytes/record.</p>
<p>Using random access, it is good for around 100-200 disk seeks per second.
With a record per page, that&rsquo;s 100-200 records/sec worst case.</p>
<p>SSD gives you a linear access speed of 200-400 MB/s, so you scan 400000 to 800000 records fo 500 bytes per second,
and with disk seeks, you get 10000 to 20000 records/sec worst case.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-018.jpg" alt=""  />
</p>

</p>
<p>A query is fast, if it does not have to go to the disk.</p>
<p>For hardware and brute force, that means: Have plenty of memory to cache.
For access, that means: make sure the query uses indexes.</p>
<h1 id="missing-indexes">
    <a href="#missing-indexes">
	Missing indexes
    </a>
</h1>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-019.jpg" alt=""  />
</p>

</p>
<p>So a lot of database optimization is actually about checking index use, and providing indexes.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-021.jpg" alt=""  />
</p>

</p>
<p>Are you using enough indexes?
A simple way to check is the checking certain database performance counters.
There is one that counts records read using an index, and another that counts records read using a scan (without index).
The ratio between these two should be as high as possible:
Records should be read using indexes, and not using scans.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-023.jpg" alt=""  />
</p>

</p>
<p>So using the command <code>show global status like &quot;handler_%&quot;</code>, we look at these global counters
(or their delta between two measurements).</p>
<p>The first five counters count accesses using indexes:</p>
<ul>
<li><code>Handler_read_first</code></li>
<li><code>Handler_read_key</code></li>
<li><code>Handler_read_last</code></li>
<li><code>Handler_read_next</code></li>
<li><code>Handler_read_prev</code></li>
</ul>
<p>And the counters for scans are:</p>
<ul>
<li><code>Handler_read_rnd</code></li>
<li><code>Handler_read_rnd_next</code></li>
</ul>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-025.jpg" alt=""  />
</p>

</p>
<p>What do we see, when a database does not have an index it needs,
when it is scanning a lot?</p>
<ul>
<li>
<p>If the machine does not have enough memory to keep all data in memory, it will read the data from disk.
We see a lot of linear disk access, the disk is very busy, and the queries will be slow.</p>
</li>
<li>
<p>If the data can be kept in memory, the same scan will not happen on disk, but in memory.
We will not see disk accesses, but the machine will still be very busy, and it will use an exceptional amount of CPU.</p>
</li>
</ul>
<blockquote>
<p>When a database machine uses a lot of CPU, one of three things happens:</p>
<ul>
<li>It is missing an index and scans in memory.</li>
<li>It has to sort a lot of data.</li>
<li>The application has been written as stored procedures, and the code is running in the database.</li>
</ul></blockquote>
<h1 id="the-sys-schema">
    <a href="#the-sys-schema">
	The <code>sys</code> Schema
    </a>
</h1>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-026.jpg" alt=""  />
</p>

</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-027.jpg" alt=""  />
</p>

</p>
<p><code>performance_schema</code> (<code>p_s</code>) is a raw interface, optimized for minimal overhead,
because the database has to update it for every query.
It can and should be kept ‘on’ as much as possible,
because it makes diagnostics much easier.
It is much more accurate and up to date than the slow query log.</p>
<p>Because of that design requirement of minimal overhead, P_S can be hard to use for day-to-day DBA work.
In fact, it is not even hard to use, but also hard to pronounce and type, so everybody just calls it p_s.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-028.jpg" alt=""  />
</p>

</p>
<p>Mark Leith of Oracle (Ex-MySQL AB)
wrote a collection of views and stored routines originally called <code>ps_helper</code> to make p_s easier to work with.
Later it got renamed to <code>sys</code>, and since 5.7.7 is part of a standard server installation.
The source can be found on GitHub.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-029.jpg" alt=""  />
</p>

</p>
<p><code>sys</code> mostly provides views into p_s.
The views with <code>x$</code> names are provided for reading through programs.
The provide unabbreviated data and unscaled measurements.</p>
<p>Output in the view with the same name sans <code>x$</code> provides shorted information and scales measurements with units,
targeting human consumption.
Most of the time, you will use the <code>x$</code> views for metrics collection,
after having decided what you want to see using the normal views in ad-hoc queries.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-030.jpg" alt=""  />
</p>

</p>
<p>With <code>sys</code>, our query &ldquo;Am I using enough indexes?&rdquo; gets much more useful and directed answers.
The two views <code>sys.schema_tables_with_full_table_scans</code> and <code>sys.statements_with_full_table_scans</code> give
you direct pointers to the tables and queries that are problematic.</p>
<h1 id="running-queries">
    <a href="#running-queries">
	Running Queries
    </a>
</h1>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-031.jpg" alt=""  />
</p>

</p>
<p>So now that we have established that our server has bad indexing and which queries are causing it,
let’s have a look at what we can learn about them.</p>
<p>The server is running queries, and sends the results back to the client.</p>
<p>It tries to create the result set in a streaming fashion.
That means, it tries not to materialize the full result set table in the server before it sends them out,
but ideally it can send each row by row as seen as it has been generated.</p>
<p>This has many advantages:</p>
<ul>
<li>The first row arrives faster.</li>
<li>Almost no memory is being used in the server.</li>
</ul>
<p>But it can&rsquo;t be done at all times:
<code>ORDER BY</code>,
<code>GROUP BY</code>, <code>SQL_BIG_RESULT</code>,
and other conditions require result set materialization in something called an implicit temporary table in the server.</p>
<p>The full result set is sent to the client, where it is stored (by default) in memory.
In the C-client <code>libmysqlclient.so</code> and all langiages using the C-client, this is what happens by default:
Data is allocated and owned by the C-language library and made available to the host language row by row.
You can seek in the result set, but it uses large amounts of memory in the client.
That memory is resulted with <code>mysql_free_result()</code>.</p>
<p>Optionally, you can use <code>mysql_use_result()</code> instead.
This will download the data from the server to the client row by row.
You can&rsquo;t seek in the data, only process it linearly, but it uses a lot less memory in the client.</p>
<p><code>mysqldump</code> by default uses this (with the <code>—quick</code> option, which is on by default).
Do you know why?</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-032.jpg" alt=""  />
</p>

</p>
<p>A sample query:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-mysql" data-lang="mysql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="o">*</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="k">JOIN</span><span class="w"> </span><span class="n">b</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">    </span><span class="k">ON</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">aid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">aid</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="o">&lt;</span><span class="n">acond</span><span class="o">&gt;</span><span class="w"> </span><span class="k">AND</span><span class="w"> </span><span class="o">&lt;</span><span class="n">bcond</span><span class="o">&gt;</span><span class="w">
</span></span></span></code></pre></div><p>MySQL always uses a “nested loop join”:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">for each row in a matching &lt;acond&gt;
</span></span></span><span class="line"><span class="cl"><span class="go">    look up aid in b, using b.aid index,
</span></span></span><span class="line"><span class="cl"><span class="go">        filter more, using &lt;bcond&gt;, …
</span></span></span></code></pre></div><p>If you can use indices, this is handles fast and memory efficient, and is streamable.
In all other cases, it resolves into something horrible.
That makes MySQL a really bad database for data warehouse problems.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-033.jpg" alt=""  />
</p>

</p>
<p>Because the plan is fixed, a &ldquo;nested loop join&rdquo;,
the only thing the optimizer can vary are the table order, and the lookup methods.</p>
<p>And for &ldquo;web shop&rdquo; or other transactional things that is usually okay.</p>
<p>That is what <code>EXPLAIN</code> shows.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-034.jpg" alt=""  />
</p>

</p>
<p>Some real world example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-mysql" data-lang="mysql"><span class="line"><span class="cl"><span class="k">EXPLAIN</span><span class="w"> </span><span class="k">SELECT</span><span class="w"> </span><span class="err">…</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="k">FROM</span><span class="w"> </span><span class="n">B_Rate_Room_Directory</span><span class="w"> </span><span class="n">brrd</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="k">JOIN</span><span class="w"> </span><span class="n">B_CP_PolicyGroupType</span><span class="w"> </span><span class="n">pgt</span><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="n">pg</span><span class="p">.</span><span class="n">pg_type_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pgt</span><span class="p">.</span><span class="n">pg_type_id</span><span class="w"> </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="k">JOIN</span><span class="w"> </span><span class="n">B_CP_PolicyGroup</span><span class="w"> </span><span class="n">pg</span><span class="w">  
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">pg</span><span class="p">.</span><span class="n">object_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">brrd</span><span class="p">.</span><span class="n">default_policy_group_id</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">pg</span><span class="p">.</span><span class="n">eff_status</span><span class="o">=</span><span class="s1">&#39;C&#39;</span><span class="w"> </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">          </span><span class="k">JOIN</span><span class="w"> </span><span class="n">Translation</span><span class="w"> </span><span class="n">t</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">            </span><span class="k">ON</span><span class="w"> </span><span class="p">(</span><span class="n">t</span><span class="p">.</span><span class="n">item_id</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">pg</span><span class="p">.</span><span class="n">pg_type_id</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">language</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;en&#39;</span><span class="w"> </span><span class="k">and</span><span class="w"> </span><span class="n">t</span><span class="p">.</span><span class="n">groupname</span><span class="o">=</span><span class="s1">&#39;policy_group_name&#39;</span><span class="w"> </span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">            
</span></span></span><span class="line"><span class="cl"><span class="w">         </span><span class="k">WHERE</span><span class="w"> </span><span class="n">brrd</span><span class="p">.</span><span class="n">active</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">           </span><span class="k">and</span><span class="w"> </span><span class="n">brrd</span><span class="p">.</span><span class="n">room_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;25725602&#39;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">           </span><span class="k">and</span><span class="w"> </span><span class="n">brrd</span><span class="p">.</span><span class="n">default_policy_group_id</span><span class="w"> </span><span class="k">IS</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="no">NULL</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">           </span><span class="k">and</span><span class="w"> </span><span class="n">brrd</span><span class="p">.</span><span class="n">default_policy_group_id</span><span class="w"> </span><span class="o">&lt;&gt;</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span></span></span></code></pre></div><p><p class="md__image">
  <img src="/uploads/2015/04/explain-036.jpg" alt=""  />
</p>

</p>
<p>Here is what <code>EXPLAIN</code> says:
These are all <code>SIMPLE</code> joins, there are no subqueries, no unions.</p>
<p>That means that the numbers in the <code>rows</code> column are the lookups the database has to do,
times the number of previous lookups.
The <strong>badness</strong> of a query is the product of all the numbers in <code>rows</code>.</p>
<p>Optimization is bringing a badness of a query down.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-037.jpg" alt=""  />
</p>

</p>
<p>The tables (or their aliases) ar shown in join order.
In the nested loop join, the first table is in the outermost loop, and the last table is in the innermost loop.</p>
<p>The order of tables in the join may be different from the order of tables in the query we have written.
That works of course only for commutative operations (<code>JOIN</code>) and not for directional operations (<code>LEFT JOIN</code>).</p>
<p>The operator <code>STRAIGHT_JOIN</code> does the same thing as <code>JOIN</code>, but is defined as not commutative.
You can use it to prevent the optimizer from messing with the join order.
It will be executed in the order written.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-038.jpg" alt=""  />
</p>

</p>
<p>The join type is indicated in the <code>type</code> column, and tells you which table from the <code>table</code> column is connected
to what table in the <code>ref</code> column.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-039.jpg" alt=""  />
</p>

</p>
<p>To resolve the join as indicated, there may be zero or more keys.
They are all listed in the <code>possible_keys</code> columns.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-040.jpg" alt=""  />
</p>

</p>
<p>The key actually used is shown in the <code>key</code> column.
Not all keys are used fully, some keys are only used as prefixes.
How many bytes of the key are being used is shown in the <code>key_len</code> column.</p>
<p>For example, if the index <code>a_b_index</code> is defined over two integer columns <code>a</code> and <code>b</code>, each integer will use 4 bytes.
If the <code>key_len</code> for <code>a_b_index</code> is shown as 8, both <code>a</code> and <code>b</code> will be used, in this order, as a compound index.
If instead the <code>key_len</code> is shown as <code>4</code>, only the <code>a</code> prefix of <code>INDEX(a.b)</code> is being used.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-041.jpg" alt=""  />
</p>

</p>
<p>Here, again, our *<em>badness</em> calculation.
The number of comparisons to resolve <strong>this</strong> query.</p>
<p>Badness is comparable only for queries that produce the same result set. Lower is better.</p>
<p>What is the minimal badness for a query?
Obiously, for a result set with 5 rows, at least 5 lookups are necessary,
so a badness of 5 or more is needed to produce the result.</p>
<p>For a query that uses <code>GROUP BY</code> or <code>LIMIT</code>, the actual result set is larger and then folded or truncated.
The database may use optimizations here for shortcuts,
but we have keep in mind that it has to produce the &ldquo;unfolded&rdquo; result set before aggregation or limit truncation
in order to resolve the query.
That means the minimum badness for queries that use <code>GROUP BY</code> or <code>LIMIT</code> may be larger than the result set we see.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-042.jpg" alt=""  />
</p>

</p>
<p>The final column, <code>extras</code> contains extra annotations from the optimizer, good and bad.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-044.jpg" alt=""  />
</p>

</p>
<p>So let&rsquo;s see:
The <code>type</code> column can have join types.
Sorted from good to worse, the following are &ldquo;good-ish&rdquo; news:</p>
<dl>
<dt>system, const</dt>
<dd>table has at most one matching row. The optimizer replaces the table with the value.
The table is removed from the query and is evaluated at the planning stage.</dd>
<dt>eq_ref</dt>
<dd>a comparison using &lsquo;=&rsquo; operator, using a 1:1 relationship.
This is using a <code>PRIMARY KEY</code> relationship, or a <code>UNIQUE</code> index.</dd>
<dt>ref, ref_or_null</dt>
<dd>a comparison using an index, but not on a 1:1 basis.</dd>
<dt>fulltext</dt>
<dd>using a MyISAM FULLTEXT index.</dd>
<dt>index_merge</dt>
<dd>using two (or more) indexes, intersecting the two partial results.</dd>
</dl>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-045.jpg" alt=""  />
</p>

</p>
<p>The <code>type</code> can also be, from worse to really bad:</p>
<dl>
<dt>range</dt>
<dd>using a part of the index to select values.
This happens in <code>SELECT … FROM t WHERE a &lt; …</code> and
<code>SELECT … FROM t WHERE v BETWEEN … AND …</code> (both are inequality queries)
and with <code>SELECT … FROM t WHERE id IN (…, …, …)</code> (&ldquo;WHERE IN&rdquo; query)</dd>
<dt>index</dt>
<dd>A full scan on an index instead of the full table.
This is sometimes faster than a full scan, because the index may be smaller than the full table.
It looks funny in <code>explain</code>, because <code>possible_keys</code> is NULL, but <code>keys</code> is not.</dd>
<dt>ALL</dt>
<dd>A full table scan. Nothing usefuil can be done, let&rsquo;s brute force it.</dd>
</dl>
<p><strong>NOTE:</strong> A <code>SELECT … FROM t WHERE str LIKE &quot;bla%&quot;</code> can be written as a <code>BETWEEN</code> query and is a <strong>range</strong>.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-046.jpg" alt=""  />
</p>

</p>
<p>A real life, unusual example:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-mysql" data-lang="mysql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="n">translation_id</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">translation</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">       </span><span class="n">status</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">from</span><span class="w"> </span><span class="n">B_CP_Translation</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">language_code</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;fr&#39;</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">   </span><span class="k">and</span><span class="w"> </span><span class="n">project_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;0&#39;</span><span class="w">
</span></span></span></code></pre></div><p>Indexes exist for <code>language_code</code> and for <code>project_id</code>, but not for the combination.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-047.jpg" alt=""  />
</p>

</p>
<p>The <code>EXPLAIN</code> says:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">Explain Result:
</span></span></span><span class="line"><span class="cl"><span class="go">           id: 1
</span></span></span><span class="line"><span class="cl"><span class="go">  select_type: SIMPLE
</span></span></span><span class="line"><span class="cl"><span class="go">        table: B_CP_Translation
</span></span></span><span class="line"><span class="cl"><span class="go">         type: index_merge
</span></span></span><span class="line"><span class="cl"><span class="go">possible_keys: language_code,project_id
</span></span></span><span class="line"><span class="cl"><span class="go">          key: language_code,project_id
</span></span></span><span class="line"><span class="cl"><span class="go">      key_len: 6,4
</span></span></span><span class="line"><span class="cl"><span class="go">          ref: NULL
</span></span></span><span class="line"><span class="cl"><span class="go">         rows: 734
</span></span></span><span class="line"><span class="cl"><span class="go">        Extra: Using intersect(language_code,project_id); Using where
</span></span></span></code></pre></div><p>This is one of the rare cases where MySQL uses more than one index in an <strong>index_merge</strong> optimization,
and therefore the output is really weird.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-048.jpg" alt=""  />
</p>

</p>
<p>In the <code>extras</code> column there can be a number of additional notes from the optimizer.
Some are good, some are bad.</p>
<p>Things that are not so good:</p>
<dl>
<dt>using filesort</dt>
<dd>extra sorting is necessary, because the rows are not retrieved in the requested order.
This can force an extra lookup, or a table materialization (in that case, <code>using temporary</code> is also shown).</dd>
<dt>using temporary</dt>
<dd>the result is pushed into a temp table at some point, and then processed further.
The temp table can be in memory or go to disk.</dd>
</dl>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-049.jpg" alt=""  />
</p>

</p>
<p>Check how many of your temporary tables actually go to disk.
This can impact performance a lot.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-mysql" data-lang="mysql"><span class="line"><span class="cl"><span class="n">mysql</span><span class="o">&gt;</span><span class="w"> </span><span class="k">show</span><span class="w"> </span><span class="n">global</span><span class="w"> </span><span class="n">status</span><span class="w"> </span><span class="k">like</span><span class="w"> </span><span class="s2">&#34;created_tmp%tables&#34;</span><span class="p">;</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">...</span><span class="w">
</span></span></span></code></pre></div><p>The ratio of <code>Created_tmp_disk_tables</code> to <code>Created_tmp_tables</code> should be 1:10 or better.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-050.jpg" alt=""  />
</p>

</p>
<p>Find queries with temporary tables, and check them out, using <code>sys</code>:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-mysql" data-lang="mysql"><span class="line"><span class="cl"><span class="k">select</span><span class="w"> </span><span class="o">*</span><span class="w"> 
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">from</span><span class="w"> </span><span class="n">sys</span><span class="p">.</span><span class="n">statements_with_temp_tables</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="k">where</span><span class="w"> </span><span class="n">db</span><span class="w"> </span><span class="k">not</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="p">(</span><span class="s1">&#39;sys&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;mysql&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;information_schema&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;performance_schema&#39;</span><span class="p">);</span><span class="w">
</span></span></span></code></pre></div><p><p class="md__image">
  <img src="/uploads/2015/04/explain-051.jpg" alt=""  />
</p>

</p>
<p>Other <code>extra</code> notices that are not so bad news:</p>
<dl>
<dt>Impossible WHERE noticed after reading const tables</dt>
<dd>there is no work left to do.</dd>
<dt>Select tables optimzied away</dt>
<dd>the query contained aggregates that could be resolved at the optimizer stage already.
There is no work left to do.</dd>
<dt>Using index</dt>
<dd>Covering index. All data we need to produce in the select can be read from the index,
we do not need to seek into the actual table.
That&rsquo;s faster.</dd>
<dt>Distinct</dt>
<dd>implementing &lsquo;distinct&rsquo; operator using a lose index scan.
This means we skip over the index in large hops instead of scanning data.</dd>
<dt>Using where</dt>
<dd>A where clause is being used to filter down a result from an index even more.
That means, an index produces too much data, which we then filter down in a limited scan
and the following tables in the join see fewer rows than estimated.</dd>
</dl>
<h1 id="when-and-how-to-index">
    <a href="#when-and-how-to-index">
	When and How to Index?
    </a>
</h1>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-052.jpg" alt=""  />
</p>

</p>
<p>Ok, so indexes are the key to performance.
When should indexes be used, and how can they help?</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-053.jpg" alt=""  />
</p>

</p>
<p>The point of an index is fewer disk operations.
Rows are on disk in pages, and data is always read in pages.
If we need a single row in a page, all of the page is being read, and then kept in memory.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-054.jpg" alt=""  />
</p>

</p>
<p>The term <strong>Selectivity</strong> describes the percentage of rows selected by a condition.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-mysql" data-lang="mysql"><span class="line"><span class="cl"><span class="k">SELECT</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="n">name</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">FROM</span><span class="w"> </span><span class="n">person</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">sex</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;f&#39;</span><span class="w">
</span></span></span></code></pre></div><p>This row has a cardinality of 2 (or 3, when nullable).
The assumption is equidistribution (as many f as m).
Is that valid for our data set?</p>
<p>If yes, selectivity is a function of cardinality:</p>
<ul>
<li>n rows</li>
<li>selectivity = (n/cardinality)*100</li>
</ul>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-055.jpg" alt=""  />
</p>

</p>
<p>As an example, let&rsquo;s consider defining an <code>INDEX(a,b,c)</code> on three columns.</p>
<p>The index is used left to right: <code>a</code>, and within the same <code>a</code>, sorted by <code>b</code>, and so on.
It can be used for a conjunction (AND) of equalities, and one trailing relation/range.</p>
<p>Effectively, we are selecting a subtree in the index b-tree.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-056.jpg" alt=""  />
</p>

</p>
<p>Examples:</p>
<dl>
<dt><code>WHERE a = 10 AND b = 20 AND c = 30</code></dt>
<dd>This uses uses (a,b,c).
It is a conjunction of equalities.
It does not matter how it is written, the <code>AND</code> terms are commutative.</dd>
<dt><code>WHERE a = 10 AND b = 20 ORDER BY c</code></dt>
<dd>This uses (a,b,c).
This is a conjunction of equalities (a, b), and the data is read in <code>c</code> order,
saving us a sort.</dd>
<dt><code>WHERE a = 10 AND b &lt; 20 ORDER BY c</code></dt>
<dd>uses (a,b). This uses the equality in <code>a</code>, and the range in <code>b</code>.
It cannot leverage the index on <code>¬, c</code> for sorting, though, and we will have to manually sort.</dd>
</dl>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-057.jpg" alt=""  />
</p>


More Examples:</p>
<dl>
<dt><code>WHERE a&lt;10 AND b = 10</code></dt>
<dd>uses (a). This can only use the <code>a</code> prefix of <code>INDEX(a,b,c)</code>, because this is a range query.
The <code>b=10</code> part is being resolved <code>using where</code>.</dd>
<dt><code>WHERE a&lt;10 AND b&lt;10</code></dt>
<dd>uses (a). This can only use the <code>a</code> prefix of <code>INDEX(a,b,c)</code>.
Unfortunately this is a common case, for example for bounding boxes.
Geometry types and <code>RTREE</code> indexes can help, but are painful to use.</dd>
<dt><code>WHERE (a-10)&lt;0</code></dt>
<dd>no index used. Rephrase the query so that <code>a</code> is used freestanding: <code>WHERE a&lt;10</code>.
Now an index on <code>a</code> can be used.</dd>
</dl>
<h1 id="are-we-done-yet">
    <a href="#are-we-done-yet">
	Are we done, yet?
    </a>
</h1>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-058.jpg" alt=""  />
</p>

</p>
<p>When optimizing, this is a process.
When do we stop?</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-059.jpg" alt=""  />
</p>

</p>
<p>Revisiting the badness calculation.</p>
<p><p class="md__image">
  <img src="/uploads/2015/04/explain-060.jpg" alt=""  />
</p>

</p>
<p>The badness is ~2600.
2600 comparisons for 2600 result set rows are ok.
2600 lookups for 26 result rows probably can be improved upon.</p>

			</div>
		</div>

		
		
		<div class='row justify-content-center py-3 mb-3 mx-0'>
			<div class='col-lg-8 text-center'>
				<span class='letter-spacing-01 text-uppercase text-secondary me-2'>Tags</span>
				
				<a href="/tags/#lang_en" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				lang_en
				</a>
				
				<a href="/tags/#database" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				database
				</a>
				
				<a href="/tags/#mysql" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				mysql
				</a>
				
				<a href="/tags/#mysqldev" class='btn btn-sm btn-outline-primary mb-1'>
				<svg class="bi" width="1rem" height="1rem" fill="currentColor">
					<use xlink:href="/bootstrap-icons.svg#tag-fill"></use>
				</svg>
				mysqldev
				</a>
				
			</div>
		</div>

		
		
		
		
		<div class='row justify-content-center py-3 mb-3 mx-0'>
			<div class='col-lg-8 text-center'>
				<a href="https://github.com/isotopp/isotopp.github.io/edit/main/content/posts/2015-04-09-mysql-explain-explain.md"
				   rel="noopener noreferrer" target="_blank">
					<span class='letter-spacing-01 text-uppercase text-secondary me-2'>Suggest Changes</span>
				</a>
			</div>
		</div>
		

		<div class='row justify-content-center mx-0'>
			<div class='col-lg-4 text-center text-lg-start'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Previous Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2015/03/27/go-away-or-i-will-replace-you.html">Go away, or I will replace you with a very small shell script</a>
				</div>
				
			</div>

			<div class='col-lg-4 text-lg-end mt-5 mt-lg-0 text-center'>
				
				<div>
					<div class='letter-spacing-01 text-uppercase text-secondary'>
						Next Post
					</div>
					<a class='text-decoration-none' href="https://blog.koehntopp.info/2015/11/29/fertig-gelesen-poseidons-wake.html">Fertig gelesen: Poseidon&#39;s Wake</a>
				</div>
				
			</div>
		</div>


		
	</article>
</div>



            <footer class='row justify-content-center mb-4 pb-4 mx-0'>
  <div class='col-8 text-center'>
    <div>
      A collection of old stuff, new stuff and random stuff.
    </div>
    <div class='row text-primary mt-4'>
      <div class='col'>

        <a href='/feed.xml' title='Follow RSS feed' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#rss-fill'/>
          </svg>
        </a>

        <a href='mailto:kristian.koehntopp@gmail.com' title='Email' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#envelope'/>
          </svg>
        </a>

        <a href='https://github.com/isotopp' title='Follow on GitHub' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#github'/>
          </svg>
        </a>

        <a rel="me" href="https://infosec.exchange/@isotopp" title='Follow on Mastodon' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#mastodon'/>
          </svg>
        </a>

        
        <a href='http://steamcommunity.com/id/ixotopp' title='Follow on Steam' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#steam'/>
          </svg>
        </a>

        

        <a href='https://www.youtube.com/user/isotopp' title='Follow on YouTube' class=''>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#youtube'/>
          </svg>
        </a>
      </div>
    </div>
  </div>
</footer>


        </main>

	





<script src="https://blog.koehntopp.info/js/bootstrap.js"></script>




<script src="https://blog.koehntopp.info/js/lunr.js"></script>





<script src="https://blog.koehntopp.info/js/app.js"></script>


    </body>
</html>
