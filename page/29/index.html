<!doctype html>
<html lang="en">
    <head>
    <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>Die wunderbare Welt von Isotopp | Die wunderbare Welt von Isotopp</title>
<meta name="description" content="Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" href="icon.png">
<link rel="icon" href="favicon.ico" type="image/ico">
<link rel="shortcut icon" href="favicon.ico">
<link rel="canonical" href="https://blog.koehntopp.info/index.html">

<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/feed.xml' title="Die wunderbare Welt von Isotopp">
<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/tags/mysql/feed.xml' title="Feed: mysql Articles for Die wunderbare Welt von Isotopp">
<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/tags/review/feed.xml' title="Feed: review Articles for Die wunderbare Welt von Isotopp">


<meta name="generator" content="Hugo 0.148.2">
<meta property="og:title" content='Die wunderbare Welt von Isotopp | Die wunderbare Welt von Isotopp' />
<meta property="og:site_name" content='Die wunderbare Welt von Isotopp' />
<meta property="og:locale" content="en_US" />
<meta name="description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="og:description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="og:url" content="https://blog.koehntopp.info/index.html" />
<meta property="og:type" content="article" />
<meta name="article:published_time" content='2025-08-10T01:02:03Z' />
<meta name="fediverse:creator" content="">
<meta property="og:image" content='https://blog.koehntopp.info/assets/img/background/rijksmuseum.jpg' />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content='' />
<meta property="twitter:title" content='' />
<meta property="twitter:description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="twitter:image" content='https://blog.koehntopp.info/assets/img/background/rijksmuseum.jpg' />


    



<link rel="stylesheet" href="https://blog.koehntopp.info/style.min.9c06d59cbec0d99504f824dfa9f104b2be012cc4febd69764b14c40cd8a09674.css">


    </head>
    <body>
        

        <nav class="navbar navbar-expand-lg navbar-light px-lg-4 pt-lg-4">
    <div class="container-fluid">
        <a class="navbar-brand justify-content-center" href="https://blog.koehntopp.info/" rel="home" title="Die wunderbare Welt von Isotopp">
            <img alt="Kris" height='48' width='48' src='/assets/img/avatars/isotopp.jpg' class='p-0 me-3 d-block d-lg-inline'>
            <span class='h4 d-block d-lg-inline'>Die wunderbare Welt von Isotopp</span>
        </a>

        <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse text-center" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto">
                
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">
                        <span class="">About</span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/contribute/">
                        <span class="">Contribute</span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/search/">
                        <span class=""><svg class='bi' height='1.5rem' width='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#search'/></svg></span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/tags/">
                        <span class=""><svg class='bi' width='1.5rem' height='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#tags-fill'/></svg></span>
                        
                    </a>
                </li>
                
            </ul>
            
        </div>

    </div>
</nav>


        <main role="main" class="container-fluid p-0">

            
<div class="page mb-4">
  <div class='row justify-content-center text-center my-4 mx-0'>
    <header class="headerbanner">
      <div class='col'>
        <h1 class="title mb-lg-4 text-white">
          Die wunderbare Welt von Isotopp
        </h1>
      </div>
      <img src='https://blog.koehntopp.info/assets/img/background/rijksmuseum.jpg'>
    </header>
  </div>

  
  <div class='row justify-content-center mb-4 py-4 border-bottom mx-0'>
    <div class='col-lg-8'>
        <h1 style='font-weight: 700'><a href="https://blog.koehntopp.info/2020/07/28/mysql-connection-scoped-state.html" class='text-decoration-none text-dark'>MySQL Connection Scoped State</a></h1>
        <div class='text-uppercase text-secondary' style='letter-spacing: 0.1rem;'>
          <img src='/assets/img/avatars/isotopp.jpg' alt="Avatar of @isotopp@infosec.exchange" class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
          <a href="https://infosec.exchange/@isotopp" class='text-secondary text-decoration-none'>Kristian Köhntopp</a>
          -
          July 28, 2020
        </div>

        <div class='mt-3'><p>MySQL speaks its own proprietary protocol.
It cannot be routed by an HTTP proxy, and a MySQL connection is entire unlike an HTTP connection.
Specifically, a lot of state and configuration is tied to a MySQL connection, and it cannot be recovered on disconnect.</p>
<h2 id="what-state-is-tied-to-a-connection">
    <a href="#what-state-is-tied-to-a-connection">
	What state is tied to a connection?
    </a>
</h2>
<h3 id="transactions">
    <a href="#transactions">
	Transactions
    </a>
</h3>
<p>A disconnect implies a <code>ROLLBACK</code>.
So if you are in a transaction, all changes to the database that you attempted are lost, rolled back, as if they never happened.<br>
It is not enough to retry the last statement, you need to jump back to the beginning of the transaction.</p></div>

    </div>
  </div>
  <div class='row justify-content-center mb-4 py-4 border-bottom mx-0'>
    <div class='col-lg-8'>
        <h1 style='font-weight: 700'><a href="https://blog.koehntopp.info/2020/07/27/mysql-commit-size-and-speed.html" class='text-decoration-none text-dark'>MySQL Commit Size and Speed</a></h1>
        <div class='text-uppercase text-secondary' style='letter-spacing: 0.1rem;'>
          <img src='/assets/img/avatars/isotopp.jpg' alt="Avatar of @isotopp@infosec.exchange" class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
          <a href="https://infosec.exchange/@isotopp" class='text-secondary text-decoration-none'>Kristian Köhntopp</a>
          -
          July 27, 2020
        </div>

        <div class='mt-3'><p>When writing data to disk, for small transactions the cost of writing the
commit out do disk dominates the execution time of the script. In order to
show that, I wrote a little Python script.</p>
<p>The script creates a test table in a database and writes 10.000 rows of test
data into it, in commit sizes of 1, 2, 4, &hellip;, 1024 rows.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="gp">$</span> ./mysql.py --help
</span></span><span class="line"><span class="cl"><span class="go">Usage: mysql.py [OPTIONS] COMMAND [ARGS]...
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">  Test commit sizes.
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">Options:
</span></span></span><span class="line"><span class="cl"><span class="go">  --help  Show this message and exit.
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">Commands:
</span></span></span><span class="line"><span class="cl"><span class="go">  create    Create the demo table empty.
</span></span></span><span class="line"><span class="cl"><span class="go">  drop      Drop the demo table
</span></span></span><span class="line"><span class="cl"><span class="go">  fill      Write test records into the demo table.
</span></span></span><span class="line"><span class="cl"><span class="go">  truncate  Truncate the demo table.
</span></span></span></code></pre></div><p>There is a small driver script to run the test. The driver creates the
table, truncates it and will then run the fill command of the script over
and over again, with growing commit-sizes. All powers of 2 from 0 to 10 are
being tried with 10.000 rows of test data.</p></div>

    </div>
  </div>
  <div class='row justify-content-center mb-4 py-4 border-bottom mx-0'>
    <div class='col-lg-8'>
        <h1 style='font-weight: 700'><a href="https://blog.koehntopp.info/2020/07/27/mysql-transactions.html" class='text-decoration-none text-dark'>MySQL Transactions - the physical side</a></h1>
        <div class='text-uppercase text-secondary' style='letter-spacing: 0.1rem;'>
          <img src='/assets/img/avatars/isotopp.jpg' alt="Avatar of @isotopp@infosec.exchange" class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
          <a href="https://infosec.exchange/@isotopp" class='text-secondary text-decoration-none'>Kristian Köhntopp</a>
          -
          July 27, 2020
        </div>

        <div class='mt-3'><p>So you talk to a database, doing transactions. What happens actually, behind the scenes? Let’s have a look.</p>
<p>There is a test table, and we write data into it inside a transaction:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="p">(</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="n">id</span><span class="w"> </span><span class="nb">serial</span><span class="p">,</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">  </span><span class="k">data</span><span class="w"> </span><span class="n">varbinary</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="p">)</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">START</span><span class="w"> </span><span class="k">TRANSACTION</span><span class="w"> </span><span class="k">READ</span><span class="w"> </span><span class="k">WRITE</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">INSERT</span><span class="w"> </span><span class="k">INTO</span><span class="w"> </span><span class="n">t</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">id</span><span class="p">,</span><span class="w"> </span><span class="k">data</span><span class="w"> </span><span class="p">)</span><span class="w"> </span><span class="k">VALUES</span><span class="w"> </span><span class="p">(</span><span class="k">NULL</span><span class="p">,</span><span class="w"> </span><span class="n">RANDOM_BYTES</span><span class="p">(</span><span class="mi">255</span><span class="p">))</span><span class="w">
</span></span></span><span class="line"><span class="cl"><span class="w"></span><span class="k">COMMIT</span><span class="w">
</span></span></span></code></pre></div><p>The MySQL test instance we are talking to is running on a Linux machine, and otherwise idle to make observation easier. Also, we configured it with <code>innodb_use_native_aio = false</code> because observing actual physical asynchronous I/O and attributing it to the statement that caused it is really hard.</p></div>

    </div>
  </div>
  <div class='row justify-content-center mb-4 py-4 border-bottom mx-0'>
    <div class='col-lg-8'>
        <h1 style='font-weight: 700'><a href="https://blog.koehntopp.info/2020/07/07/so-i-am-a-windows-user-now.html" class='text-decoration-none text-dark'>So I am a Windows User now</a></h1>
        <div class='text-uppercase text-secondary' style='letter-spacing: 0.1rem;'>
          <img src='/assets/img/avatars/isotopp.jpg' alt="Avatar of @isotopp@infosec.exchange" class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
          <a href="https://infosec.exchange/@isotopp" class='text-secondary text-decoration-none'>Kristian Köhntopp</a>
          -
          July 7, 2020
        </div>

        <div class='mt-3'><p>So I am a Windows User now. I have an old MacBook pro, Late-2013 13&quot; Retina, i7, 16 GB, 1 TB SSD, and the battery is done now, after 7 years. Also, the hardware is aging, and I want it refurbished and upgrade the son&rsquo;s equipment (which is the previous 2010 MBP I had at that time).</p>
<p>Modern Apple is not my thing. I have a company MBP, 2018 Retina 13&quot; Four-Port, i7, 16 GB, and everything about this device is wrong. I cannot for the life of me type on this keyboard, I accidentally hit functions on the touchbar, and the trackpad is so large that I put my hands on it when I don&rsquo;t want to. Also, I had to disable the force-touch functionality because otherwise I would open files instead of selecting them. I have to charge it from the right hand side USB-C connector, because otherwise it would get hot and throttle.</p></div>

    </div>
  </div>
  <div class='row justify-content-center mb-4 py-4 border-bottom mx-0'>
    <div class='col-lg-8'>
        <h1 style='font-weight: 700'><a href="https://blog.koehntopp.info/2020/06/29/how-i-set-up-my-python.html" class='text-decoration-none text-dark'>How I set up my Python</a></h1>
        <div class='text-uppercase text-secondary' style='letter-spacing: 0.1rem;'>
          <img src='/assets/img/avatars/isotopp.jpg' alt="Avatar of @isotopp@infosec.exchange" class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
          <a href="https://infosec.exchange/@isotopp" class='text-secondary text-decoration-none'>Kristian Köhntopp</a>
          -
          June 29, 2020
        </div>

        <div class='mt-3'><p>Because Martin wanted some starting point, here is how I set up my Python. There are a lot of other things one can do, but this is supposed to be just a starting point.</p>
<p>For a new project, make a project directory, usually not with a local git repository.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">kk:Python kris$ mkdir project
</span></span><span class="line"><span class="cl">kk:Python kris$ <span class="nb">cd</span> project
</span></span><span class="line"><span class="cl">kk:project kris$ git init
</span></span><span class="line"><span class="cl">Initialized empty Git repository in /Users/kris/Python/project/.git/
</span></span></code></pre></div><p>We need a virtual environment to keep our modules apart from the system python.</p></div>

    </div>
  </div>
  <div class='row justify-content-center mb-4 py-4 border-bottom mx-0'>
    <div class='col-lg-8'>
        <h1 style='font-weight: 700'><a href="https://blog.koehntopp.info/2020/06/23/schulen-digitalisieren.html" class='text-decoration-none text-dark'>Schulen digitalisieren</a></h1>
        <div class='text-uppercase text-secondary' style='letter-spacing: 0.1rem;'>
          <img src='/assets/img/avatars/isotopp.jpg' alt="Avatar of @isotopp@infosec.exchange" class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
          <a href="https://infosec.exchange/@isotopp" class='text-secondary text-decoration-none'>Kristian Köhntopp</a>
          -
          June 23, 2020
        </div>

        <div class='mt-3'><p>Da war also ein Artikel bei Golem: <a href="https://www.golem.de/news/keine-glasfaser-keine-it-kompetenz-schulen-bemuehen-sich-vergeblich-um-geld-aus-dem-digitalpakt-2006-149146.html" target="_blank" rel="noopener">Schulen bemühen sich vergeblich um Geld aus dem Digitalpakt</a>

.</p>
<blockquote>
<p>Die Schulen wollten das Geld nutzen, die Mittel würden aber trotz vieler Einreichungen nicht freigegeben, sagte ein Lehrer und IT-Verantwortlicher eines Berliner Gymnasiums Golem.de.</p></blockquote>
<p>Das liege daran, sagt der Artikel, daß für Mittel aus dem Digitalpakt eine Minimal-Ausstattung und Anbindung der Schulen gefordert ist, die so oft nicht realisierbar sei. Außerdem</p>
<blockquote>
<p>Auf kommunaler Ebene der Schulträger gebe &ldquo;es kaum IT-Kompetenz. Die Gebäude sind marode, insbesondere die Verkabelung. WLAN scheiterte an 100 MBit/s-Verkabelung und überlasteten Stromkreisen für Power-over-Ethernet-Switches&rdquo;.</p></div>

    </div>
  </div>
  <div class='row justify-content-center mb-4 py-4 border-bottom mx-0'>
    <div class='col-lg-8'>
        <h1 style='font-weight: 700'><a href="https://blog.koehntopp.info/2020/06/21/mysql-window-functions.html" class='text-decoration-none text-dark'>MySQL Window Functions</a></h1>
        <div class='text-uppercase text-secondary' style='letter-spacing: 0.1rem;'>
          <img src='/assets/img/avatars/isotopp.jpg' alt="Avatar of @isotopp@infosec.exchange" class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
          <a href="https://infosec.exchange/@isotopp" class='text-secondary text-decoration-none'>Kristian Köhntopp</a>
          -
          June 21, 2020
        </div>

        <div class='mt-3'><p>Two questions from Reddit&rsquo;s /r/mysql related to Window Functions: <a href="https://www.reddit.com/r/mysql/comments/gue9ct/how_do_i_make_rownumbers_happen/" target="_blank" rel="noopener">How do I make row.numbers happen</a>

 and <a href="https://www.reddit.com/r/mysql/comments/hbx5kk/get_the_difference_between_two_values_in/" target="_blank" rel="noopener">Get the difference between two values in different recordings</a>

.</p>
<p>One of the new things in MySQL is the implementation of Window Functions. They are related to aggregates, but do not actually lump values together.</p>
<p>To better understand what goes on, let&rsquo;s create some fake data to work with:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="ch">#! /usr/bin/env python3</span>
</span></span><span class="line"><span class="cl"><span class="c1"># -*- coding: utf-8 -*-</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">MySQLdb</span> <span class="k">as</span> <span class="nn">mdb</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">MySQLdb.cursors</span> <span class="k">as</span> <span class="nn">cursors</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randint</span><span class="p">,</span> <span class="n">random</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># We have {sensors} sensors, each producing {values} values </span>
</span></span><span class="line"><span class="cl"><span class="c1"># between {minvalue} and {maxvalue}, at a random time after {starttime} plus {delta}</span>
</span></span><span class="line"><span class="cl"><span class="n">sensors</span> <span class="o">=</span> <span class="mi">3</span>
</span></span><span class="line"><span class="cl"><span class="n">values</span> <span class="o">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl"><span class="n">minvalue</span> <span class="o">=</span> <span class="mi">0</span>
</span></span><span class="line"><span class="cl"><span class="n">maxvalue</span> <span class="o">=</span> <span class="mi">10</span>
</span></span><span class="line"><span class="cl"><span class="n">starttime</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">fromisoformat</span><span class="p">(</span><span class="s2">&#34;2020-01-01 00:00:00&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">delta</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">31</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">script</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;drop table if exists series&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="s2">&#34;create table if not exists series ( id serial, sensor integer not null, checktime timestamp not null, value float )&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">con</span> <span class="o">=</span> <span class="n">mdb</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">host</span><span class="o">=</span><span class="s2">&#34;localhost&#34;</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="s2">&#34;root&#34;</span><span class="p">,</span> <span class="n">db</span><span class="o">=</span><span class="s2">&#34;kris&#34;</span><span class="p">,</span> <span class="n">cursorclass</span><span class="o">=</span><span class="n">cursors</span><span class="o">.</span><span class="n">DictCursor</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">cur</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># Create a table</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">stmt</span> <span class="ow">in</span> <span class="n">script</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">    <span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">stmt</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;</span><span class="si">{</span><span class="n">cur</span><span class="o">.</span><span class="n">_last_executed</span><span class="si">}</span><span class="s2">&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">con</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># insert values</span>
</span></span><span class="line"><span class="cl"><span class="n">insert_stmt</span> <span class="o">=</span> <span class="s2">&#34;insert into series values ( </span><span class="si">%s</span><span class="s2">, </span><span class="si">%s</span><span class="s2">, </span><span class="si">%s</span><span class="s2">, </span><span class="si">%s</span><span class="s2">)&#34;</span>
</span></span><span class="line"><span class="cl"><span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">sensors</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">    <span class="nb">print</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">        <span class="sa">f</span><span class="s2">&#34;Sensor </span><span class="si">{</span><span class="n">s</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">values</span><span class="si">}</span><span class="s2"> measurements (</span><span class="si">{</span><span class="n">minvalue</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">maxvalue</span><span class="si">}</span><span class="s2">), (</span><span class="si">{</span><span class="n">starttime</span><span class="si">}</span><span class="s2">, </span><span class="si">{</span><span class="n">starttime</span><span class="o">+</span><span class="n">delta</span><span class="si">}</span><span class="s2">).&#34;</span>
</span></span><span class="line"><span class="cl">    <span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">values</span><span class="p">):</span>
</span></span><span class="line"><span class="cl">        <span class="n">value</span> <span class="o">=</span> <span class="n">random</span><span class="p">()</span> <span class="o">*</span> <span class="n">maxvalue</span> <span class="o">+</span> <span class="n">minvalue</span>
</span></span><span class="line"><span class="cl">        <span class="n">t</span> <span class="o">=</span> <span class="n">starttime</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">delta</span><span class="o">.</span><span class="n">days</span><span class="p">))</span>
</span></span><span class="line"><span class="cl">        <span class="n">data</span> <span class="o">=</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="n">cur</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">insert_stmt</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">    <span class="n">con</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</span></span></code></pre></div><p>This will create test data for a number of fictional sensors <code>sensors</code>. For each sensor, there will be <code>values</code> many readings with a random float value between <code>minvalue</code> and <code>maxvalue</code>. The sensor readings will be taken at a random point in time between <code>starttime</code> and <code>delta</code> days later. In our sample config, that is 3 sensors with 10 readings each, values between 0 and 10, at some random point in time in January 2020.</p></div>

    </div>
  </div>
  <div class='row justify-content-center mb-4 py-4 border-bottom mx-0'>
    <div class='col-lg-8'>
        <h1 style='font-weight: 700'><a href="https://blog.koehntopp.info/2020/06/20/export-the-entire-database-to-csv.html" class='text-decoration-none text-dark'>Export the entire database to CSV</a></h1>
        <div class='text-uppercase text-secondary' style='letter-spacing: 0.1rem;'>
          <img src='/assets/img/avatars/isotopp.jpg' alt="Avatar of @isotopp@infosec.exchange" class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
          <a href="https://infosec.exchange/@isotopp" class='text-secondary text-decoration-none'>Kristian Köhntopp</a>
          -
          June 20, 2020
        </div>

        <div class='mt-3'><p>A <a href="https://www.reddit.com/r/mysql/comments/hbg712/export_entire_database_to_csv/" target="_blank" rel="noopener">question</a>

 from Reddit&rsquo;s /r/mysql:</p>
<blockquote>
<p>Really new to MySQL and had a request to export an entire database to csv for review. I can manually export each table using workbench but there are 10+ tables and 10+ databases so I was looking to export the entire database to csv.</p></blockquote>
<p>It is likely that you have additional requirements on top of this, so it would be best to script this in a way that would allow for customization.</p></div>

    </div>
  </div>
  <div class='row justify-content-center mb-4 py-4 border-bottom mx-0'>
    <div class='col-lg-8'>
        <h1 style='font-weight: 700'><a href="https://blog.koehntopp.info/2020/06/15/pizza-people-projects-and-processes.html" class='text-decoration-none text-dark'>Pizza, People, Projects and Processes</a></h1>
        <div class='text-uppercase text-secondary' style='letter-spacing: 0.1rem;'>
          <img src='/assets/img/avatars/isotopp.jpg' alt="Avatar of @isotopp@infosec.exchange" class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
          <a href="https://infosec.exchange/@isotopp" class='text-secondary text-decoration-none'>Kristian Köhntopp</a>
          -
          June 15, 2020
        </div>

        <div class='mt-3'><p><em>An older talk from 2 years ago, which for some reason I was not able to find in the blog.</em></p>
<p>For reasons that do not need exploration at this junction,
I had to explain Processes and Process Maturity some time ago,
and a colleague asked me to put my thinking into a talk.
This talk is likely going to be boring,
because you may know most of the subject already.
On the other hand,
it is good to be on the same page when it comes to models and vocabulary.</p></div>

    </div>
  </div>
  <div class='row justify-content-center mb-4 py-4 border-bottom mx-0'>
    <div class='col-lg-8'>
        <h1 style='font-weight: 700'><a href="https://blog.koehntopp.info/2020/06/10/where-do-the-joins-go.html" class='text-decoration-none text-dark'>Where do the JOINs go?</a></h1>
        <div class='text-uppercase text-secondary' style='letter-spacing: 0.1rem;'>
          <img src='/assets/img/avatars/isotopp.jpg' alt="Avatar of @isotopp@infosec.exchange" class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
          <a href="https://infosec.exchange/@isotopp" class='text-secondary text-decoration-none'>Kristian Köhntopp</a>
          -
          June 10, 2020
        </div>

        <div class='mt-3'><p>I was asking on Twitter:</p>
<p><a href="https://twitter.com/isotopp/status/1270746627339358208" target="_blank" rel="noopener"><p class="md__image">
  <img src="/uploads/2020/06/joins.png" alt=""  />
</p>

</a>

</p>
<p><em>Are you a Developer and understand (Micro-) Services? I am a database person and a bit simple, and I have a genuine Question:</em></p>
<p><em>When moving to a services architecture, where do the JOINs go?</em></p>
<p>I gave the following context:</p>
<hr>
<p><p class="md__image">
  <img src="/uploads/2020/06/shop-schema.png" alt=""  />
</p>

</p>
<p><em>A simple shop</em></p>
<p>So you sell stuff, that is, you have an <code>orders</code> table <code>o</code> with an <code>oid</code>, which stores a customer id <code>cid</code> from a <code>customers</code> <code>c</code> table, and an article id <code>aid</code>, from an articles table <code>a</code> and a count <code>cnt</code>.</p></div>

    </div>
  </div>

  <div class='row mb-4 py-4 mx-0 justify-content-center'>
    <div class='col-lg-8 fs-5'>
    
    <ul class="pagination pagination-default">
      <li class="page-item">
        <a href="/index.html" aria-label="First" class="page-link" role="button"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/page/28/index.html" aria-label="Previous" class="page-link" role="button"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/page/27/index.html" aria-label="Page 27" class="page-link" role="button">27</a>
      </li>
      <li class="page-item">
        <a href="/page/28/index.html" aria-label="Page 28" class="page-link" role="button">28</a>
      </li>
      <li class="page-item active">
        <a aria-current="page" aria-label="Page 29" class="page-link" role="button">29</a>
      </li>
      <li class="page-item">
        <a href="/page/30/index.html" aria-label="Page 30" class="page-link" role="button">30</a>
      </li>
      <li class="page-item">
        <a href="/page/31/index.html" aria-label="Page 31" class="page-link" role="button">31</a>
      </li>
      <li class="page-item">
        <a href="/page/30/index.html" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/page/112/index.html" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul>
    </div>
  </div>


    
</div>



            <footer class='row justify-content-center mb-4 pb-4 mx-0'>
  <div class='col-8 text-center'>
    <div>
      A collection of old stuff, new stuff and random stuff.
    </div>
    <div class='row text-primary mt-4'>
      <div class='col'>

        <a href='/feed.xml' title='Follow RSS feed' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#rss-fill'/>
          </svg>
        </a>

        <a href='mailto:kristian.koehntopp@gmail.com' title='Email' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#envelope'/>
          </svg>
        </a>

        <a href='https://github.com/isotopp' title='Follow on GitHub' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#github'/>
          </svg>
        </a>

        <a rel="me" href="https://infosec.exchange/@isotopp" title='Follow on Mastodon' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#mastodon'/>
          </svg>
        </a>

        
        <a href='http://steamcommunity.com/id/ixotopp' title='Follow on Steam' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#steam'/>
          </svg>
        </a>

        

        <a href='https://www.youtube.com/user/isotopp' title='Follow on YouTube' class=''>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#youtube'/>
          </svg>
        </a>
      </div>
    </div>
  </div>
</footer>


        </main>

	





<script src="https://blog.koehntopp.info/js/bootstrap.js"></script>




<script src="https://blog.koehntopp.info/js/lunr.js"></script>





<script src="https://blog.koehntopp.info/js/app.js"></script>


    </body>
</html>
