<!doctype html>
<html lang="en">
    <head>
    <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>Die wunderbare Welt von Isotopp | Die wunderbare Welt von Isotopp</title>
<meta name="description" content="Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="apple-touch-icon" href="icon.png">
<link rel="icon" href="favicon.ico" type="image/ico">
<link rel="shortcut icon" href="favicon.ico">
<link rel="canonical" href="https://blog.koehntopp.info/index.html">

<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/feed.xml' title="Die wunderbare Welt von Isotopp">
<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/tags/mysql/feed.xml' title="Feed: mysql Articles for Die wunderbare Welt von Isotopp">
<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/tags/review/feed.xml' title="Feed: review Articles for Die wunderbare Welt von Isotopp">


<meta name="generator" content="Hugo 0.148.2">
<meta property="og:title" content='Die wunderbare Welt von Isotopp | Die wunderbare Welt von Isotopp' />
<meta property="og:site_name" content='Die wunderbare Welt von Isotopp' />
<meta property="og:locale" content="en_US" />
<meta name="description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="og:description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="og:url" content="https://blog.koehntopp.info/index.html" />
<meta property="og:type" content="article" />
<meta name="article:published_time" content='2025-08-10T01:02:03Z' />
<meta name="fediverse:creator" content="">
<meta property="og:image" content='https://blog.koehntopp.info/assets/img/background/rijksmuseum.jpg' />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:creator" content='' />
<meta property="twitter:title" content='' />
<meta property="twitter:description" content='Kris Köhntopp&#39;s blog (Fedi: @isotoppinfosec.exchange)' />
<meta property="twitter:image" content='https://blog.koehntopp.info/assets/img/background/rijksmuseum.jpg' />


    



<link rel="stylesheet" href="https://blog.koehntopp.info/style.min.9c06d59cbec0d99504f824dfa9f104b2be012cc4febd69764b14c40cd8a09674.css">


    </head>
    <body>
        

        <nav class="navbar navbar-expand-lg navbar-light px-lg-4 pt-lg-4">
    <div class="container-fluid">
        <a class="navbar-brand justify-content-center" href="https://blog.koehntopp.info/" rel="home" title="Die wunderbare Welt von Isotopp">
            <img alt="Kris" height='48' width='48' src='/assets/img/avatars/isotopp.jpg' class='p-0 me-3 d-block d-lg-inline'>
            <span class='h4 d-block d-lg-inline'>Die wunderbare Welt von Isotopp</span>
        </a>

        <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse text-center" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto">
                
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">
                        <span class="">About</span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/contribute/">
                        <span class="">Contribute</span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/search/">
                        <span class=""><svg class='bi' height='1.5rem' width='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#search'/></svg></span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/tags/">
                        <span class=""><svg class='bi' width='1.5rem' height='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#tags-fill'/></svg></span>
                        
                    </a>
                </li>
                
            </ul>
            
        </div>

    </div>
</nav>


        <main role="main" class="container-fluid p-0">

            
<div class="page mb-4">
  <div class='row justify-content-center text-center my-4 mx-0'>
    <header class="headerbanner">
      <div class='col'>
        <h1 class="title mb-lg-4 text-white">
          Die wunderbare Welt von Isotopp
        </h1>
      </div>
      <img src='https://blog.koehntopp.info/assets/img/background/rijksmuseum.jpg'>
    </header>
  </div>

  
  <div class='row justify-content-center mb-4 py-4 border-bottom mx-0'>
    <div class='col-lg-8'>
        <h1 style='font-weight: 700'><a href="https://blog.koehntopp.info/2020/10/08/vijzelbuurt-is-changing.html" class='text-decoration-none text-dark'>Vijzelbuurt is changing</a></h1>
        <div class='text-uppercase text-secondary' style='letter-spacing: 0.1rem;'>
          <img src='/assets/img/avatars/isotopp.jpg' alt="Avatar of @isotopp@infosec.exchange" class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
          <a href="https://infosec.exchange/@isotopp" class='text-secondary text-decoration-none'>Kristian Köhntopp</a>
          -
          October 8, 2020
        </div>

        <div class='mt-3'><p>Back when I was still commuting to work in an office, in the far past, I used to be in the Spaces building in Vijzelgracht in Amsterdam, every day. Mark Wagenbuur of <a href="https://twitter.com/bicycledutch" target="_blank" rel="noopener">BicycleDutch</a>

 has been there today, and <a href="https://twitter.com/BicycleDutch/status/1314213038908559361" target="_blank" rel="noopener">tweeted</a>

:</p>
<p><a href="https://twitter.com/BicycleDutch/status/1314213038908559361" target="_blank" rel="noopener"><p class="md__image">
  <img src="/uploads/2020/10/bicycledutch-tweet.jpg" alt=""  />
</p>

</a>

</p>
<p><em>Amsterdam is changing dramatically. I was in Vijzelstraat for the first time in about 2 years and I was pleasantly surprised! Looked up the old situation in Google StreetView for some before and afters.</em></p></div>

    </div>
  </div>
  <div class='row justify-content-center mb-4 py-4 border-bottom mx-0'>
    <div class='col-lg-8'>
        <h1 style='font-weight: 700'><a href="https://blog.koehntopp.info/2020/10/07/an-unexpeced-pool-size-increase.html" class='text-decoration-none text-dark'>An unexpected pool size increase</a></h1>
        <div class='text-uppercase text-secondary' style='letter-spacing: 0.1rem;'>
          <img src='/assets/img/avatars/isotopp.jpg' alt="Avatar of @isotopp@infosec.exchange" class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
          <a href="https://infosec.exchange/@isotopp" class='text-secondary text-decoration-none'>Kristian Köhntopp</a>
          -
          October 7, 2020
        </div>

        <div class='mt-3'><p>At work, replication chains have a single primary database node, to which you write, and then multiple replicas, in multiple AZs.</p>
<p>Here is what the one sample chain looks like in Orchestrator:</p>
<p><p class="md__image">
  <img src="/uploads/2020/10/mysql-orchestrator.png" alt=""  />
</p>

</p>
<p><em>instance-918d is the current primary, in the blue AZ. Replicas in orange and green are in other AZs. Blue badges indicate multiple replicas, eg (38) means 38 machines.</em></p>
<p>When you talk to a database, you get two database handles:</p></div>

    </div>
  </div>
  <div class='row justify-content-center mb-4 py-4 border-bottom mx-0'>
    <div class='col-lg-8'>
        <h1 style='font-weight: 700'><a href="https://blog.koehntopp.info/2020/10/05/it-modernisieren-und-konsolidieren.html" class='text-decoration-none text-dark'>IT modernisieren und konsolidieren</a></h1>
        <div class='text-uppercase text-secondary' style='letter-spacing: 0.1rem;'>
          <img src='/assets/img/avatars/isotopp.jpg' alt="Avatar of @isotopp@infosec.exchange" class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
          <a href="https://infosec.exchange/@isotopp" class='text-secondary text-decoration-none'>Kristian Köhntopp</a>
          -
          October 5, 2020
        </div>

        <div class='mt-3'><p>Ich schrieb in einem <a href="https://twitter.com/isotopp/status/1313084134168944640" target="_blank" rel="noopener">Twitter Thread</a>

 über <a href="/2020/10/05/what-are-the-problems-with-posix.html">Posix Dateisysteme vs. Object Stores</a>

:</p>
<blockquote>
<p>UNIX FS ist 1974.
BSD FFS ist 1984.
XFS ist 1994.
ZFS (und Btrfs und Wafl) sind LFS, also 2004.
Object Storages, LSM, &ldquo;RocksDB&rdquo; ist ca. 2014, um den Takt zu halten.</p></blockquote>
<p>und wurde gefragt: &ldquo;Was kommt 2024&rdquo;. Meine halb spöttische, halb ernst gemeinte Antwort war:</p>
<blockquote>
<p>Irrelevant.</p>
<p>2024 läuft Dein Code serverless bei einem professionellen Betreiber und vom lokalen System und dem lokalen Dateisystem kriegst Du nix mehr zu sehen außer einer monatlichen Rechnung.</p></div>

    </div>
  </div>
  <div class='row justify-content-center mb-4 py-4 border-bottom mx-0'>
    <div class='col-lg-8'>
        <h1 style='font-weight: 700'><a href="https://blog.koehntopp.info/2020/10/05/what-are-the-problems-with-posix.html" class='text-decoration-none text-dark'>What are the problems with POSIX?</a></h1>
        <div class='text-uppercase text-secondary' style='letter-spacing: 0.1rem;'>
          <img src='/assets/img/avatars/isotopp.jpg' alt="Avatar of @isotopp@infosec.exchange" class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
          <a href="https://infosec.exchange/@isotopp" class='text-secondary text-decoration-none'>Kristian Köhntopp</a>
          -
          October 5, 2020
        </div>

        <div class='mt-3'><p>Every once in a while there is the IT news article that kind of triggers me. This time it was <a href="https://www.golem.de/news/object-storage-object-storage-protokoll-koennte-posix-abloesen-2010-151294.html" target="_blank" rel="noopener">&ldquo;Object-Storage-Protokoll könnte Posix ablösen&rdquo;</a>

 in german computer news site <a href="https://golem.de" target="_blank" rel="noopener">Golem</a>

. The article speaks about mmap(), NVMEoF and object storage and how it could revolutionize or complete object storages, but does not link to an original article, names no persons and no paper. Also, what do these things - mmap, NVMEoF, object storage and Posix, even have in common? It is not explained anywhere in the article.</p></div>

    </div>
  </div>
  <div class='row justify-content-center mb-4 py-4 border-bottom mx-0'>
    <div class='col-lg-8'>
        <h1 style='font-weight: 700'><a href="https://blog.koehntopp.info/2020/09/28/mysql-import-csv-not-using-load-data.html" class='text-decoration-none text-dark'>MySQL: Import CSV, not using LOAD DATA</a></h1>
        <div class='text-uppercase text-secondary' style='letter-spacing: 0.1rem;'>
          <img src='/assets/img/avatars/isotopp.jpg' alt="Avatar of @isotopp@infosec.exchange" class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
          <a href="https://infosec.exchange/@isotopp" class='text-secondary text-decoration-none'>Kristian Köhntopp</a>
          -
          September 28, 2020
        </div>

        <div class='mt-3'><p>All over the Internet people are having trouble getting <code>LOAD DATA</code> and <code>LOAD DATA LOCAL</code> to work. Frankly, do not use them, and especially not the <code>LOCAL</code> variant. They are insecure, and even if you get them to work, they are limited and unlikely to do what you want. Write a small data load program as shown below.</p>
<h2 id="not-using-load-data-local">
    <a href="#not-using-load-data-local">
	Not using LOAD DATA LOCAL
    </a>
</h2>
<p><a href="https://dev.mysql.com/doc/refman/8.0/en/load-data-local-security.html" target="_blank" rel="noopener">The fine manual says</a>

:</p>
<blockquote>
<p>The LOCAL version of LOAD DATA has two potential security issues:</p></div>

    </div>
  </div>
  <div class='row justify-content-center mb-4 py-4 border-bottom mx-0'>
    <div class='col-lg-8'>
        <h1 style='font-weight: 700'><a href="https://blog.koehntopp.info/2020/09/26/my-private-data-warehouse.html" class='text-decoration-none text-dark'>Importing account statements and building a data warehouse</a></h1>
        <div class='text-uppercase text-secondary' style='letter-spacing: 0.1rem;'>
          <img src='/assets/img/avatars/isotopp.jpg' alt="Avatar of @isotopp@infosec.exchange" class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
          <a href="https://infosec.exchange/@isotopp" class='text-secondary text-decoration-none'>Kristian Köhntopp</a>
          -
          September 26, 2020
        </div>

        <div class='mt-3'><p>This is an update and translation of a
<a href="/2006/07/23/mein-privates-datawarehouse-sparen-mit-mysql.html">much older article</a>

,
which I originally wrote in German.
Back then, I was experimenting with importing account statements from my German Sparkasse,
which were available as CSV files.</p>
<h2 id="the-initial-data-load">
    <a href="#the-initial-data-load">
	The initial data load
    </a>
</h2>
<p>The data appeared as follows:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="gp">$</span> head -2 /home/kris/Documents/banking/umsatz-22758031-29122004.csv
</span></span><span class="line"><span class="cl"><span class="go">&#34;Local Account&#34;;&#34;Book Date&#34;;&#34;Valuta Date&#34;;&#34;Transaction Type&#34;;
</span></span></span><span class="line"><span class="cl"><span class="go">&#34;Purpose&#34;;
</span></span></span><span class="line"><span class="cl"><span class="go">&#34;Remote Party&#34;;&#34;Remote Account&#34;;&#34;Bank Code&#34;;
</span></span></span><span class="line"><span class="cl"><span class="go">&#34;Amount&#34;;&#34;Currency&#34;;&#34;Info&#34;
</span></span></span><span class="line"><span class="cl"><span class="go">&#34;08154711&#34;;&#34;30.12&#34;;&#34;30.12.05&#34;;&#34;Direct Debit&#34;;
</span></span></span><span class="line"><span class="cl"><span class="go">&#34;DRP 08154711 040441777  INKL. 16% UST 5.38 EUR&#34;;
</span></span></span><span class="line"><span class="cl"><span class="go">&#34;STRATO MEDIEN AG&#34;;&#34;040441777&#34;;&#34;10050000&#34;;
</span></span></span><span class="line"><span class="cl"><span class="go">&#34;-39,00&#34;;&#34;EUR&#34;;&#34;Direct Debit booked&#34;
</span></span></span></code></pre></div><p>Because I want to know how I spend my money, I am loading the data into MySQL.
Here is how:
To understand my spending habits, I decided to load the data into MySQL.
Here’s how:</p></div>

    </div>
  </div>
  <div class='row justify-content-center mb-4 py-4 border-bottom mx-0'>
    <div class='col-lg-8'>
        <h1 style='font-weight: 700'><a href="https://blog.koehntopp.info/2020/09/25/mysql-dynamic-partitions-suck.html" class='text-decoration-none text-dark'>MySQL: automatic partitions surely would be nice</a></h1>
        <div class='text-uppercase text-secondary' style='letter-spacing: 0.1rem;'>
          <img src='/assets/img/avatars/isotopp.jpg' alt="Avatar of @isotopp@infosec.exchange" class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
          <a href="https://infosec.exchange/@isotopp" class='text-secondary text-decoration-none'>Kristian Köhntopp</a>
          -
          September 25, 2020
        </div>

        <div class='mt-3'><p>In <a href="/2020/09/24/mysql-deleting-data.html">Deleting data</a>

 we have been looking at a process that loads data into MySQL, leveraging partitions to make it easier and faster to later get rid of the data again. For this, we created three processes, a data loader process, and two observers - one for creating partitions, and one for deleting them.</p>
<p>The observer processes have been running <code>ANALYZE TABLES</code> and then polling <code>INFORMATION_SCHEMA.PARTITIONS</code> every 1/10th of a second to check if intervention is needed. They then have been dynamically generating the necessary <code>ALTER TABLE</code> statements maintaining the proper partitioning of the table by adding and dropping additional partitions.</p></div>

    </div>
  </div>
  <div class='row justify-content-center mb-4 py-4 border-bottom mx-0'>
    <div class='col-lg-8'>
        <h1 style='font-weight: 700'><a href="https://blog.koehntopp.info/2020/09/24/mysql-deleting-data.html" class='text-decoration-none text-dark'>MySQL: Deleting data</a></h1>
        <div class='text-uppercase text-secondary' style='letter-spacing: 0.1rem;'>
          <img src='/assets/img/avatars/isotopp.jpg' alt="Avatar of @isotopp@infosec.exchange" class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
          <a href="https://infosec.exchange/@isotopp" class='text-secondary text-decoration-none'>Kristian Köhntopp</a>
          -
          September 24, 2020
        </div>

        <div class='mt-3'><p>Completing the data lifecycle is often harder than originally expected:
Deleting data can sometimes cost way more than inserting it in the first place.
MySQL Partitions can offer a way out.
We have an <a href="/2020/05/13/deleting-data-from-mysql.html">earlier post</a>

 on the subject.</p>
<h2 id="a-sample-table-and-a-problem-statement">
    <a href="#a-sample-table-and-a-problem-statement">
	A sample table, and a problem statement
    </a>
</h2>
<p>Let&rsquo;s define a kind of log table, to which data is added with an <code>auto_increment</code> id value and some data.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-python" data-lang="python"><span class="line"><span class="cl"><span class="ch">#! /usr/bin/env python3</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">random</span> <span class="kn">import</span> <span class="n">randint</span>
</span></span><span class="line"><span class="cl"><span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="kn">import</span> <span class="n">Process</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">click</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">MySQLdb</span>
</span></span><span class="line"><span class="cl"><span class="kn">import</span> <span class="nn">MySQLdb.cursors</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">db_config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
</span></span><span class="line"><span class="cl">    <span class="n">host</span><span class="o">=</span><span class="s2">&#34;localhost&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">user</span><span class="o">=</span><span class="s2">&#34;kris&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">passwd</span><span class="o">=</span><span class="s2">&#34;geheim&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">db</span><span class="o">=</span><span class="s2">&#34;kris&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="n">cursorclass</span><span class="o">=</span><span class="n">MySQLdb</span><span class="o">.</span><span class="n">cursors</span><span class="o">.</span><span class="n">DictCursor</span><span class="p">,</span>
</span></span><span class="line"><span class="cl"><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@click.group</span><span class="p">(</span><span class="n">help</span><span class="o">=</span><span class="s2">&#34;Load and delete data using partitions&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">sql</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="k">pass</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nd">@sql.command</span><span class="p">()</span>
</span></span><span class="line"><span class="cl"><span class="k">def</span> <span class="nf">setup_tables</span><span class="p">():</span>
</span></span><span class="line"><span class="cl">    <span class="n">sql_setup</span> <span class="o">=</span> <span class="p">[</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;drop table if exists data&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;&#34;&#34; create table data (
</span></span></span><span class="line"><span class="cl"><span class="s2">                id integer not null primary key auto_increment,
</span></span></span><span class="line"><span class="cl"><span class="s2">                d varchar(64) not null,
</span></span></span><span class="line"><span class="cl"><span class="s2">                e varchar(64) not null
</span></span></span><span class="line"><span class="cl"><span class="s2">        )&#34;&#34;&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;alter table data partition by range (id) ( partition p1 values less than (10000))&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;insert into data (id, d, e) values ( 1, &#39;keks&#39;, &#39;keks&#39; )&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">        <span class="s2">&#34;commit&#34;</span><span class="p">,</span>
</span></span><span class="line"><span class="cl">    <span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="n">db</span> <span class="o">=</span> <span class="n">MySQLdb</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="o">**</span><span class="n">db_config</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">    <span class="k">for</span> <span class="n">cmd</span> <span class="ow">in</span> <span class="n">sql_setup</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">        <span class="k">try</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">c</span> <span class="o">=</span> <span class="n">db</span><span class="o">.</span><span class="n">cursor</span><span class="p">()</span>
</span></span><span class="line"><span class="cl">            <span class="n">c</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">cmd</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">        <span class="k">except</span> <span class="n">MySQLdb</span><span class="o">.</span><span class="n">OperationalError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span></span><span class="line"><span class="cl">            <span class="n">click</span><span class="o">.</span><span class="n">echo</span><span class="p">(</span><span class="sa">f</span><span class="s2">&#34;setup_tables: failed </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2"> with </span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="s2">.&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="n">sql</span><span class="p">()</span>
</span></span></code></pre></div><p>This is our basic Python framework for experimentation, using the <code>click</code> framework, and a command <code>setup-tables</code>. This command will run a number of SQL statements to initialize our log table named <code>data</code>.</p></div>

    </div>
  </div>
  <div class='row justify-content-center mb-4 py-4 border-bottom mx-0'>
    <div class='col-lg-8'>
        <h1 style='font-weight: 700'><a href="https://blog.koehntopp.info/2020/09/23/mylogin-cnf.html" class='text-decoration-none text-dark'>MySQL: Provisioning .mylogin.cnf</a></h1>
        <div class='text-uppercase text-secondary' style='letter-spacing: 0.1rem;'>
          <img src='/assets/img/avatars/isotopp.jpg' alt="Avatar of @isotopp@infosec.exchange" class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
          <a href="https://infosec.exchange/@isotopp" class='text-secondary text-decoration-none'>Kristian Köhntopp</a>
          -
          September 23, 2020
        </div>

        <div class='mt-3'><p>MySQL uses connection and config parameters from a number of possible sources. The easiest way to find out where it is looking for config files is to run</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="gp">$</span> mysql --help <span class="p">|</span> grep cnf
</span></span><span class="line"><span class="cl"><span class="go">                      order of preference, my.cnf, $MYSQL_TCP_PORT,
</span></span></span><span class="line"><span class="cl"><span class="go">/etc/my.cnf /etc/mysql/my.cnf /Users/kkoehntopp/homebrew/etc/my.cnf ~/.my.cnf
</span></span></span></code></pre></div><p>As can be seen, my version of the MySQL client checks in this order</p>
<ul>
<li>/etc/my.cnf</li>
<li>/etc/mysql/my.cnf</li>
<li>/Users/kkoehntopp/homebrew/etc/my/cnf</li>
<li>~/.my.cnf</li>
</ul>
<p>The cnf file is a file in dot-ini syntax, so you have <code>[groups]</code> and each group contains lines with <code>key = value</code> pairs. Which groups are read?</p></div>

    </div>
  </div>
  <div class='row justify-content-center mb-4 py-4 border-bottom mx-0'>
    <div class='col-lg-8'>
        <h1 style='font-weight: 700'><a href="https://blog.koehntopp.info/2020/09/22/alter-table-for-uuid.html" class='text-decoration-none text-dark'>MySQL: ALTER TABLE for UUID</a></h1>
        <div class='text-uppercase text-secondary' style='letter-spacing: 0.1rem;'>
          <img src='/assets/img/avatars/isotopp.jpg' alt="Avatar of @isotopp@infosec.exchange" class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
          <a href="https://infosec.exchange/@isotopp" class='text-secondary text-decoration-none'>Kristian Köhntopp</a>
          -
          September 22, 2020
        </div>

        <div class='mt-3'><p>A question to the internal <code>#DBA</code> channel at work: »Is it possible to change a column type from <code>BIGINT</code> to <code>VARCHAR </code>? Will the numbers be converted into a string version of the number or will be it a byte-wise transition that will screw the values?«</p>
<p>Asking yielded more information: »The use-case is to have strings, to have UUIDs.«</p>
<p>So we have two questions to answer:</p>
<ul>
<li>Is <code>ALTER TABLE t CHANGE COLUMN c</code> lossy?</li>
<li><code>INTEGER AUTO_INCREMENT</code> vs. <code>UUID</code></li>
</ul>
<h2 id="is-alter-table-t-change-column-c-lossy">
    <a href="#is-alter-table-t-change-column-c-lossy">
	Is ALTER TABLE t CHANGE COLUMN c lossy?
    </a>
</h2>
<p><code>ALTER TABLE</code> is not lossy. We can test.</p></div>

    </div>
  </div>

  <div class='row mb-4 py-4 mx-0 justify-content-center'>
    <div class='col-lg-8 fs-5'>
    
    <ul class="pagination pagination-default">
      <li class="page-item">
        <a href="/index.html" aria-label="First" class="page-link" role="button"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/page/25/index.html" aria-label="Previous" class="page-link" role="button"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/page/24/index.html" aria-label="Page 24" class="page-link" role="button">24</a>
      </li>
      <li class="page-item">
        <a href="/page/25/index.html" aria-label="Page 25" class="page-link" role="button">25</a>
      </li>
      <li class="page-item active">
        <a aria-current="page" aria-label="Page 26" class="page-link" role="button">26</a>
      </li>
      <li class="page-item">
        <a href="/page/27/index.html" aria-label="Page 27" class="page-link" role="button">27</a>
      </li>
      <li class="page-item">
        <a href="/page/28/index.html" aria-label="Page 28" class="page-link" role="button">28</a>
      </li>
      <li class="page-item">
        <a href="/page/27/index.html" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/page/112/index.html" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul>
    </div>
  </div>


    
</div>



            <footer class='row justify-content-center mb-4 pb-4 mx-0'>
  <div class='col-8 text-center'>
    <div>
      A collection of old stuff, new stuff and random stuff.
    </div>
    <div class='row text-primary mt-4'>
      <div class='col'>

        <a href='/feed.xml' title='Follow RSS feed' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#rss-fill'/>
          </svg>
        </a>

        <a href='mailto:kristian.koehntopp@gmail.com' title='Email' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#envelope'/>
          </svg>
        </a>

        <a href='https://github.com/isotopp' title='Follow on GitHub' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#github'/>
          </svg>
        </a>

        <a rel="me" href="https://infosec.exchange/@isotopp" title='Follow on Mastodon' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#mastodon'/>
          </svg>
        </a>

        
        <a href='http://steamcommunity.com/id/ixotopp' title='Follow on Steam' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#steam'/>
          </svg>
        </a>

        

        <a href='https://www.youtube.com/user/isotopp' title='Follow on YouTube' class=''>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'>
            <use xlink:href='/bootstrap-icons.svg#youtube'/>
          </svg>
        </a>
      </div>
    </div>
  </div>
</footer>


        </main>

	





<script src="https://blog.koehntopp.info/js/bootstrap.js"></script>




<script src="https://blog.koehntopp.info/js/lunr.js"></script>





<script src="https://blog.koehntopp.info/js/app.js"></script>


    </body>
</html>
