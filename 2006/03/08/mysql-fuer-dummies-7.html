<!doctype html>
<html lang="en">
    <head>
    <meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<title>MySQL für Dummies (7) | Die wunderbare Welt von Isotopp</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="apple-touch-icon" href="icon.png">
<link rel="favicon.ico" rel="icon" type="image/ico">
<link rel="canonical" href="https://blog.koehntopp.info/2006/03/08/mysql-fuer-dummies-7.html">


<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/feed.xml' title="Die wunderbare Welt von Isotopp">
<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/tags/mysql/feed.xml' title="Feed: mysql Articles for Die wunderbare Welt von Isotopp">
<link rel="alternate" type="application/rss+xml" href='https://blog.koehntopp.info/tags/review/feed.xml' title="Feed: review Articles for Die wunderbare Welt von Isotopp">




<meta name="generator" content="Hugo 0.111.3">
<meta property="og:title" content='MySQL für Dummies (7)' />
<meta property="og:site_name" content='Die wunderbare Welt von Isotopp' />


<meta property="og:locale" content="de_DE" />


<meta name="description" content='' />
<meta property="og:description" content='' />

<meta property="og:url" content="https://blog.koehntopp.info" />


<meta property="og:type" content="article" />
<meta name="article:published_time" content='2006-03-08T17:00:00Z' />



<meta property="og:image" content='https://blog.koehntopp.info/assets/img/background/rijksmuseum.jpg' />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:site" content='@isotopp' />
<meta name="twitter:creator" content='@isotopp' />
<meta property="twitter:title" content='MySQL für Dummies (7)' />
<meta property="twitter:description" content='' />
<meta property="twitter:image" content='https://blog.koehntopp.info/assets/img/background/rijksmuseum.jpg' />

<script type="application/ld+json">
    {"@context":"https://schema.org","@type":"WebSite","description":null,"headline":"MySQL für Dummies (7)","image":"/assets/img/background/rijksmuseum.jpg","name":"Die wunderbare Welt von Isotopp","url":"https://blog.koehntopp.info"}
</script>

    



<link rel="stylesheet" href="https://blog.koehntopp.info/style.min.6b600fb66ca1591ba6dcc9b3bdfc59ebd5c0fdc49622889f839fc36f71dde892.css">


    </head>
    <body>
        

        <nav class="navbar navbar-expand-lg navbar-light px-lg-4 pt-lg-4">
    <div class="container-fluid">
        <a class="navbar-brand justify-content-center" href="https://blog.koehntopp.info" rel="home" title="Die wunderbare Welt von Isotopp">
            <img alt="Kris" height='48' width='48' src='/assets/img/avatars/isotopp.jpg' class='p-0 me-3 d-block d-lg-inline'>
            <span class='h4 d-block d-lg-inline'>Die wunderbare Welt von Isotopp</span>
        </a>

        <button class="navbar-toggler ms-auto" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse text-center" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto">
                
                <li class="nav-item ">
                    <a class="nav-link" href="/about/">
                        <span class="">About</span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/contribute/">
                        <span class="">Contribute</span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/search/">
                        <span class=""><svg class='bi' height='1.5rem' width='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#search'/></svg></span>
                        
                    </a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/tags/">
                        <span class=""><svg class='bi' width='1.5rem' height='1.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#tags-fill'/></svg></span>
                        
                    </a>
                </li>
                
            </ul>
            
        </div>

    </div>
</nav>


        <main role="main" class="container-fluid p-0">

            




<div class="page">
  <article class="mysql-f%C3%BCr-dummies-7-page">
    <div class='row  justify-content-center text-center my-4 mx-0'>
      <header>
        <div class='col'>
          <h1 class="title mb-lg-4 text-white">
            MySQL für Dummies (7)
          </h1>
          <div class='text-uppercase text-light' style='letter-spacing: 0.1rem;'>
            <img alt='isotopp image' src='/assets/img/avatars/isotopp.jpg' class='me-1 p-0' style='width: 1.9rem; border-radius: 1rem;'>
            <a href="https://chaos.social/@isotopp" class='text-light text-decoration-none'>
                Kristian Köhntopp
            </a>

            
              <span class='d-none d-lg-inline'>-</span>
              <div class='d-block d-lg-inline'>March 8, 2006</div>
            

          </div>
        </div>
        
          <img alt='a featured image' src="/assets/img/background/rijksmuseum.jpg">
        
      </header>
    </div>

    <div class='row justify-content-center mx-0 mt-5 mb-5'>
      <div class='col-lg-8'>
        <p>Mein Freund Heinz ist Vertriebler, und manchmal sagen Vertriebler überraschend schlaue Dinge.
Heinz zum Beispiel sagt sehr gerne &ldquo;Niemand will Backup. Alle wollen Restore!&rdquo;
Er meint damit, daß ein Backup nicht nur ein lästiges Costcenter in der IT ist, sondern daß es außerdem keinen Mehrwert &ldquo;an sich&rdquo; darstellt.
Der Mehrwert liegt nicht in der Datensicherung, sondern in der Wiederherstellung der Daten.</p>
<p>Es ist sehr wichtig, dies im Kopf zu behalten, wenn man sein Backup plant:
Es geht nicht wirklich um Datensicherung, sondern es geht um einen Plan für die Recovery von verlorenen Daten.
Das beinhaltet nicht nur Überlegungen wie man welche Daten wiederherstellt, sondern auch, wie lange die Betriebsunterbrechung denn wohl dauern wird und ob das akzeptabel ist.
Überlegungen zum Restore enden nämlich (im Gegensatz zu Überlegungen zum Backup) oft auch in HA-Konzepten oder organisatorischen und personellen Problemstellungen.</p>
<h1 id="ein-guter-plan">
    <a href="#ein-guter-plan">
	Ein guter Plan
    </a>
</h1>
<p>Zwei Überlegungen gehen jeder Backup &ndash; Entschuldigung! &ndash; Recoveryplanung voran.
Der erste Gedanke ist:
Was brauche ich wirklich um für den Kunden &ldquo;operational&rdquo; auszusehen?
Wir bezeichnen diese Daten und die Systeme, die sie halten, als &ldquo;P-Daten&rdquo; und &ldquo;P-Systeme&rdquo; (&ldquo;P&rdquo; steht für &ldquo;Production&rdquo;).
Diese Daten müssen organisatorisch und technisch eine Einheit sein in der Form, daß sie möglichst schnell wieder verfügbar sind.
Es handelt sich dabei meistens um OLTP-Daten (Online Transaction Processing) aktueller Natur.</p>
<p>In einem Webshop sind diese Daten zum Beispiel der Katalog und Bestand, die notwendig sind, damit der Kunde auswählen kann, und die noch nicht bearbeiteten Orders und unbezahlte Rechnungen, die für den Versand und das Inkasso notwendig sind.</p>
<p>In einem Monitoring-System sind dies die aktuellen Zustände aller Systeme, und die offenen Tickets und Probleme.</p>
<p>Historische Daten, die nicht für die Produktion notwendig sind, sondern lediglich produktionsunterstützend verwendet werden, brauchen nicht so schnell wieder online zu sein.
Meist handelt es sich um historische Daten, aus denen Statistiken für den Vertrieb, den Endkunden oder andere Nutzer generiert werden.
Dies sind &ldquo;PS-Daten&rdquo; und &ldquo;PS-Systeme&rdquo; (Production Support).</p>
<p>In einem Webshop sind dies die Orderlogs mit erfüllten Ordern und alten Rechnungen, und die daraus generierten (und regenerierbaren) Statistikdaten.</p>
<p>In einem Monitoring-System wären dies die historischen Daten über Systemzustände und Performance.</p>
<p>Diese Daten sind wichtig, aber nicht essenziell für das Funktionieren des Kerngeschäftes.</p>
<p>Indem man diese Daten sinnvoll trennt, kann man Prozeduren entwickeln, die es einem erlauben, die Kerndaten von den &ldquo;Nice to have&rdquo;-Daten zu trennen und so bei großen Datenbeständen relativ schnell wieder zu recovern.</p>
<h1 id="konfiguration-mitsichern">
    <a href="#konfiguration-mitsichern">
	Konfiguration mitsichern
    </a>
</h1>
<p>MySQL speichert seine Daten alle im Datadir.
Legt man dort (oder eine Ebene höher) auch seine Konfiguration ab, kann man durch ein Sichern von Datadir (bzw. der Ebene höher) einen Komplettabzug aller seiner logischen Datenbankschemata bekommen.</p>
<p>Damit meine Datenbank auch mit der <code>my.cnf</code> in meinem Datadir startet und NUR mit dieser Konfiguration läuft, verwende ich ein Startscript wie dieses hier:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">linux:/export/data/rootforum # cat start
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="gp">#</span>! /bin/bash --
</span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">MYSQL_CMD_DIR=/usr/local/mysql-max-5.0.18-linux-i686-glibc23
</span></span></span><span class="line"><span class="cl"><span class="go">MYSQL_DIR=/export/data/rootforum
</span></span></span><span class="line"><span class="cl"><span class="go">MYSQL_UNIX_PORT=$MYSQL_DIR/mysql.sock
</span></span></span><span class="line"><span class="cl"><span class="go">MYSQL_TCP_PORT=3340
</span></span></span><span class="line"><span class="cl"><span class="go">export MYSQL_UNIX_PORT MYSQL_TCP_PORT MYSQL_DIR
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">cd $MYSQL_CMD_DIR
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="gp">$</span>MYSQL_CMD_DIR/bin/mysqld_safe --defaults-file<span class="o">=</span><span class="nv">$MYSQL_DIR</span>/my.cnf --datadir<span class="o">=</span><span class="nv">$MYSQL_DIR</span>/data <span class="p">&amp;</span>
</span></span></code></pre></div><p>Dieses Script startet den mysql_safe mit dem gegebenen Datadir und erzwingt dabei die Benutzung des korrekten Konfigurationsfiles.
Es erzwingt auch die Verwendung eines alternativen Ports und Unix Domain Sockets, da ich auf meinem System eine ganze Reihe von MySQL-Instanzen laufen habe.</p>
<p>Das Stopscript dazu findet einfach das PID-File in $MYSQL_DIR/data/*pid, und sendet ein &ldquo;kill -TERM&rdquo; an diesen Prozess.
MySQL schreibt dann seine Puffer geordnet auf Disk und beendet sich.
Man kann verifizieren, ob MySQL sich beendet hat, indem man wartet bis das PID-File verschwunden ist.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="gp">#</span>! /bin/bash --
</span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">MYSQL_DIR=/export/data/rootforum
</span></span></span><span class="line"><span class="cl"><span class="go">MYSQL_PID=$MYSQL_DIR/data/\*pid
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="gp">#</span> No Pid, no process - we are <span class="k">done</span>
</span></span><span class="line"><span class="cl"><span class="go">[ ! -f $MYSQL_PID ] &amp;&amp; exit 0
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="gp">#</span> No Pid in file, no process, we are <span class="k">done</span>
</span></span><span class="line"><span class="cl"><span class="go">pid=$(cat $MYSQL_DIR/data/\*pid)
</span></span></span><span class="line"><span class="cl"><span class="go">if [ -z &#34;$pid&#34; ]
</span></span></span><span class="line"><span class="cl"><span class="go">then
</span></span></span><span class="line"><span class="cl"><span class="go">  rm $MYSQL_PID
</span></span></span><span class="line"><span class="cl"><span class="go">  exit 0
</span></span></span><span class="line"><span class="cl"><span class="go">fi
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="gp">#</span> Stop server
</span></span><span class="line"><span class="cl"><span class="go">kill -TERM $pid
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="gp">#</span> Wait <span class="k">for</span> server stop
</span></span><span class="line"><span class="cl"><span class="go">while [ -f $MYSQL_PID ]
</span></span></span><span class="line"><span class="cl"><span class="go">do
</span></span></span><span class="line"><span class="cl"><span class="go">  sleep 1
</span></span></span><span class="line"><span class="cl"><span class="go">done
</span></span></span></code></pre></div><h1 id="das-binlog">
    <a href="#das-binlog">
	Das Binlog
    </a>
</h1>
<p>In Datadir befinden sich normalerweise die Unterverzeichnisse, die die logischen Datenbanken enthalten, die eigentlichen Daten, die von den einzelnen Storage-Engines in Dateien abgelegt werden, die Engine-spezifisch sind und die verschiedenen Logfiles.
Für eine Datensicherung ist es vor allen Dingen wichtig, daß das Binlog angeschaltet ist.
Das ist am einfachsten zu erreichen, indem man in seiner <code>my.cnf</code>-Datei einen Eintrag für das Binlog macht.
Trägt man nur einen Schalter <code>log-bin</code> ein, wird das Binlog mit <code>&lt;hostname&gt;-bin.xxxxxx</code> erzeugt, wobei <code>xxxxxx</code> eine laufende Nummer ist.
Es ist besser, dem Binlog gleich einen festen Namen zu geben, der sich nicht ändert, wenn sich der Hostname der Maschine ändert.</p>
<p>Außerdem kann man die Option <code>sync_binlog=1</code> setzen, die bewirkt, daß das Binlog nach jedem Kommando bzw. jeder Transaktion auch auf Disk geschrieben wird.
Das erzeugt ein wenig mehr Disk-Aktivität beim Schreiben des Binlog, stellt aber sicher, daß keine Kommandos am Ende des Binlogs fehlen, wenn man einen Crash erlebt.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">[mysqld]
</span></span></span><span class="line"><span class="cl"><span class="go">log-bin=linux-bin
</span></span></span><span class="line"><span class="cl"><span class="go">sync_binlog=1
</span></span></span></code></pre></div><p>Nachdem man dies konfiguriert und den Server einmal angehalten und neu gestartet hat, um die Konfiguration zu aktivieren, bekommt man eine Reihe von Binlog-Dateien und eine Indexdatei, die ein Verzeichnis dieser Dateien ist.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">linux:/export/data/rootforum/data # ls -l linux-bin*
</span></span></span><span class="line"><span class="cl"><span class="go">-rw-rw----  1 mysql mysql 1034 Feb 13 23:07 linux-bin.000001
</span></span></span><span class="line"><span class="cl"><span class="go">-rw-rw----  1 mysql mysql  421 Feb 14 09:06 linux-bin.000002
</span></span></span><span class="line"><span class="cl"><span class="go">-rw-rw----  1 mysql mysql 1940 Feb 14 12:28 linux-bin.000003
</span></span></span><span class="line"><span class="cl"><span class="go">-rw-rw----  1 mysql mysql  117 Feb 14 14:13 linux-bin.000004
</span></span></span><span class="line"><span class="cl"><span class="go">-rw-rw----  1 mysql mysql 9666 Feb 20 13:40 linux-bin.000005
</span></span></span><span class="line"><span class="cl"><span class="go">-rw-rw----  1 mysql mysql  650 Feb 20 15:29 linux-bin.000006
</span></span></span><span class="line"><span class="cl"><span class="go">-rw-rw----  1 mysql mysql   98 Mar  1 10:33 linux-bin.000007
</span></span></span><span class="line"><span class="cl"><span class="go">-rw-rw----  1 mysql mysql  133 Mar  1 10:33 linux-bin.index
</span></span></span><span class="line"><span class="cl"><span class="go">linux:/export/data/rootforum/data # cat linux-bin.index
</span></span></span><span class="line"><span class="cl"><span class="go">./linux-bin.000001
</span></span></span><span class="line"><span class="cl"><span class="go">./linux-bin.000002
</span></span></span><span class="line"><span class="cl"><span class="go">./linux-bin.000003
</span></span></span><span class="line"><span class="cl"><span class="go">./linux-bin.000004
</span></span></span><span class="line"><span class="cl"><span class="go">./linux-bin.000005
</span></span></span><span class="line"><span class="cl"><span class="go">./linux-bin.000006
</span></span></span><span class="line"><span class="cl"><span class="go">./linux-bin.000007
</span></span></span></code></pre></div><p>Die Binlog-Dateien enthalten alle Anweisungen, die Daten in Datadir verändern können in der richtigen Reihenfolge.
Mit dem Programm <code>mysqlbinlog</code> kann man sie sich ansehen.
Neben den eigentlichen Queries findet man dann auch noch weitere Anweisungen, die das Umfeld für diese Queries vorbereiten und einige Kommentare, die es einem erlauben, Queries desselben Threads zu identifizieren und zu isolieren.
Außerdem finden sich im Binlog die Resultcodes und Ausführungszeiten für diese Statements als Kommentar.</p>
<p>Ein Beispiel:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">linux:/export/data/rootforum # cat mysqlbinlog-3340
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="gp">#</span>! /bin/bash --
</span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">MYSQL_CMD_DIR=/usr/local/mysql-max-5.0.18-linux-i686-glibc23
</span></span></span><span class="line"><span class="cl"><span class="go">MYSQL_DIR=/export/data/rootforum
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="gp">$</span>MYSQL_CMD_DIR/bin/mysqlbinlog --defaults-file<span class="o">=</span><span class="nv">$MYSQL_DIR</span>/my.cnf <span class="nv">$@</span>
</span></span><span class="line"><span class="cl"><span class="go">linux:/export/data/rootforum # ./mysqlbinlog-3340 data/linux-bin.000006
</span></span></span><span class="line"><span class="cl"><span class="go">/\*!40019 SET @@session.max_insert_delayed_threads=0\*/;
</span></span></span><span class="line"><span class="cl"><span class="go">/\*!50003 SET @OLD_COMPLETION_TYPE=@@COMPLETION_TYPE,COMPLETION_TYPE=0\*/;
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="gp">#</span> at <span class="m">4</span>
</span></span><span class="line"><span class="cl"><span class="gp">#</span><span class="m">060220</span> 15:10:37 server id <span class="m">3340</span>  end_log_pos <span class="m">98</span>         Start: binlog v 4, server v 5.0.18-max-log created <span class="m">060220</span> 15:10:37 at startup
</span></span><span class="line"><span class="cl"><span class="go">ROLLBACK;
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="gp">#</span> at <span class="m">98</span>
</span></span><span class="line"><span class="cl"><span class="gp">#</span><span class="m">060220</span> 15:11:43 server id <span class="m">3340</span>  end_log_pos <span class="m">179</span>        Query   <span class="nv">thread_id</span><span class="o">=</span><span class="m">2</span>    <span class="nv">exec_time</span><span class="o">=</span><span class="m">0</span>      <span class="nv">error_code</span><span class="o">=</span><span class="m">0</span>
</span></span><span class="line"><span class="cl"><span class="go">SET TIMESTAMP=1140444703;
</span></span></span><span class="line"><span class="cl"><span class="go">SET @@session.foreign_key_checks=1, @@session.sql_auto_is_null=1, @@session.unique_checks=1;
</span></span></span><span class="line"><span class="cl"><span class="go">SET @@session.sql_mode=0;
</span></span></span><span class="line"><span class="cl"><span class="go">SET @@session.character_set_client=33,@@session.collation_connection=33,@@session.collation_server=33;
</span></span></span><span class="line"><span class="cl"><span class="go">drop database boom;
</span></span></span></code></pre></div><p>Das Script <code>mysqlbinlog-3340</code> ist mein Wrapper für mysqlbinlog, das einen Zeiger auf die passende Konfigurationsdatei und das zu verwendende Binary enthält.
Auf diese Weise spare ich etwas Tipparbeit.</p>
<p>Der Aufruf <code>mysqlbinlog &lt;name der Binlogdatei&gt;</code> gibt dann den Inhalt dieser Datei als SQL-Source aus.
Man kann diese Ausgabe in ein <code>mysql -u root -p</code> umleiten und so die Anweisungen erneut ausführen lassen.</p>
<p>Das eigentliche SQL sieht ein wenig komisch aus, ist aber gültig.
Kommentare der Form <code>/*! */</code> schließen dabei Statements ein, die nur ab einer bestimmten Version von MySQL verstanden werden sollen.
Die Versionsnummer wird dabei als <code>xyyzz</code> gegeben, etwa mit <code>x=4</code>, <code>yy=00</code> und <code>zz=19</code>.
Das erste Kommando wird also nur dann gelesen, wenn der Dump von einem MySQL 4.0.19 oder neuer verarbeitet wird.</p>
<p>Eine Operation wird immer von einem Kommentar eingeleitet, der die Binlog-Position (&ldquo;at 98&rdquo;) des Eintrags nennt, und besteht aus einer Reihe von vorbereitenden Kommandos und dann dem eigentlichen Kommando.
Die vorbereitenden Kommandos sind immer <code>use &lt;datenbankname&gt;</code>, wenn notwendig und eine Reihe von <code>SET</code>-Statements, darunter auch <code>SET TIMESTAMP</code>, der die Ausführungszeit des Kommandos als Unix-Timestamp enthält.
<code>SET TIMESTAMP</code> bewirkt, daß Funktionen wie <code>NOW()</code> bei der Ausführung aus dem Binlog nicht mehr die aktuelle Zeit zurückliefern, sondern die mit <code>SET TIMESTAMP</code> gesetzte Zeit.
Dabei besteht zurzeit ein wesentliches Problem mit MySQL 5.0 und der Funktion SYSDATE() - man sollte sich in MySQL 5.0 besser auf NOW() verlassen.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">root@localhost [(none)]&gt; SET TIMESTAMP=1;
</span></span></span><span class="line"><span class="cl"><span class="go">Query OK, 0 rows affected (0.00 sec)
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">root@localhost [(none)]&gt; SELECT NOW(), SYSDATE();
</span></span></span><span class="line"><span class="cl"><span class="go">+---------------------+---------------------+
</span></span></span><span class="line"><span class="cl"><span class="go">| NOW()               | SYSDATE()           |
</span></span></span><span class="line"><span class="cl"><span class="go">+---------------------+---------------------+
</span></span></span><span class="line"><span class="cl"><span class="go">| 1970-01-01 01:00:01 | 2006-03-01 10:55:44 |
</span></span></span><span class="line"><span class="cl"><span class="go">+---------------------+---------------------+
</span></span></span><span class="line"><span class="cl"><span class="go">1 row in set (0.33 sec)
</span></span></span></code></pre></div><h1 id="point-in-time-recovery-mit-dem-binlog">
    <a href="#point-in-time-recovery-mit-dem-binlog">
	Point in Time Recovery mit dem Binlog
    </a>
</h1>
<p>Man kann das Binlog nutzen, um nach einem Crash eine Point-in-Time Recovery zu fahren.
Zu diesem Zweck benötigt man ein Vollbackup, und alle Binlogs, die seit diesem Zeitpunkt angefallen sind.
Damit die Binlogs eine bessere Überlebenschance haben, wenn das System hard crashen sollte, legt man sie meistens auf einem anderen Dateisystem ab als das eigentliche Datadir.
Angenommen, man installiert seine Datenbanken alle nach <code>/export</code>, dann würde man seine Partitionierung so haben wollen:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">linux:/export/data/rootforum # df -Th
</span></span></span><span class="line"><span class="cl"><span class="go">Filesystem    Type    Size  Used Avail Use% Mounted on
</span></span></span><span class="line"><span class="cl"><span class="go">/dev/mapper/system-root
</span></span></span><span class="line"><span class="cl"><span class="go">          reiserfs    8.0G  6.2G  1.9G  77% /
</span></span></span><span class="line"><span class="cl"><span class="go">tmpfs        tmpfs    506M     0  506M   0% /dev/shm
</span></span></span><span class="line"><span class="cl"><span class="go">/dev/sda5     ext2     99M  8.9M   85M  10% /boot
</span></span></span><span class="line"><span class="cl"><span class="go">/dev/mapper/system-home
</span></span></span><span class="line"><span class="cl"><span class="go">          reiserfs    8.1G  6.6G  1.6G  81% /home
</span></span></span><span class="line"><span class="cl"><span class="go">/dev/mapper/system-data
</span></span></span><span class="line"><span class="cl"><span class="go">          reiserfs    600G  520G   83G  87% /export/data
</span></span></span><span class="line"><span class="cl"><span class="go">/dev/mapper/system-log
</span></span></span><span class="line"><span class="cl"><span class="go">          reiserfs    600G  5.2G  594G  99% /export/log
</span></span></span><span class="line"><span class="cl"><span class="go">linux:/export/data/rootforum # grep log-bin my.cnf
</span></span></span><span class="line"><span class="cl"><span class="go">log-bin=/export/log/rootforum/linux-bin
</span></span></span></code></pre></div><p>Angenommen man macht eine Vollsicherung von <code>/export/data/rootforum</code> am Montag, und sichert dann jeden Tag die Inhalte von <code>/export/log/rootforum</code> als inkrementelles Backup weg, dann kann man die Datenbank wie folgt rekonstruieren:</p>
<p>Falls nur <code>/export/data</code> verloren ist, rekonstruiert man <code>/export/data</code> vom Montag aus der Vollsicherung und spielt dann die Binlogs von Montag bis Freitag mit <code>mysqlbinlog</code> wieder ab, indem man sie in einen <code>mysql</code>-Commandline-Client reinpiped.
Da das Binlog kontinuierlich aufgezeichnet wird, kann man so bis zum Zeitpunkt des Crashes voran rollen.</p>
<p>Natürlich muss man das Binlog genau ab dem Zeitpunkt abspielen, an dem das Vollbackup endet.
Daher ist es wichtig, daß das Vollbackup als Snapshot erzeugt wird, also genau einen Point in der Zeit des Datenbankservers darstellt.
Man muss außerdem wissen, welchen Namen dieser Punkt als Binlog-Position ausgedrückt hat.
Es gibt verschiedene Möglichkeiten, dies zu erreichen, die weiter unten im Einzelnen diskutiert werden.</p>
<p>Falls <code>/export/data</code> und <code>/export/log</code> verloren sind, muss man beide Verzeichnisse wieder herstellen und kann nur bis zum Zeitpunkt des letzten inkrementellen Backups wieder voran rollen.
Daher wäre es schön, wenn man das Binlog nicht nur auf einer lokalen Platte sichern könnte, sondern auch noch einen Mechanismus hätte, der das Binlog &ldquo;live&rdquo; absaugt und woanders abspeichert.</p>
<p>Dieser Mechanismus ist genau ein Replication Slave.
Einen Slave setzt man auf, indem man ein Vollbackup des Masters auf einem anderen Rechner einspielt, und als Datenbankserver startet.
Auf dem Master erlaubt man dem Slave jetzt das Login mit dem Recht das Binlog abzusaugen:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">root@master [rootforum]&gt; CREATE USER &#34;slave&#34; IDENTIFIED BY &#34;pukcab&#34;;
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">root@master [rootforum]&gt; GRANT REPLICATION SLAVE ON \*.\* TO &#34;slave&#34;;
</span></span></span></code></pre></div><p>Dem Slave teilt man mit, wo sich der Master befindet und wie man sich dort einloggen kann. Außerdem muss der Slave natürlich wissen, auf welchem Stand er gerade ist.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">root@slave [rootforum]&gt; CHANGE MASTER TO MASTER_HOST=&#34;master&#34;, 
</span></span></span><span class="line"><span class="cl"><span class="go">    -&gt; MASTER_PORT=3306,
</span></span></span><span class="line"><span class="cl"><span class="go">    -&gt; MASTER_USER=&#34;slave&#34;,
</span></span></span><span class="line"><span class="cl"><span class="go">    -&gt; MASTER_PASSWORD=&#34;pukcab&#34;;
</span></span></span><span class="line"><span class="cl"><span class="go">root@slave [rootforum]&gt; CHANGE MASTER TO MASTER_LOG=&#34;linux-bin.000001&#34;,
</span></span></span><span class="line"><span class="cl"><span class="go">    -&gt; MASTER_POS=98;
</span></span></span></code></pre></div><p>Die Binlogs ab File 1, Position 98 müssen auf dem Master nun noch bereitstehen.
Der Slave wird sich nach einem <code>START SLAVE IO_THREAD</code> auf dem Master einloggen und damit beginnen, diese Files zu sich runterzuladen und sie im Slave abzuspeichern.
Nach einem <code>START SLAVE SQL_THREAD</code> wird er außerdem damit beginnen, sie auszuführen.
Mit <code>SHOW SLAVE STATUS\G</code> kann man den Slave dabei beobachten, wie er die Binlogs vom Master absaugt und lokal abspielt.</p>
<p>Mit dem Slave hat man also nicht nur einen Binlog-Sauger gebaut, sondern der Slave spielt die Binlogs auch gleich ab, sodass man zur Recovery einfach nur das Datadir vom Slave nehmen und auf den Master transportieren muss.
Das ist die schnellste und bequemste Methode der Recovery.</p>
<h1 id="physikalisches-vollbackup-erstellen">
    <a href="#physikalisches-vollbackup-erstellen">
	Physikalisches Vollbackup erstellen
    </a>
</h1>
<p>Ein binäres Vollbackup ist einfach ein Abzug von Datadir, in unserem Beispiel also <code>/export/data/rootforum</code>.
Dabei muss lediglich sichergestellt sein, daß die Datenbank ihre Finger aus dem Datadir fernhält während das Backup läuft.
Am einfachsten kann man das erreichen, indem man die Datenbank vor dem Backup runterfährt und nach dem Backup wieder startet.
Nur so kann man sicher erreichen, daß auch alle Daten auf der Platte und konsistent sind, während das Backup gemacht wird.</p>
<p>Wird lediglich MyISAM verwendet und kommt InnoDB nicht zum Einsatz, kann man statt des Runterfahrens auch <code>FLUSH TABLES WITH READ LOCK</code> machen - die Verbindung mit diesem Kommando muss aber während des ganzen Backup stehen bleiben, denn das &ldquo;UNLOCK TABLES&rdquo; wird automatisch durchgeführt, wenn die Verbindung des <code>FLUSH TABLES WITH READ LOCK</code>-Prozesses beendet wird.
&ldquo;FLUSH TABLES&rdquo; wirkt aber nicht auf InnoDB, sodass man bei Verwendung von InnoDB sowieso die Datenbank runterfahren muss.</p>
<p>Damit die Downtime der Datenbank möglichst klein ist, verwendet man am besten einen Volume Manager mit Snapshots.
Das Backup kann dann so ausgeführt werden:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">! /bin/sh --
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">SNAPSIZE=4G
</span></span></span><span class="line"><span class="cl"><span class="go">pass=geheim
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">cd /export/data/rootforum
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="gp">#</span> Optional: Neues Binlog anfangen
</span></span><span class="line"><span class="cl"><span class="go">./mysql-3340 -u root -p$pass &#39;flush logs&#39;
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="gp">#</span> Snap database
</span></span><span class="line"><span class="cl"><span class="go">./stop
</span></span></span><span class="line"><span class="cl"><span class="go">name=$(tail -1 /export/log/rootforum/linux-bin.index)
</span></span></span><span class="line"><span class="cl"><span class="go">size=$(stat -c &#39;%s&#39; $name)
</span></span></span><span class="line"><span class="cl"><span class="go">echo &#34;binlog position $name $size&#34; &gt; /export/data/rootforum/data/restore.info
</span></span></span><span class="line"><span class="cl"><span class="go">lvcreate -s -L $SNAPSIZE -n snap /dev/system/data
</span></span></span><span class="line"><span class="cl"><span class="go">./start
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="gp">#</span> Backup snapshot
</span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">mount /dev/system/snap /export/snap
</span></span></span><span class="line"><span class="cl"><span class="go">dobackup /export/snap/rootforum
</span></span></span><span class="line"><span class="cl"><span class="go">umount /export/snap
</span></span></span><span class="line"><span class="cl"><span class="go">lvchange -a n /dev/system/snap
</span></span></span><span class="line"><span class="cl"><span class="go">lvremove /dev/system/snap
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="gp">#</span> Optional: Binlog kürzen
</span></span><span class="line"><span class="cl"><span class="go">./mysql-3340 -u root -p$pass -e &#34;purge master logs to &#39;$name&#39;&#34;
</span></span></span></code></pre></div><p>Das Script hält erzeugt erst einmal ein neues Binlog, indem es ein &ldquo;FLUSH LOGS&rdquo;-Kommando absetzt.</p>
<p>Danach hält es die Datenbank mit dem Stopscript kurz an.
Sobald das der Fall ist, kann die zum Backup gehörende Binlog-Position bestimmt werden und im Backup abgespeichert werden.
Die zum Backup passende Binlog-Position bestimmt man dabei am einfachsten, indem man den Namen und die Größe der letzten im Index stehenden Binlog-Datei aufzeichnet.
Das Binlog ist gerade neu erzeugt worden, wird also relativ klein sein.</p>
<p>Mithilfe von Linux LVM wird nun ein Snapshot des Dateisystems erzeugt.
Das geht sehr schnell, und braucht fast keine Zeit.
Die Datenbank kann dann neu gestartet werden und ist weiter operabel.</p>
<p>Das eigentliche Backup wird dann erzeugt, indem der Snapshot gemountet wird, und das eigentliche Backupscript dobackup aufgerufen wird, um das Backup auf Band zu schreiben.
Danach wird der Snapshot abgemeldet und zerstört.</p>
<p>Sobald dies alles durch ist, ist sichergestellt, daß wir ein neues Vollbackup haben und alle Binlogs, die älter sind als das Backup können mit einem <code>PURGE MASTER LOGS</code>-Kommando weggeworfen werden.</p>
<h1 id="logisches-vollbackup-erstellen">
    <a href="#logisches-vollbackup-erstellen">
	Logisches Vollbackup erstellen
    </a>
</h1>
<p>Manche Leute bevorzugen statt eines physikalischen Vollbackups der Datenbankdateien ein logisches Backup, also das Backup von SQL-Statements, die den Inhalt der Datenbank neu erzeugen können.
Auch das ist mit MySQL möglich, und zwar, indem man <code>mysqldump</code> verwendet.</p>
<p>Mit der Option <code>--master-data</code> wird dabei ein <code>CHANGE MASTER</code> Statement erzeugt, das die Binlog-Position aufzeichnet, die zum Backup passt.
Setzt man <code>--master-data=2</code> wird dasselbe Statement auch generiert, aber als Kommentar.</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">linux:/export/data/rootforum # ./mysqldump-3340 --master-data rootforum | head -24
</span></span></span><span class="line"><span class="cl"><span class="go">-- MySQL dump 10.10
</span></span></span><span class="line"><span class="cl"><span class="go">--
</span></span></span><span class="line"><span class="cl"><span class="go">-- Host: localhost    Database: rootforum
</span></span></span><span class="line"><span class="cl"><span class="go">-- ------------------------------------------------------
</span></span></span><span class="line"><span class="cl"><span class="go">-- Server version       5.0.18-max-log
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">/\*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT \*/;
</span></span></span><span class="line"><span class="cl"><span class="go">/\*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS \*/;
</span></span></span><span class="line"><span class="cl"><span class="go">/\*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION \*/;
</span></span></span><span class="line"><span class="cl"><span class="go">/\*!40101 SET NAMES utf8 \*/;
</span></span></span><span class="line"><span class="cl"><span class="go">/\*!40103 SET @OLD_TIME_ZONE=@@TIME_ZONE \*/;
</span></span></span><span class="line"><span class="cl"><span class="go">/\*!40103 SET TIME_ZONE=&#39;+00:00&#39; \*/;
</span></span></span><span class="line"><span class="cl"><span class="go">/\*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 \*/;
</span></span></span><span class="line"><span class="cl"><span class="go">/\*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 \*/;
</span></span></span><span class="line"><span class="cl"><span class="go">/\*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE=&#39;NO_AUTO_VALUE_ON_ZERO&#39; \*/;
</span></span></span><span class="line"><span class="cl"><span class="go">/\*!40111 SET @OLD_SQL_NOTES=@@SQL_NOTES, SQL_NOTES=0 \*/;
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">--
</span></span></span><span class="line"><span class="cl"><span class="go">-- Position to start replication or point-in-time recovery from
</span></span></span><span class="line"><span class="cl"><span class="go">--
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">CHANGE MASTER TO MASTER_LOG_FILE=&#39;linux-bin.000007&#39;, MASTER_LOG_POS=879;
</span></span></span><span class="line"><span class="cl"><span class="go">...
</span></span></span></code></pre></div><p>Damit das Backup konsistent ist, müssen außerdem die Optionen <code>--single-transaction</code> (wenn ausschließlich InnoDB verwendet wird) oder <code>--lock-all-tables</code> (geht für alle Tabellentypen, blockiert aber die Datenbank für die Dauer des Dumps) verwendet werden.
Die beiden Optionen schließen sich gegenseitig aus.
Die Option <code>--all-databases</code> sichert dann alle Datenbanken.
Damit Trigger und Stored Functions/Stored Procedures auch mit gesichert werden, müssen außerdem die Optionen <code>--triggers</code> und <code>--routines</code> mit angegeben werden.</p>
<p>Verwendet man <code>--lock-all-tables</code>, kann man außerdem zusätzlich noch <code>--flush-logs</code> und <code>--delete-master-logs</code> mitgeben, um vor dem Backup ein <code>FLUSH LOGS</code>-Kommando laufen zu lassen und nach dem Backup die Binlogs, die älter als das Backup sind, zu löschen.</p>
<p>Das komplette Kommando kann also so aussehen:</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-console" data-lang="console"><span class="line"><span class="cl"><span class="go">linux:/export/data/rootforum # cat ./mysqldump-3340
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="gp">#</span>! /bin/bash --
</span></span><span class="line"><span class="cl"><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="go">MYSQL_CMD_DIR=/usr/local/mysql-max-5.0.18-linux-i686-glibc23
</span></span></span><span class="line"><span class="cl"><span class="go">MYSQL_DIR=/export/data/rootforum
</span></span></span><span class="line"><span class="cl"><span class="go"></span><span class="err">
</span></span></span><span class="line"><span class="cl"><span class="err"></span><span class="gp">$</span>MYSQL_CMD_DIR/bin/mysqldump --defaults-file<span class="o">=</span><span class="nv">$MYSQL_DIR</span>/my.cnf <span class="s2">&#34;</span><span class="nv">$@</span><span class="s2">&#34;</span>
</span></span><span class="line"><span class="cl"><span class="go">linux:/export/data/rootforum # ./mysqldump-3340 -u root --master-data --lock-all-tables --triggers --routines --all-databases --flush-logs --delete-master-logs | gzip -9 &gt; /export/backups/backup.sql.gz
</span></span></span></code></pre></div><h1 id="inkrementelle-backups-erstellen">
    <a href="#inkrementelle-backups-erstellen">
	Inkrementelle Backups erstellen
    </a>
</h1>
<p>Eine inkrementelle Sicherung besteht dann lediglich in einer Sicherung der Binlogs im Logdir.
Insbesondere wenn <code>sync_binlogs</code> eingeschaltet sind, ist es also ausreichend, einfach <code>/export/logs/rootforum</code> auf Tape zu ziehen - auch bei laufender Datenbank.</p>
<p>Man muss sich überlegen, wie oft man Vollbackups ziehen will.
Vollbackups mit dieser Methode blockieren die Datenbank oder erfordern ein kurzes Herunterfahren des Datenbankservers.
Inkrementelle Backups können bei laufendem Server gezogen werden.
Mit einem Vollbackup kann man jedoch schnell recovern, sind außerdem noch Binlogs abzuspielen, kann die Recovery je nach Menge der Binlogs länger dauern.
Je nach Änderungsrate kann es also notwendig werden, öfter Vollbackups zu ziehen.</p>
<h1 id="backup-und-replikation">
    <a href="#backup-und-replikation">
	Backup und Replikation
    </a>
</h1>
<p>Eine andere Möglichkeit besteht darin, wie oben angesprochen einen Replication Slave aufzusetzen und die Sicherung des Master-Servers gar nicht mehr durchzuführen.
Das Backup auf Tape erfolgt dann durch Runterfahren des Slave, und gemütlicher Sicherung des Slave auf Band.
Startet man den Slave neu, zieht er sich die Binlogs vom Master, die während der Downtime angefallen sind, nachträglich runter und fängt an, diese abzuarbeiten.
Der Master wird von dieser Aktion niemals in seiner Arbeit unterbrochen oder seiner Leistung beeinträchtigt.</p>
<p>Recovery besteht darin, den Slave runterzufahren und das Datadir des Slave auf den Master zu schieben.
Dort muss man dann noch die <code>master.info</code>-Datei des Slave löschen und man hat einen neuen Master.</p>
<p>Die Pflege des Masters besteht darin, per Cron alle Binlogs zu löschen, die so alt sind, daß der Slave sie garantiert nicht mehr braucht.
Man kann im Cron also ein <code>PURGE MASTER LOGS BEFORE NOW() - INTERVAL 7 DAY</code> oder so per Script einmal pro Tag abfahren.</p>
<p>Backup mit Replikation ist also bequemer, unterbrechungsfrei und die Recovery ist schneller.</p>

      </div>
    </div>

    
    
    <div class='row justify-content-center mb-3 mx-0'>
      <div class='col-lg-8 text-center'>
        <span class='letter-spacing-01 text-uppercase text-secondary me-2'>Share</span>
        <a href='https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fblog.koehntopp.info%2f2006%2f03%2f08%2fmysql-fuer-dummies-7.html' target='_blank' class='text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#facebook'/></svg>
        </a>

        <a href='http://www.reddit.com/submit?url=https%3a%2f%2fblog.koehntopp.info%2f2006%2f03%2f08%2fmysql-fuer-dummies-7.html&title=MySQL%20f%c3%bcr%20Dummies%20%287%29' target='_blank' class='text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#reddit'/></svg>
        </a>
        <a href='mailto:?subject=MySQL%20f%c3%bcr%20Dummies%20%287%29&body=https%3a%2f%2fblog.koehntopp.info%2f2006%2f03%2f08%2fmysql-fuer-dummies-7.html' target='_blank' class='text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#envelope-fill'/></svg>
        </a>
      </div>
    </div>

    
    
    <div class='row justify-content-center py-3 mb-3 mx-0'>
      <div class='col-lg-8 text-center'>
        <span class='letter-spacing-01 text-uppercase text-secondary me-2'>Tags</span>
        
          <a href="/tags/#mysql" class='btn btn-sm btn-outline-primary mb-1'>
            <svg class="bi" width="1rem" height="1rem" fill="currentColor"><use xlink:href="/bootstrap-icons.svg#tag-fill"></use></svg>
            mysql
          </a>
        
          <a href="/tags/#lang_de" class='btn btn-sm btn-outline-primary mb-1'>
            <svg class="bi" width="1rem" height="1rem" fill="currentColor"><use xlink:href="/bootstrap-icons.svg#tag-fill"></use></svg>
            lang_de
          </a>
        
      </div>
    </div>

    
    
    
    
    <div class='row justify-content-center py-3 mb-3 mx-0'>
      <div class='col-lg-8 text-center'>
        <a href="https://github.com/isotopp/isotopp.github.io/edit/main/content/posts/2006-03-08-mysql-fuer-dummies-7.md" rel="noopener noreferrer" target="_blank">
            <span class='letter-spacing-01 text-uppercase text-secondary me-2'>Suggest Changes</span>
        </a>
      </div>
    </div>
    

    <div class='row justify-content-center mb-5 pt-5 border-top mx-0'>
      <div class='col-lg-4 text-center text-lg-start'>
        
          <div>
            <div class='letter-spacing-01 text-uppercase text-secondary'>
              Next Post
            </div>
            <a class='text-decoration-none' href="https://blog.koehntopp.info/2006/03/10/counterstrike-am-hindukusch.html">Counterstrike am Hindukusch</a>
          </div>
        
      </div>

      <div class='col-lg-4 text-lg-end mt-5 mt-lg-0 text-center'>
        
          <div>
            <div class='letter-spacing-01 text-uppercase text-secondary'>
              Previous Post
            </div>
            <a class='text-decoration-none' href="https://blog.koehntopp.info/2006/03/07/mysql-fuer-dummies-6.html">MySQL für Dummies (6)</a>
          </div>
        
      </div>
    </div>

    
    </article>
</div>



            <footer class='row justify-content-center mb-4 pb-4 mx-0'>
  <div class='col-8 text-center'>
    <div>
      A collection of old stuff, new stuff and random stuff. 
    </div>
    <div class='row text-primary mt-4'>
      <div class='col'>

        <a href='/feed.xml' title='Follow RSS feed' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#rss-fill'/></svg>
        </a>

        <a href='mailto:kristian.koehntopp@gmail.com' title='Email' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#envelope'/></svg>
        </a>

        <a href='https://github.com/isotopp' title='Follow on GitHub' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#github'/></svg>
        </a>

	<a rel="me" href="https://chaos.social/@isotopp" title='Follow on Mastodon' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#mastodon'/></svg>
	</a>

        <a href='https://www.reddit.com/user/isotopp' title='Follow on Reddit' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#reddit'/></svg>
        </a>

        <a href='http://steamcommunity.com/id/ixotopp' title='Follow on Steam' class='me-3 text-decoration-none'>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#steam'/></svg>
        </a>



        <a href='https://www.youtube.com/user/isotopp' title='Follow on YouTube' class=''>
          <svg class='bi' height='2.5rem' width='2.5rem' fill='currentColor'><use xlink:href='/bootstrap-icons.svg#youtube'/></svg>
        </a>

      </div>
    </div>
  </div>
</footer>


        </main>

	





<script src="https://blog.koehntopp.info/js/bootstrap.js"></script>




<script src="https://blog.koehntopp.info/js/lunr.js"></script>





<script src="https://blog.koehntopp.info/js/app.js"></script>


    </body>
</html>
